module.exports=[59004,(e,t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.PrefixingKeyValueCache=void 0;let i=Symbol("prefixesAreUnnecessaryForIsolation");class o{constructor(e,t){this.wrapped=e,o.prefixesAreUnnecessaryForIsolation(e)?(this.prefix="",this[i]=!0):this.prefix=t}get(e){return this.wrapped.get(this.prefix+e)}set(e,t,r){return this.wrapped.set(this.prefix+e,t,r)}delete(e){return this.wrapped.delete(this.prefix+e)}static prefixesAreUnnecessaryForIsolation(e){return i in e}static cacheDangerouslyDoesNotNeedPrefixesForIsolation(e){return new s(e)}}r.PrefixingKeyValueCache=o;class s{constructor(e){this.wrapped=e,this[n]=!0}get(e){return this.wrapped.get(e)}set(e,t,r){return this.wrapped.set(e,t,r)}delete(e){return this.wrapped.delete(e)}}n=i},71180,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;let n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,o="object"==typeof process&&process?process:{},s=(e,t,r,n)=>{"function"==typeof o.emitWarning?o.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},a=globalThis.AbortController,l=globalThis.AbortSignal;if(void 0===a){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},a=class{constructor(){t()}signal=new l;abort(e){if(!this.signal.aborted){for(let t of(this.signal.reason=e,this.signal.aborted=!0,this.signal._onabort))t(e);this.signal.onabort?.(e)}}};let e=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");let u=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),c=e=>u(e)?e<=256?Uint8Array:e<=65536?Uint16Array:e<=0x100000000?Uint32Array:e<=Number.MAX_SAFE_INTEGER?d:null:null;class d extends Array{constructor(e){super(e),this.fill(0)}}class p{heap;length;static #e=!1;static create(e){let t=c(e);if(!t)return[];p.#e=!0;let r=new p(e,t);return p.#e=!1,r}constructor(e,t){if(!p.#e)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class h{#t;#r;#n;#i;#o;#s;#a;#l;get perf(){return this.#l}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#u;#c;#d;#p;#h;#f;#m;#y;#v;#g;#T;#E;#_;#S;#b;#P;#O;#I;#w;static unsafeExposeInternals(e){return{starts:e.#_,ttls:e.#S,autopurgeTimers:e.#b,sizes:e.#E,keyMap:e.#d,keyList:e.#p,valList:e.#h,next:e.#f,prev:e.#m,get head(){return e.#y},get tail(){return e.#v},free:e.#g,isBackgroundFetch:t=>e.#A(t),backgroundFetch:(t,r,n,i)=>e.#N(t,r,n,i),moveToTail:t=>e.#x(t),indexes:t=>e.#R(t),rindexes:t=>e.#D(t),isStale:t=>e.#L(t)}}get max(){return this.#t}get maxSize(){return this.#r}get calculatedSize(){return this.#c}get size(){return this.#u}get fetchMethod(){return this.#s}get memoMethod(){return this.#a}get dispose(){return this.#n}get onInsert(){return this.#i}get disposeAfter(){return this.#o}constructor(e){const{max:t=0,ttl:r,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:d,allowStale:f,dispose:m,onInsert:y,disposeAfter:v,noDisposeOnSet:g,noUpdateTTL:T,maxSize:E=0,maxEntrySize:_=0,sizeCalculation:S,fetchMethod:b,memoMethod:P,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:A,ignoreFetchAbort:N,perf:x}=e;if(void 0!==x&&"function"!=typeof x?.now)throw TypeError("perf option must have a now() method if specified");if(this.#l=x??n,0!==t&&!u(t))throw TypeError("max option must be a nonnegative integer");const R=t?c(t):Array;if(!R)throw Error("invalid max value: "+t);if(this.#t=t,this.#r=E,this.maxEntrySize=_||this.#r,this.sizeCalculation=S,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==P&&"function"!=typeof P)throw TypeError("memoMethod must be a function if defined");if(this.#a=P,void 0!==b&&"function"!=typeof b)throw TypeError("fetchMethod must be a function if specified");if(this.#s=b,this.#O=!!b,this.#d=new Map,this.#p=Array(t).fill(void 0),this.#h=Array(t).fill(void 0),this.#f=new R(t),this.#m=new R(t),this.#y=0,this.#v=0,this.#g=p.create(t),this.#u=0,this.#c=0,"function"==typeof m&&(this.#n=m),"function"==typeof y&&(this.#i=y),"function"==typeof v?(this.#o=v,this.#T=[]):(this.#o=void 0,this.#T=void 0),this.#P=!!this.#n,this.#w=!!this.#i,this.#I=!!this.#o,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!T,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!N,0!==this.maxEntrySize){if(0!==this.#r&&!u(this.#r))throw TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#C()}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!d,this.ttlResolution=u(o)||0===o?o:1,this.ttlAutopurge=!!a,this.ttl=r||0,this.ttl){if(!u(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#M()}if(0===this.#t&&0===this.ttl&&0===this.#r)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#r){const e="LRU_CACHE_UNBOUNDED";i.has(e)||(i.add(e),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,h))}}getRemainingTTL(e){return this.#d.has(e)?1/0:0}#M(){let e=new d(this.#t),t=new d(this.#t);this.#S=e,this.#_=t;let r=this.ttlAutopurge?Array(this.#t):void 0;this.#b=r,this.#k=(n,i,o=this.#l.now())=>{if(t[n]=0!==i?o:0,e[n]=i,r?.[n]&&(clearTimeout(r[n]),r[n]=void 0),0!==i&&r){let e=setTimeout(()=>{this.#L(n)&&this.#F(this.#p[n],"expire")},i+1);e.unref&&e.unref(),r[n]=e}},this.#j=r=>{t[r]=0!==e[r]?this.#l.now():0},this.#U=(r,o)=>{if(e[o]){let s=e[o],a=t[o];if(!s||!a)return;r.ttl=s,r.start=a,r.now=n||i();let l=r.now-a;r.remainingTTL=s-l}};let n=0,i=()=>{let e=this.#l.now();if(this.ttlResolution>0){n=e;let t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{let o=this.#d.get(r);if(void 0===o)return 0;let s=e[o],a=t[o];return s&&a?s-((n||i())-a):1/0},this.#L=r=>{let o=t[r],s=e[r];return!!s&&!!o&&(n||i())-o>s}}#j=()=>{};#U=()=>{};#k=()=>{};#L=()=>!1;#C(){let e=new d(this.#t);this.#c=0,this.#E=e,this.#G=t=>{this.#c-=e[t],e[t]=0},this.#q=(e,t,r,n)=>{if(this.#A(t))return 0;if(!u(r))if(n){if("function"!=typeof n)throw TypeError("sizeCalculation must be a function");if(!u(r=n(t,e)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#K=(t,r,n)=>{if(e[t]=r,this.#r){let r=this.#r-e[t];for(;this.#c>r;)this.#H(!0)}this.#c+=e[t],n&&(n.entrySize=r,n.totalCalculatedSize=this.#c)}}#G=e=>{};#K=(e,t,r)=>{};#q=(e,t,r,n)=>{if(r||n)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#R({allowStale:e=this.allowStale}={}){if(this.#u)for(let t=this.#v;this.#B(t)&&((e||!this.#L(t))&&(yield t),t!==this.#y);)t=this.#m[t]}*#D({allowStale:e=this.allowStale}={}){if(this.#u)for(let t=this.#y;this.#B(t)&&((e||!this.#L(t))&&(yield t),t!==this.#v);)t=this.#f[t]}#B(e){return void 0!==e&&this.#d.get(this.#p[e])===e}*entries(){for(let e of this.#R())void 0===this.#h[e]||void 0===this.#p[e]||this.#A(this.#h[e])||(yield[this.#p[e],this.#h[e]])}*rentries(){for(let e of this.#D())void 0===this.#h[e]||void 0===this.#p[e]||this.#A(this.#h[e])||(yield[this.#p[e],this.#h[e]])}*keys(){for(let e of this.#R()){let t=this.#p[e];void 0===t||this.#A(this.#h[e])||(yield t)}}*rkeys(){for(let e of this.#D()){let t=this.#p[e];void 0===t||this.#A(this.#h[e])||(yield t)}}*values(){for(let e of this.#R())void 0===this.#h[e]||this.#A(this.#h[e])||(yield this.#h[e])}*rvalues(){for(let e of this.#D())void 0===this.#h[e]||this.#A(this.#h[e])||(yield this.#h[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let r of this.#R()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,this.#p[r],this))return this.get(this.#p[r],t)}}forEach(e,t=this){for(let r of this.#R()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#p[r],this)}}rforEach(e,t=this){for(let r of this.#D()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#p[r],this)}}purgeStale(){let e=!1;for(let t of this.#D({allowStale:!0}))this.#L(t)&&(this.#F(this.#p[t],"expire"),e=!0);return e}info(e){let t=this.#d.get(e);if(void 0===t)return;let r=this.#h[t],n=this.#A(r)?r.__staleWhileFetching:r;if(void 0===n)return;let i={value:n};if(this.#S&&this.#_){let e=this.#S[t],r=this.#_[t];e&&r&&(i.ttl=e-(this.#l.now()-r),i.start=Date.now())}return this.#E&&(i.size=this.#E[t]),i}dump(){let e=[];for(let t of this.#R({allowStale:!0})){let r=this.#p[t],n=this.#h[t],i=this.#A(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;let o={value:i};if(this.#S&&this.#_){o.ttl=this.#S[t];let e=this.#l.now()-this.#_[t];o.start=Math.floor(Date.now()-e)}this.#E&&(o.size=this.#E[t]),e.unshift([r,o])}return e}load(e){for(let[t,r]of(this.clear(),e)){if(r.start){let e=Date.now()-r.start;r.start=this.#l.now()-e}this.set(t,r.value,r)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;let{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=r,{noUpdateTTL:l=this.noUpdateTTL}=r,u=this.#q(e,t,r.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#F(e,"set"),this;let c=0===this.#u?void 0:this.#d.get(e);if(void 0===c)c=0===this.#u?this.#v:0!==this.#g.length?this.#g.pop():this.#u===this.#t?this.#H(!1):this.#u,this.#p[c]=e,this.#h[c]=t,this.#d.set(e,c),this.#f[this.#v]=c,this.#m[c]=this.#v,this.#v=c,this.#u++,this.#K(c,u,a),a&&(a.set="add"),l=!1,this.#w&&this.#i?.(t,e,"add");else{this.#x(c);let r=this.#h[c];if(t!==r){if(this.#O&&this.#A(r)){r.__abortController.abort(Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!o&&(this.#P&&this.#n?.(t,e,"set"),this.#I&&this.#T?.push([t,e,"set"]))}else!o&&(this.#P&&this.#n?.(r,e,"set"),this.#I&&this.#T?.push([r,e,"set"]));if(this.#G(c),this.#K(c,u,a),this.#h[c]=t,a){a.set="replace";let e=r&&this.#A(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update");this.#w&&this.onInsert?.(t,e,t===r?"update":"replace")}if(0===n||this.#S||this.#M(),this.#S&&(l||this.#k(c,n,i),a&&this.#U(a,c)),!o&&this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}return this}pop(){try{for(;this.#u;){let e=this.#h[this.#y];if(this.#H(!0),this.#A(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}}}#H(e){let t=this.#y,r=this.#p[t],n=this.#h[t];return this.#O&&this.#A(n)?n.__abortController.abort(Error("evicted")):(this.#P||this.#I)&&(this.#P&&this.#n?.(n,r,"evict"),this.#I&&this.#T?.push([n,r,"evict"])),this.#G(t),this.#b?.[t]&&(clearTimeout(this.#b[t]),this.#b[t]=void 0),e&&(this.#p[t]=void 0,this.#h[t]=void 0,this.#g.push(t)),1===this.#u?(this.#y=this.#v=0,this.#g.length=0):this.#y=this.#f[t],this.#d.delete(r),this.#u--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=this.#d.get(e);if(void 0!==i){let e=this.#h[i];if(this.#A(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#L(i))return r&&this.#j(i),n&&(n.has="hit",this.#U(n,i)),!0;n&&(n.has="stale",this.#U(n,i))}else n&&(n.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,n=this.#d.get(e);if(void 0===n||!r&&this.#L(n))return;let i=this.#h[n];return this.#A(i)?i.__staleWhileFetching:i}#N(e,t,r,n){let i=void 0===t?void 0:this.#h[t];if(this.#A(i))return i;let o=new a,{signal:s}=r;s?.addEventListener("abort",()=>o.abort(s.reason),{signal:o.signal});let l={signal:o.signal,options:r,context:n},u=(n,i=!1)=>{let{aborted:s}=o.signal,a=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(s&&!i?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),s&&!a&&!i)return c(o.signal.reason);let u=this.#h[t];return(u===p||a&&i&&void 0===u)&&(void 0===n?void 0!==p.__staleWhileFetching?this.#h[t]=p.__staleWhileFetching:this.#F(e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,n,l.options))),n},c=n=>{let{aborted:i}=o.signal,s=i&&r.allowStaleOnFetchAbort,a=s||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection;if(this.#h[t]===p&&(l&&void 0!==p.__staleWhileFetching?s||(this.#h[t]=p.__staleWhileFetching):this.#F(e,"fetch")),a)return r.status&&void 0!==p.__staleWhileFetching&&(r.status.returnedStale=!0),p.__staleWhileFetching;if(p.__returned===p)throw n},d=(t,n)=>{let s=this.#s?.(e,i,l);s&&s instanceof Promise&&s.then(e=>t(void 0===e?void 0:e),n),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))})};r.status&&(r.status.fetchDispatched=!0);let p=new Promise(d).then(u,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),c(e))),h=Object.assign(p,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return void 0===t?(this.set(e,h,{...l.options,status:void 0}),t=this.#d.get(e)):this.#h[t]=h,h}#A(e){return!!this.#O&&!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof a}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:h=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:y,signal:v}=t;if(!this.#O)return y&&(y.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:h,ignoreFetchAbort:p,status:y,signal:v},T=this.#d.get(e);if(void 0===T){y&&(y.fetch="miss");let t=this.#N(e,T,g,f);return t.__returned=t}{let t=this.#h[T];if(this.#A(t)){let e=r&&void 0!==t.__staleWhileFetching;return y&&(y.fetch="inflight",e&&(y.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let i=this.#L(T);if(!m&&!i)return y&&(y.fetch="hit"),this.#x(T),n&&this.#j(T),y&&this.#U(y,T),t;let o=this.#N(e,T,g,f),s=void 0!==o.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",s&&i&&(y.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}async forceFetch(e,t={}){let r=await this.fetch(e,t);if(void 0===r)throw Error("fetch() returned undefined");return r}memo(e,t={}){let r=this.#a;if(!r)throw Error("no memoMethod provided to constructor");let{context:n,forceRefresh:i,...o}=t,s=this.get(e,o);if(!i&&void 0!==s)return s;let a=r(e,s,{options:o,context:n});return this.set(e,a,o),a}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=t,s=this.#d.get(e);if(void 0!==s){let t=this.#h[s],a=this.#A(t);return(o&&this.#U(o,s),this.#L(s))?(o&&(o.get="stale"),a)?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||this.#F(e,"expire"),o&&r&&(o.returnedStale=!0),r?t:void 0):(o&&(o.get="hit"),a)?t.__staleWhileFetching:(this.#x(s),n&&this.#j(s),t)}o&&(o.get="miss")}#$(e,t){this.#m[t]=e,this.#f[e]=t}#x(e){e!==this.#v&&(e===this.#y?this.#y=this.#f[e]:this.#$(this.#m[e],this.#f[e]),this.#$(this.#v,e),this.#v=e)}delete(e){return this.#F(e,"delete")}#F(e,t){let r=!1;if(0!==this.#u){let n=this.#d.get(e);if(void 0!==n)if(this.#b?.[n]&&(clearTimeout(this.#b?.[n]),this.#b[n]=void 0),r=!0,1===this.#u)this.#Q(t);else{this.#G(n);let r=this.#h[n];if(this.#A(r)?r.__abortController.abort(Error("deleted")):(this.#P||this.#I)&&(this.#P&&this.#n?.(r,e,t),this.#I&&this.#T?.push([r,e,t])),this.#d.delete(e),this.#p[n]=void 0,this.#h[n]=void 0,n===this.#v)this.#v=this.#m[n];else if(n===this.#y)this.#y=this.#f[n];else{let e=this.#m[n];this.#f[e]=this.#f[n];let t=this.#f[n];this.#m[t]=this.#m[n]}this.#u--,this.#g.push(n)}}if(this.#I&&this.#T?.length){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}return r}clear(){return this.#Q("delete")}#Q(e){for(let t of this.#D({allowStale:!0})){let r=this.#h[t];if(this.#A(r))r.__abortController.abort(Error("deleted"));else{let n=this.#p[t];this.#P&&this.#n?.(r,n,e),this.#I&&this.#T?.push([r,n,e])}}if(this.#d.clear(),this.#h.fill(void 0),this.#p.fill(void 0),this.#S&&this.#_){for(let e of(this.#S.fill(0),this.#_.fill(0),this.#b??[]))void 0!==e&&clearTimeout(e);this.#b?.fill(void 0)}if(this.#E&&this.#E.fill(0),this.#y=0,this.#v=0,this.#g.length=0,this.#c=0,this.#u=0,this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}}}r.LRUCache=h},3756,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryLRUCache=void 0;let n=e.r(71180);class i{constructor(e){this.cache=new n.LRUCache({sizeCalculation:i.sizeCalculation,maxSize:0x1e00000,...e})}static sizeCalculation(e){return"string"==typeof e?e.length:"object"==typeof e?Buffer.byteLength(JSON.stringify(e),"utf8"):1}async set(e,t,r){let n=r?{...r,ttl:r.ttl?1e3*r.ttl:0}:void 0;this.cache.set(e,t,n)}async get(e){return this.cache.get(e)}async delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}keys(){return[...this.cache.keys()]}}r.InMemoryLRUCache=i},11763,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorsAreMissesCache=void 0,r.ErrorsAreMissesCache=class{constructor(e,t){this.cache=e,this.logger=t}async get(e){try{return await this.cache.get(e)}catch(e){this.logger&&(e instanceof Error?this.logger.error(e.message):this.logger.error(e));return}}async set(e,t,r){return this.cache.set(e,t,r)}async delete(e){return this.cache.delete(e)}}},46065,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorsAreMissesCache=r.InMemoryLRUCache=r.PrefixingKeyValueCache=void 0;var n=e.r(59004);Object.defineProperty(r,"PrefixingKeyValueCache",{enumerable:!0,get:function(){return n.PrefixingKeyValueCache}});var i=e.r(3756);Object.defineProperty(r,"InMemoryLRUCache",{enumerable:!0,get:function(){return i.InMemoryLRUCache}});var o=e.r(11763);Object.defineProperty(r,"ErrorsAreMissesCache",{enumerable:!0,get:function(){return o.ErrorsAreMissesCache}})},42788,(e,t,r)=>{!function(n,i){"use strict";if("function"==typeof define&&define.amd){let n;void 0!==(n=i(e.r,r,t))&&e.v(n)}else t.exports?t.exports=i():n.log=i()}(e.e,function(){"use strict";var e=function(){},t="undefined",r=["trace","debug","info","warn","error"],n={},i=null;function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(){for(var n=this.getLevel(),i=0;i<r.length;i++){var o=r[i];this[o]=i<n?e:this.methodFactory(o,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function a(e){return function(){typeof console!==t&&(s.call(this),this[e].apply(this,arguments))}}function l(r,n,i){var s;return"debug"===(s=r)&&(s="log"),typeof console!==t&&(void 0!==console[s]?o(console,s):void 0!==console.log?o(console,"log"):e)||a.apply(this,arguments)}function u(e,t){var o,a,u,c=this;function d(){}function p(e){var t=e;if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=t||l,c.getLevel=function(){return null!=u?u:null!=a?a:o},c.setLevel=function(e,t){return u=p(e),!1!==t&&(r[u]||"silent").toUpperCase(),s.call(c)},c.setDefaultLevel=function(e){a=p(e),d()||c.setLevel(e,!1)},c.resetLevel=function(){u=null,s.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(i!==c&&(o=p(i.getLevel())),s.call(c),i===c)for(var e in n)n[e].rebuild()},o=p(i?i.getLevel():"WARN");var h=d();null!=h&&(u=p(h)),s.call(c)}return(i=new u).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=n[e];return t||(t=n[e]=new u(e,i.methodFactory)),t},i.noConflict=function(){return i},i.getLoggers=function(){return n},i.default=i,i})},47779,(e,t,r)=>{"use strict";t.exports=i,t.exports.preferredCharsets=i;var n=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function i(e,t){var r=function(e){for(var t=e.split(","),r=0,i=0;r<t.length;r++){var o=function(e,t){var r=n.exec(e);if(!r)return null;var i=r[1],o=1;if(r[2])for(var s=r[2].split(";"),a=0;a<s.length;a++){var l=s[a].trim().split("=");if("q"===l[0]){o=parseFloat(l[1]);break}}return{charset:i,q:o,i:t}}(t[r].trim(),r);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?"*":e||"");if(!t)return r.filter(a).sort(o).map(s);var i=t.map(function(e,t){for(var n={o:-1,q:0,s:0},i=0;i<r.length;i++){var o=function(e,t,r){var n=0;if(t.charset.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.charset)return null;return{i:r,o:t.i,q:t.q,s:n}}(e,r[i],t);o&&0>(n.s-o.s||n.q-o.q||n.o-o.o)&&(n=o)}return n});return i.filter(a).sort(o).map(function(e){return t[i.indexOf(e)]})}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function s(e){return e.charset}function a(e){return e.q>0}},27996,(e,t,r)=>{"use strict";t.exports=o,t.exports.preferredEncodings=o;var n=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function i(e,t,r){var n=0;if(t.encoding.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.encoding)return null;return{encoding:e,i:r,o:t.i,q:t.q,s:n}}function o(e,t,r){var o=function(e){for(var t=e.split(","),r=!1,o=1,s=0,a=0;s<t.length;s++){var l=function(e,t){var r=n.exec(e);if(!r)return null;var i=r[1],o=1;if(r[2])for(var s=r[2].split(";"),a=0;a<s.length;a++){var l=s[a].trim().split("=");if("q"===l[0]){o=parseFloat(l[1]);break}}return{encoding:i,q:o,i:t}}(t[s].trim(),s);l&&(t[a++]=l,r=r||i("identity",l),o=Math.min(o,l.q||1))}return r||(t[a++]={encoding:"identity",q:o,i:s}),t.length=a,t}(e||""),u=r?function(e,t){if(e.q!==t.q)return t.q-e.q;var n=r.indexOf(e.encoding),i=r.indexOf(t.encoding);return -1===n&&-1===i?t.s-e.s||e.o-t.o||e.i-t.i:-1!==n&&-1!==i?n-i:-1===n?1:-1}:s;if(!t)return o.filter(l).sort(u).map(a);var c=t.map(function(e,t){for(var r={encoding:e,o:-1,q:0,s:0},n=0;n<o.length;n++){var s=i(e,o[n],t);s&&0>(r.s-s.s||r.q-s.q||r.o-s.o)&&(r=s)}return r});return c.filter(l).sort(u).map(function(e){return t[c.indexOf(e)]})}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i}function a(e){return e.encoding}function l(e){return e.q>0}},43729,(e,t,r)=>{"use strict";t.exports=o,t.exports.preferredLanguages=o;var n=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function i(e,t){var r=n.exec(e);if(!r)return null;var i=r[1],o=r[2],s=i;o&&(s+="-"+o);var a=1;if(r[3])for(var l=r[3].split(";"),u=0;u<l.length;u++){var c=l[u].split("=");"q"===c[0]&&(a=parseFloat(c[1]))}return{prefix:i,suffix:o,q:a,i:t,full:s}}function o(e,t){var r=function(e){for(var t=e.split(","),r=0,n=0;r<t.length;r++){var o=i(t[r].trim(),r);o&&(t[n++]=o)}return t.length=n,t}(void 0===e?"*":e||"");if(!t)return r.filter(l).sort(s).map(a);var n=t.map(function(e,t){for(var n={o:-1,q:0,s:0},o=0;o<r.length;o++){var s=function(e,t,r){var n=i(e);if(!n)return null;var o=0;if(t.full.toLowerCase()===n.full.toLowerCase())o|=4;else if(t.prefix.toLowerCase()===n.full.toLowerCase())o|=2;else if(t.full.toLowerCase()===n.prefix.toLowerCase())o|=1;else if("*"!==t.full)return null;return{i:r,o:t.i,q:t.q,s:o}}(e,r[o],t);s&&0>(n.s-s.s||n.q-s.q||n.o-s.o)&&(n=s)}return n});return n.filter(l).sort(s).map(function(e){return t[n.indexOf(e)]})}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.full}function l(e){return e.q>0}},93904,(e,t,r)=>{"use strict";t.exports=o,t.exports.preferredMediaTypes=o;var n=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function i(e,t){var r=n.exec(e);if(!r)return null;var i=Object.create(null),o=1,s=r[2],a=r[1];if(r[3])for(var l=(function(e){for(var t=e.split(";"),r=1,n=0;r<t.length;r++)u(t[n])%2==0?t[++n]=t[r]:t[n]+=";"+t[r];t.length=n+1;for(var r=0;r<t.length;r++)t[r]=t[r].trim();return t})(r[3]).map(c),d=0;d<l.length;d++){var p=l[d],h=p[0].toLowerCase(),f=p[1],m=f&&'"'===f[0]&&'"'===f[f.length-1]?f.slice(1,-1):f;if("q"===h){o=parseFloat(m);break}i[h]=m}return{type:a,subtype:s,params:i,q:o,i:t}}function o(e,t){var r=function(e){for(var t=function(e){for(var t=e.split(","),r=1,n=0;r<t.length;r++)u(t[n])%2==0?t[++n]=t[r]:t[n]+=","+t[r];return t.length=n+1,t}(e),r=0,n=0;r<t.length;r++){var o=i(t[r].trim(),r);o&&(t[n++]=o)}return t.length=n,t}(void 0===e?"*/*":e||"");if(!t)return r.filter(l).sort(s).map(a);var n=t.map(function(e,t){for(var n={o:-1,q:0,s:0},o=0;o<r.length;o++){var s=function(e,t,r){var n=i(e),o=0;if(!n)return null;if(t.type.toLowerCase()==n.type.toLowerCase())o|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==n.subtype.toLowerCase())o|=2;else if("*"!=t.subtype)return null;var s=Object.keys(t.params);if(s.length>0)if(!s.every(function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(n.params[e]||"").toLowerCase()}))return null;else o|=1;return{i:r,o:t.i,q:t.q,s:o}}(e,r[o],t);s&&0>(n.s-s.s||n.q-s.q||n.o-s.o)&&(n=s)}return n});return n.filter(l).sort(s).map(function(e){return t[n.indexOf(e)]})}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.type+"/"+e.subtype}function l(e){return e.q>0}function u(e){for(var t=0,r=0;-1!==(r=e.indexOf('"',r));)t++,r++;return t}function c(e){var t,r,n=e.indexOf("=");return -1===n?t=e:(t=e.slice(0,n),r=e.slice(n+1)),[t,r]}},57978,(e,t,r)=>{"use strict";var n=e.r(47779),i=e.r(27996),o=e.r(43729),s=e.r(93904);function a(e){if(!(this instanceof a))return new a(e);this.request=e}t.exports=a,t.exports.Negotiator=a,a.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},a.prototype.charsets=function(e){return n(this.request.headers["accept-charset"],e)},a.prototype.encoding=function(e,t){var r=this.encodings(e,t);return r&&r[0]},a.prototype.encodings=function(e,t){return i(this.request.headers["accept-encoding"],e,(t||{}).preferred)},a.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},a.prototype.languages=function(e){return o(this.request.headers["accept-language"],e)},a.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},a.prototype.mediaTypes=function(e){return s(this.request.headers.accept,e)},a.prototype.preferredCharset=a.prototype.charset,a.prototype.preferredCharsets=a.prototype.charsets,a.prototype.preferredEncoding=a.prototype.encoding,a.prototype.preferredEncodings=a.prototype.encodings,a.prototype.preferredLanguage=a.prototype.language,a.prototype.preferredLanguages=a.prototype.languages,a.prototype.preferredMediaType=a.prototype.mediaType,a.prototype.preferredMediaTypes=a.prototype.mediaTypes},19126,(e,t,r)=>{"use strict";r.removeLeadingAndTrailingHTTPWhitespace=e=>e.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,""),r.removeTrailingHTTPWhitespace=e=>e.replace(/[ \t\n\r]+$/u,""),r.isHTTPWhitespaceChar=e=>" "===e||"	"===e||"\n"===e||"\r"===e,r.solelyContainsHTTPTokenCodePoints=e=>/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e),r.soleyContainsHTTPQuotedStringTokenCodePoints=e=>/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e),r.asciiLowercase=e=>e.replace(/[A-Z]/ug,e=>e.toLowerCase()),r.collectAnHTTPQuotedString=(e,t)=>{let r="";for(t++;;){for(;t<e.length&&'"'!==e[t]&&"\\"!==e[t];)r+=e[t],++t;if(t>=e.length)break;let n=e[t];if(++t,"\\"===n){if(t>=e.length){r+="\\";break}r+=e[t],++t}else break}return[r,t]}},17400,(e,t,r)=>{"use strict";let{asciiLowercase:n,solelyContainsHTTPTokenCodePoints:i,soleyContainsHTTPQuotedStringTokenCodePoints:o}=e.r(19126);t.exports=class{constructor(e){this._map=e}get size(){return this._map.size}get(e){return e=n(String(e)),this._map.get(e)}has(e){return e=n(String(e)),this._map.has(e)}set(e,t){if(e=n(String(e)),t=String(t),!i(e))throw Error(`Invalid MIME type parameter name "${e}": only HTTP token code points are valid.`);if(!o(t))throw Error(`Invalid MIME type parameter value "${t}": only HTTP quoted-string token code points are valid.`);return this._map.set(e,t)}clear(){this._map.clear()}delete(e){return e=n(String(e)),this._map.delete(e)}forEach(e,t){this._map.forEach(e,t)}keys(){return this._map.keys()}values(){return this._map.values()}entries(){return this._map.entries()}[Symbol.iterator](){return this._map[Symbol.iterator]()}}},74772,(e,t,r)=>{"use strict";let{removeLeadingAndTrailingHTTPWhitespace:n,removeTrailingHTTPWhitespace:i,isHTTPWhitespaceChar:o,solelyContainsHTTPTokenCodePoints:s,soleyContainsHTTPQuotedStringTokenCodePoints:a,asciiLowercase:l,collectAnHTTPQuotedString:u}=e.r(19126);t.exports=e=>{e=n(e);let t=0,r="";for(;t<e.length&&"/"!==e[t];)r+=e[t],++t;if(0===r.length||!s(r)||t>=e.length)return null;++t;let c="";for(;t<e.length&&";"!==e[t];)c+=e[t],++t;if(0===(c=i(c)).length||!s(c))return null;let d={type:l(r),subtype:l(c),parameters:new Map};for(;t<e.length;){for(++t;o(e[t]);)++t;let r="";for(;t<e.length&&";"!==e[t]&&"="!==e[t];)r+=e[t],++t;if(r=l(r),t<e.length){if(";"===e[t])continue;++t}let n=null;if('"'===e[t])for([n,t]=u(e,t);t<e.length&&";"!==e[t];)++t;else{for(n="";t<e.length&&";"!==e[t];)n+=e[t],++t;if(""===(n=i(n)))continue}r.length>0&&s(r)&&a(n)&&!d.parameters.has(r)&&d.parameters.set(r,n)}return d}},91546,(e,t,r)=>{"use strict";let{solelyContainsHTTPTokenCodePoints:n}=e.r(19126);t.exports=e=>{let t=`${e.type}/${e.subtype}`;if(0===e.parameters.size)return t;for(let[r,i]of e.parameters)t+=";",t+=r,t+="=",n(i)&&0!==i.length||(i=i.replace(/(["\\])/ug,"\\$1"),i=`"${i}"`),t+=i;return t}},87003,(e,t,r)=>{"use strict";let n=e.r(17400),i=e.r(74772),o=e.r(91546),{asciiLowercase:s,solelyContainsHTTPTokenCodePoints:a}=e.r(19126);t.exports=class{constructor(e){const t=i(e=String(e));if(null===t)throw Error(`Could not parse MIME type string "${e}"`);this._type=t.type,this._subtype=t.subtype,this._parameters=new n(t.parameters)}static parse(e){try{return new this(e)}catch(e){return null}}get essence(){return`${this.type}/${this.subtype}`}get type(){return this._type}set type(e){if(0===(e=s(String(e))).length)throw Error("Invalid type: must be a non-empty string");if(!a(e))throw Error(`Invalid type ${e}: must contain only HTTP token code points`);this._type=e}get subtype(){return this._subtype}set subtype(e){if(0===(e=s(String(e))).length)throw Error("Invalid subtype: must be a non-empty string");if(!a(e))throw Error(`Invalid subtype ${e}: must contain only HTTP token code points`);this._subtype=e}get parameters(){return this._parameters}toString(){return o(this)}isJavaScript({prohibitParameters:e=!1}={}){switch(this._type){case"text":switch(this._subtype){case"ecmascript":case"javascript":case"javascript1.0":case"javascript1.1":case"javascript1.2":case"javascript1.3":case"javascript1.4":case"javascript1.5":case"jscript":case"livescript":case"x-ecmascript":case"x-javascript":return!e||0===this._parameters.size;default:return!1}case"application":switch(this._subtype){case"ecmascript":case"javascript":case"x-ecmascript":case"x-javascript":return!e||0===this._parameters.size;default:return!1}default:return!1}}isXML(){return"xml"===this._subtype&&("text"===this._type||"application"===this._type)||this._subtype.endsWith("+xml")}isHTML(){return"html"===this._subtype&&"text"===this._type}}},79261,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isNextApiRequest=void 0,r.isNextApiRequest=function(e){return"query"in e}},3499,(e,t,r)=>{"use strict";var n=e.e&&e.e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=e.e&&e.e.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){var u=[a,l];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}};Object.defineProperty(r,"__esModule",{value:!0}),r.getBody=void 0;var o=e.r(79261);r.getBody=function(e){return n(void 0,void 0,void 0,function(){return i(this,function(t){return(0,o.isNextApiRequest)(e)?[2,e.body]:[2,"application/json"===e.headers.get("content-type")?e.json():e.text()]})})}},99434,e=>{"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)};function r(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function o(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function s(e,t){return function(r,n){t(r,n,e)}}function a(e,t,r,n,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),p=!1,h=r.length-1;h>=0;h--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(p)throw TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var y=(0,r[h])("accessor"===l?{get:d.get,set:d.set}:d[u],f);if("accessor"===l){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(a=s(y.get))&&(d.get=a),(a=s(y.set))&&(d.set=a),(a=s(y.init))&&i.unshift(a)}else(a=s(y))&&("field"===l?i.unshift(a):d[u]=a)}c&&Object.defineProperty(c,n.name,d),p=!0}function l(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function c(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){var u=[a,l];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}var f=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function m(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||f(t,e,r)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function T(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function E(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{var r;(r=i[e](t)).value instanceof _?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:_(e[n](t)),done:!1}:i?i(t):t}:i}}function P(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var o,s,a;o=n,s=i,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:a})},s)})}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},w=function(e){return(w=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=w(e),n=0;n<r.length;n++)"default"!==r[n]&&f(t,e,r[n]);return I(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function x(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function R(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function D(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,r){if(null!=t){var n,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var C="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function M(e){function t(t){e.error=e.hasError?new C(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function k(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,o){return r?t?".jsx":".js":!n||i&&o?n+i+"."+o.toLowerCase()+"js":e}):e}let F={__extends:r,__assign:n,__rest:i,__decorate:o,__param:s,__esDecorate:a,__runInitializers:l,__propKey:u,__setFunctionName:c,__metadata:d,__awaiter:p,__generator:h,__createBinding:f,__exportStar:m,__values:y,__read:v,__spread:g,__spreadArrays:T,__spreadArray:E,__await:_,__asyncGenerator:S,__asyncDelegator:b,__asyncValues:P,__makeTemplateObject:O,__importStar:A,__importDefault:N,__classPrivateFieldGet:x,__classPrivateFieldSet:R,__classPrivateFieldIn:D,__addDisposableResource:L,__disposeResources:M,__rewriteRelativeImportExtension:k};e.s(["__addDisposableResource",()=>L,"__assign",()=>n,"__asyncDelegator",()=>b,"__asyncGenerator",()=>S,"__asyncValues",()=>P,"__await",()=>_,"__awaiter",()=>p,"__classPrivateFieldGet",()=>x,"__classPrivateFieldIn",()=>D,"__classPrivateFieldSet",()=>R,"__createBinding",()=>f,"__decorate",()=>o,"__disposeResources",()=>M,"__esDecorate",()=>a,"__exportStar",()=>m,"__extends",()=>r,"__generator",()=>h,"__importDefault",()=>N,"__importStar",()=>A,"__makeTemplateObject",()=>O,"__metadata",()=>d,"__param",()=>s,"__propKey",()=>u,"__read",()=>v,"__rest",()=>i,"__rewriteRelativeImportExtension",()=>k,"__runInitializers",()=>l,"__setFunctionName",()=>c,"__spread",()=>g,"__spreadArray",()=>E,"__spreadArrays",()=>T,"__values",()=>y,"default",0,F])},40237,(e,t,r)=>{},51178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.asArray=void 0,r.isUrl=o,r.isDocumentString=function(e){if("string"!=typeof e||s.test(e)||o(e))return!1;try{return(0,n.parse)(e),!0}catch(t){if(!t.message.includes("EOF")&&""!==e.replace(/(\#[^*]*)/g,"").trim()&&e.includes(" "))throw Error(`Failed to parse the GraphQL document. ${t.message}
${e}`)}return!1},r.isValidPath=function(e){return"string"==typeof e&&!a.test(e)},r.compareStrings=l,r.nodeToString=u,r.compareNodes=function(e,t,r){let n=u(e),i=u(t);return"function"==typeof r?r(n,i):l(n,i)},r.isSome=function(e){return null!=e},r.assertSome=function(e,t="Value should be something"){if(null==e)throw Error(t)};let n=e.r(83391),i=/^(https?|wss?|file):\/\//;function o(e){if("string"!=typeof e||!i.test(e))return!1;if(URL.canParse)return URL.canParse(e);try{return new URL(e),!0}catch(e){return!1}}r.asArray=e=>Array.isArray(e)?e:e?[e]:[];let s=/\.[a-z0-9]+$/i,a=/[‘“!%^<>`\n]/;function l(e,t){return String(e)<String(t)?-1:+(String(e)>String(t))}function u(e){let t;return"alias"in e&&(t=e.alias?.value),null==t&&"name"in e&&(t=e.name?.value),null==t&&(t=e.kind),t}},20056,(e,t,r)=>{"use strict";function n(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){var r,s;let a;if(null===e)return"null";if(e instanceof Error)return"AggregateError"===e.name?i(e)+"\n"+o(e.errors,t):i(e);if(t.includes(e))return"[Circular]";let l=[...t,e];if("function"==typeof e.toJSON){let t=e.toJSON();if(t!==e)return"string"==typeof t?t:n(t,l)}else if(Array.isArray(e))return o(e,l);return r=e,s=l,0===(a=Object.entries(r)).length?"{}":s.length>3?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(r)+"]":"{ "+a.map(([e,t])=>e+": "+n(t,s)).join(", ")+" }"}(e,t);default:return String(e)}}function i(e){return e.name="GraphQLError",e.toString()}function o(e,t){if(0===e.length)return"[]";if(t.length>3)return"[Array]";let r=e.length,i=[];for(let o=0;o<r;++o)i.push(n(e[o],t));return"["+i.join(", ")+"]"}Object.defineProperty(r,"__esModule",{value:!0}),r.inspect=void 0,r.inspect=function(e){return n(e,[])}},7128,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isGraphQLErrorLike=o,r.createGraphQLError=s,r.getSchemaCoordinate=function(e){return e.coordinate},r.locatedError=function(e,t,r,i){let o=(0,n.locatedError)(e,t,r);return!o.coordinate&&i&&null==o.coordinate&&Object.defineProperties(o,{coordinate:{value:`${i.parentType.name}.${i.fieldName}`,enumerable:!0,configurable:!0}}),o},r.relocatedError=function(e,t,r){return s(e.message,{nodes:e.nodes,source:e.source,positions:e.positions,path:null==t?e.path:t,originalError:e,extensions:e.extensions,coordinate:r?`${r.parentType.name}.${r.fieldName}`:void 0})};let n=e.r(83391),i=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"];function o(e){return null!=e&&"object"==typeof e&&Object.keys(e).every(e=>i.includes(e))}function s(e,t){t?.originalError&&!(t.originalError instanceof Error)&&o(t.originalError)&&(t.originalError=s(t.originalError.message,t.originalError));let r=n.GraphQLError,i=n.versionInfo.major>=16?new r(e,t):new r(e,t?.nodes,t?.source,t?.positions,t?.path,t?.originalError,t?.extensions);return t?.coordinate&&null==i.coordinate&&Object.defineProperties(i,{coordinate:{value:t.coordinate,enumerable:!0,configurable:!0}}),i}},27137,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=i,r.isActualPromise=o,r.handleMaybePromise=s,r.fakePromise=a,r.createDeferredPromise=function(){let e,t;return Promise.withResolvers?Promise.withResolvers():{promise:new Promise(function(r,n){e=r,t=n}),get resolve(){return e},get reject(){return t}}},r.iterateAsync=l,r.iterateAsyncVoid=l,r.fakeRejectPromise=u,r.mapMaybePromise=function(e,t,r){return s(()=>e,t,r)},r.mapAsyncIterator=function(e,t,r,n){let i,o,l,d;if(Symbol.asyncIterator in e&&(e=e[Symbol.asyncIterator]()),n){let e;l=t=>e||=s(n,()=>t,()=>t)}function p(e){return e.done?l?l(e):e:s(()=>e.value,e=>s(()=>t(e),c,o))}if("function"==typeof e.return&&(i=e.return,o=t=>{let r=()=>{throw t};return i.call(e).then(r,r)}),r){let e;d=t=>e||=s(()=>t,e=>s(()=>r(e),c,o))}return{next:()=>e.next().then(p,d),return(){let t=i?i.call(e).then(p,d):a({value:void 0,done:!0});return l?t.then(l):t},throw:t=>"function"==typeof e.throw?e.throw(t).then(p,d):o?o(t):u(t),[Symbol.asyncIterator](){return this}}},r.promiseLikeFinally=d,r.unfakePromise=p;let n=Symbol.for("@whatwg-node/promise-helpers/FakePromise");function i(e){return e?.then!=null}function o(e){return e&&e.then&&e.catch&&e.finally}function s(e,t,r,n){let i=a().then(e).then(t,r);return n&&(i=i.finally(n)),p(i)}function a(e){return e&&o(e)?e:i(e)?{then:(t,r)=>a(e.then(t,r)),catch:t=>a(e.then(e=>e,t)),finally:t=>a(t?d(e,t):e),[Symbol.toStringTag]:"Promise"}:{then(t){if(t)try{return a(t(e))}catch(e){return u(e)}return this},catch(){return this},finally(t){if(t)try{return a(t()).then(()=>e,()=>e)}catch(e){return u(e)}return this},[Symbol.toStringTag]:"Promise",__fakePromiseValue:e,[n]:"resolved"}}function l(e,t,r){if(e?.length===0)return;let n=e[Symbol.iterator](),i=0;return function e(){let{done:o,value:a}=n.next();if(o)return;let l=!1;function u(){l=!0}return s(function(){return t(a,u,i++)},function(t){if(t&&r?.push(t),!l)return e()})}()}function u(e){return{then(t,r){if(r)try{return a(r(e))}catch(e){return u(e)}return this},catch(t){if(t)try{return a(t(e))}catch(e){return u(e)}return this},finally(e){if(e)try{e()}catch(e){return u(e)}return this},__fakeRejectError:e,[Symbol.toStringTag]:"Promise",[n]:"rejected"}}function c(e){return{value:e,done:!1}}function d(e,t){return"finally"in e?e.finally(t):e.then(e=>{let r=t();return i(r)?r.then(()=>e):e},e=>{let r=t();if(i(r))return r.then(()=>{throw e});throw e})}function p(e){if(e?.[n]==="resolved")return e.__fakePromiseValue;if(e?.[n]==="rejected")throw e.__fakeRejectError;return e}},29749,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=void 0,r.isIterableObject=function(e){return null!=e&&"object"==typeof e&&Symbol.iterator in e},r.isObjectLike=function(e){return"object"==typeof e&&null!==e},r.promiseReduce=function(e,t,r){let i=r;for(let r of e)i=(0,n.handleMaybePromise)(()=>i,e=>t(e,r));return i},r.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};let n=e.r(27137);Object.defineProperty(r,"isPromise",{enumerable:!0,get:function(){return n.isPromise}})},27302,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getArgumentValues=function(e,t,r={}){let a={},l=(t.arguments??[]).reduce((e,t)=>({...e,[t.name.value]:t}),{});for(let{name:u,type:c,defaultValue:d}of e.args){let e=l[u];if(!e){if(void 0!==d)a[u]=d;else if((0,i.isNonNullType)(c))throw(0,o.createGraphQLError)(`Argument "${u}" of required type "${(0,n.inspect)(c)}" was not provided.`,{nodes:[t]});continue}let p=e.value,h=p.kind===i.Kind.NULL;if(p.kind===i.Kind.VARIABLE){let e=p.name.value;if(null==r||!(0,s.hasOwnProperty)(r,e)){if(void 0!==d)a[u]=d;else if((0,i.isNonNullType)(c))throw(0,o.createGraphQLError)(`Argument "${u}" of required type "${(0,n.inspect)(c)}" was provided the variable "$${e}" which was not provided a runtime value.`,{nodes:[p]});continue}h=null==r[e]}if(h&&(0,i.isNonNullType)(c))throw(0,o.createGraphQLError)(`Argument "${u}" of non-null type "${(0,n.inspect)(c)}" must not be null.`,{nodes:[p]});let f=(0,i.valueFromAST)(p,c,r);if(void 0===f)throw(0,o.createGraphQLError)(`Argument "${u}" has invalid value ${(0,i.print)(p)}.`,{nodes:[p]});a[u]=f}return a};let n=e.r(20056),i=e.r(83391),o=e.r(7128),s=e.r(29749)},32430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.memoize1=function(e){let t=new WeakMap;return function(r){let n=t.get(r);if(void 0===n){let n=e(r);return t.set(r,n),n}return n}},r.memoize2=function(e){let t=new WeakMap;return function(r,n){let i=t.get(r);if(!i){i=new WeakMap,t.set(r,i);let o=e(r,n);return i.set(n,o),o}let o=i.get(n);if(void 0===o){let t=e(r,n);return i.set(n,t),t}return o}},r.memoize3=function(e){let t=new WeakMap;return function(r,n,i){let o=t.get(r);if(!o){o=new WeakMap,t.set(r,o);let s=new WeakMap;o.set(n,s);let a=e(r,n,i);return s.set(i,a),a}let s=o.get(n);if(!s){s=new WeakMap,o.set(n,s);let t=e(r,n,i);return s.set(i,t),t}let a=s.get(i);if(void 0===a){let t=e(r,n,i);return s.set(i,t),t}return a}},r.memoize4=function(e){let t=new WeakMap;return function(r,n,i,o){let s=t.get(r);if(!s){s=new WeakMap,t.set(r,s);let a=new WeakMap;s.set(n,a);let l=new WeakMap;a.set(i,l);let u=e(r,n,i,o);return l.set(o,u),u}let a=s.get(n);if(!a){a=new WeakMap,s.set(n,a);let t=new WeakMap;a.set(i,t);let l=e(r,n,i,o);return t.set(o,l),l}let l=a.get(i);if(!l){let t=new WeakMap;a.set(i,t);let s=e(r,n,i,o);return t.set(o,s),s}let u=l.get(o);if(void 0===u){let t=e(r,n,i,o);return l.set(o,t),t}return u}},r.memoize5=function(e){let t=new WeakMap;return function(r,n,i,o,s){let a=t.get(r);if(!a){a=new WeakMap,t.set(r,a);let l=new WeakMap;a.set(n,l);let u=new WeakMap;l.set(i,u);let c=new WeakMap;u.set(o,c);let d=e(r,n,i,o,s);return c.set(s,d),d}let l=a.get(n);if(!l){l=new WeakMap,a.set(n,l);let t=new WeakMap;l.set(i,t);let u=new WeakMap;t.set(o,u);let c=e(r,n,i,o,s);return u.set(s,c),c}let u=l.get(i);if(!u){u=new WeakMap,l.set(i,u);let t=new WeakMap;u.set(o,t);let a=e(r,n,i,o,s);return t.set(s,a),a}let c=u.get(o);if(!c){c=new WeakMap,u.set(o,c);let t=e(r,n,i,o,s);return c.set(s,t),t}let d=c.get(s);if(void 0===d){let t=e(r,n,i,o,s);return c.set(s,t),t}return d}},r.memoize2of4=function(e){let t=new WeakMap;return function(r,n,i,o){let s=t.get(r);if(!s){s=new WeakMap,t.set(r,s);let a=e(r,n,i,o);return s.set(n,a),a}let a=s.get(n);if(void 0===a){let t=e(r,n,i,o);return s.set(n,t),t}return a}},r.memoize2of5=function(e){let t=new WeakMap;return function(r,n,i,o,s){let a=t.get(r);if(!a){a=new WeakMap,t.set(r,a);let l=e(r,n,i,o,s);return a.set(n,l),l}let l=a.get(n);if(void 0===l){let t=e(r,n,i,o,s);return a.set(n,t),t}return l}}},13158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDirectiveExtensions=function(e,t,r=["directives"]){let s={};if(e.extensions){let t=e.extensions;for(let e of r)t=t?.[e];if(null!=t)for(let e in t){let r=t[e];if(Array.isArray(r))for(let t of r){let r=s[e];r||(r=[],s[e]=r),r.push(t)}else{let t=s[e];t||(t=[],s[e]=t),t.push(r)}}}let a=(0,o.memoize1)(e=>JSON.stringify(e)),l=[];for(let r of(e.astNode&&l.push(e.astNode),e.extensionASTNodes&&l.push(...e.extensionASTNodes),l))if(r.directives?.length)for(let e of r.directives){let r=e.name.value,o=s[r];o||(o=[],s[r]=o);let u=t?.getDirective(r),c={};if(u&&(c=(0,i.getArgumentValues)(u,e)),e.arguments)for(let t of e.arguments){let e=t.name.value;if(null==c[e]){let r=u?.args.find(t=>t.name===e);r&&(c[e]=(0,n.valueFromAST)(t.value,r.type))}null==c[e]&&(c[e]=(0,n.valueFromASTUntyped)(t.value))}if(l.length>0&&o.length>0){let e=a(c);if(o.some(t=>a(t)===e))continue}o.push(c)}return s};let n=e.r(83391),i=e.r(27302),o=e.r(32430)},98624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDirectivesInExtensions=function(e,t=["directives"]){return Object.entries((0,n.getDirectiveExtensions)(e,void 0,t)).map(([e,t])=>t?.map(t=>({name:e,args:t}))).flat(1/0).filter(Boolean)},r.getDirectiveInExtensions=function(e,t,r=["directives"]){return(0,n.getDirectiveExtensions)(e,void 0,r)[t]},r.getDirectives=function(e,t,r=["directives"]){return Object.entries((0,n.getDirectiveExtensions)(t,e,r)).map(([e,t])=>t?.map(t=>({name:e,args:t}))).flat(1/0).filter(Boolean)},r.getDirective=function(e,t,r,i=["directives"]){return(0,n.getDirectiveExtensions)(t,e,i)[r]};let n=e.r(13158)},49458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getFieldsWithDirectives=function(e,t={}){let r={},i=["ObjectTypeDefinition","ObjectTypeExtension"];for(let o of(t.includeInputTypes&&(i=[...i,"InputObjectTypeDefinition","InputObjectTypeExtension"]),e.definitions.filter(e=>i.includes(e.kind)))){let e=o.name.value;if(null!=o.fields){for(let t of o.fields)if(t.directives&&t.directives.length>0){let i=t.name.value,o=`${e}.${i}`,s=t.directives.map(e=>({name:e.name.value,args:(e.arguments||[]).reduce((e,t)=>({...e,[t.name.value]:(0,n.valueFromASTUntyped)(t.value)}),{})}));r[o]=s}}}return r};let n=e.r(83391)},48170,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getArgumentsWithDirectives=function(e){let t={};for(let r of e.definitions.filter(i))if(null!=r.fields)for(let e of r.fields){let i=e.arguments?.filter(e=>e.directives?.length);if(!i?.length)continue;let o=t[`${r.name.value}.${e.name.value}`]={};for(let e of i){let t=e.directives.map(e=>({name:e.name.value,args:(e.arguments||[]).reduce((e,t)=>({...e,[t.name.value]:(0,n.valueFromASTUntyped)(t.value)}),{})}));o[e.name.value]=t}}return t};let n=e.r(83391);function i(e){return e.kind===n.Kind.OBJECT_TYPE_DEFINITION||e.kind===n.Kind.OBJECT_TYPE_EXTENSION}},87201,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getImplementingTypes=function(e,t){let r=t.getTypeMap(),n=[];for(let t in r){let i=r[t];"getInterfaces"in i&&i.getInterfaces().find(t=>t.name===e)&&n.push(i.name)}return n}},42770,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.astFromType=function e(t){if((0,i.isNonNullType)(t)){let r=e(t.ofType);if(r.kind===i.Kind.NON_NULL_TYPE)throw Error(`Invalid type node ${(0,n.inspect)(t)}. Inner type of non-null type cannot be a non-null type.`);return{kind:i.Kind.NON_NULL_TYPE,type:r}}return(0,i.isListType)(t)?{kind:i.Kind.LIST_TYPE,type:e(t.ofType)}:{kind:i.Kind.NAMED_TYPE,name:{kind:i.Kind.NAME,value:t.name}}};let n=e.r(20056),i=e.r(83391)},38035,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.astFromValueUntyped=function e(t){if(null===t)return{kind:n.Kind.NULL};if(void 0===t)return null;if(Array.isArray(t)){let r=[];for(let n of t){let t=e(n);null!=t&&r.push(t)}return{kind:n.Kind.LIST,values:r}}if("object"==typeof t){if(t?.toJSON)return e(t.toJSON());let r=[];for(let i in t){let o=e(t[i]);o&&r.push({kind:n.Kind.OBJECT_FIELD,name:{kind:n.Kind.NAME,value:i},value:o})}return{kind:n.Kind.OBJECT,fields:r}}if("boolean"==typeof t)return{kind:n.Kind.BOOLEAN,value:t};if("bigint"==typeof t)return{kind:n.Kind.INT,value:String(t)};if("number"==typeof t&&isFinite(t)){let e=String(t);return i.test(e)?{kind:n.Kind.INT,value:e}:{kind:n.Kind.FLOAT,value:e}}if("string"==typeof t)return{kind:n.Kind.STRING,value:t};throw TypeError(`Cannot convert value to AST: ${t}.`)};let n=e.r(83391),i=/^-?(?:0|[1-9][0-9]*)$/},70356,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.astFromValue=function e(t,r){if((0,i.isNonNullType)(r)){let n=e(t,r.ofType);return n?.kind===i.Kind.NULL?null:n}if(null===t)return{kind:i.Kind.NULL};if(void 0===t)return null;if((0,i.isListType)(r)){let n=r.ofType;if((0,s.isIterableObject)(t)){let r=[];for(let i of t){let t=e(i,n);null!=t&&r.push(t)}return{kind:i.Kind.LIST,values:r}}return e(t,n)}if((0,i.isInputObjectType)(r)){if(!(0,s.isObjectLike)(t))return null;let n=[];for(let o of Object.values(r.getFields())){let r=e(t[o.name],o.type);r&&n.push({kind:i.Kind.OBJECT_FIELD,name:{kind:i.Kind.NAME,value:o.name},value:r})}return{kind:i.Kind.OBJECT,fields:n}}if((0,i.isLeafType)(r)){let e=r.serialize(t);return null==e?null:(0,i.isEnumType)(r)?{kind:i.Kind.ENUM,value:e}:"ID"===r.name&&"string"==typeof e&&a.test(e)?{kind:i.Kind.INT,value:e}:(0,o.astFromValueUntyped)(e)}console.assert(!1,"Unexpected input type: "+(0,n.inspect)(r))};let n=e.r(20056),i=e.r(83391),o=e.r(38035),s=e.r(29749),a=/^-?(?:0|[1-9][0-9]*)$/},88838,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDescriptionNode=function(e){return e.astNode?.description?{...e.astNode.description,block:!0}:e.description?{kind:n.Kind.STRING,value:e.description,block:!0}:void 0};let n=e.r(83391)},58104,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRootTypeMap=r.getRootTypes=r.getRootTypeNames=void 0,r.getDefinedRootType=function(e,t,i){let o=(0,r.getRootTypeMap)(e).get(t);if(null==o)throw(0,n.createGraphQLError)(`Schema is not configured to execute ${t} operation.`,{nodes:i});return o};let n=e.r(7128),i=e.r(32430);r.getRootTypeNames=(0,i.memoize1)(function(e){return new Set([...(0,r.getRootTypes)(e)].map(e=>e.name))}),r.getRootTypes=(0,i.memoize1)(function(e){return new Set((0,r.getRootTypeMap)(e).values())}),r.getRootTypeMap=(0,i.memoize1)(function(e){let t=new Map,r=e.getQueryType();r&&t.set("query",r);let n=e.getMutationType();n&&t.set("mutation",n);let i=e.getSubscriptionType();return i&&t.set("subscription",i),t})},39643,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDocumentNodeFromSchema=d,r.printSchemaWithDirectives=function(e,t={}){let r=d(e,t);return(0,n.print)(r)},r.astFromSchema=p,r.astFromDirective=h,r.getDirectiveNodes=f,r.astFromArg=m,r.astFromObjectType=y,r.astFromInterfaceType=v,r.astFromUnionType=g,r.astFromInputObjectType=T,r.astFromEnumType=E,r.astFromScalarType=_,r.astFromField=S,r.astFromInputField=b,r.astFromEnumValue=P,r.makeDeprecatedDirective=O,r.makeDirectiveNode=I,r.makeDirectiveNodes=w;let n=e.r(83391),i=e.r(42770),o=e.r(70356),s=e.r(38035),a=e.r(88838),l=e.r(98624),u=e.r(51178),c=e.r(58104);function d(e,t={}){let r=t.pathToDirectivesInExtensions,i=e.getTypeMap(),o=p(e,r),s=null!=o?[o]:[];for(let t of e.getDirectives())(0,n.isSpecifiedDirective)(t)||s.push(h(t,e,r));for(let t in i){let o=i[t],a=(0,n.isSpecifiedScalarType)(o),l=(0,n.isIntrospectionType)(o);if(!a&&!l)if((0,n.isObjectType)(o))s.push(y(o,e,r));else if((0,n.isInterfaceType)(o))s.push(v(o,e,r));else if((0,n.isUnionType)(o))s.push(g(o,e,r));else if((0,n.isInputObjectType)(o))s.push(T(o,e,r));else if((0,n.isEnumType)(o))s.push(E(o,e,r));else if((0,n.isScalarType)(o))s.push(_(o,e,r));else throw Error(`Unknown type ${o}.`)}return{kind:n.Kind.DOCUMENT,definitions:s}}function p(e,t){let r=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),o=[];if(null!=e.astNode&&o.push(e.astNode),null!=e.extensionASTNodes)for(let t of e.extensionASTNodes)o.push(t);for(let e of o)if(e.operationTypes)for(let t of e.operationTypes)r.set(t.operation,t);let s=(0,c.getRootTypeMap)(e);for(let[e,t]of r){let o=s.get(e);if(null!=o){let s=(0,i.astFromType)(o);null!=t?t.type=s:r.set(e,{kind:n.Kind.OPERATION_TYPE_DEFINITION,operation:e,type:s})}}let l=[...r.values()].filter(u.isSome),d=f(e,e,t);if(!l.length&&!d.length)return null;let p={kind:l.length?n.Kind.SCHEMA_DEFINITION:n.Kind.SCHEMA_EXTENSION,operationTypes:l,directives:d},h=(0,a.getDescriptionNode)(e);return h&&(p.description=h),p}function h(e,t,r){return{kind:n.Kind.DIRECTIVE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},arguments:e.args?.map(e=>m(e,t,r)),repeatable:e.isRepeatable,locations:e.locations?.map(e=>({kind:n.Kind.NAME,value:e}))||[]}}function f(e,t,r){let i,o=[],s=(0,l.getDirectivesInExtensions)(e,r);null!=s&&(i=w(t,s));let a=null,u=null,c=null;return null!=i&&(o=i.filter(e=>n.specifiedDirectives.every(t=>t.name!==e.name.value)),a=i.find(e=>"deprecated"===e.name.value),u=i.find(e=>"specifiedBy"===e.name.value),c=i.find(e=>"oneOf"===e.name.value)),null!=e.deprecationReason&&null==a&&(a=O(e.deprecationReason)),(null!=e.specifiedByUrl||null!=e.specifiedByURL&&null==u)&&(u=I("specifiedBy",{url:e.specifiedByUrl||e.specifiedByURL})),e.isOneOf&&null==c&&(c=I("oneOf")),null!=a&&o.push(a),null!=u&&o.push(u),null!=c&&o.push(c),o}function m(e,t,r){return{kind:n.Kind.INPUT_VALUE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},type:(0,i.astFromType)(e.type),defaultValue:void 0!==e.defaultValue?(0,o.astFromValue)(e.defaultValue,e.type)??void 0:void 0,directives:f(e,t,r)}}function y(e,t,r){return{kind:n.Kind.OBJECT_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>S(e,t,r)),interfaces:Object.values(e.getInterfaces()).map(e=>(0,i.astFromType)(e)),directives:f(e,t,r)}}function v(e,t,r){let o={kind:n.Kind.INTERFACE_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>S(e,t,r)),directives:f(e,t,r)};return"getInterfaces"in e&&(o.interfaces=Object.values(e.getInterfaces()).map(e=>(0,i.astFromType)(e))),o}function g(e,t,r){return{kind:n.Kind.UNION_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},directives:f(e,t,r),types:e.getTypes().map(e=>(0,i.astFromType)(e))}}function T(e,t,r){return{kind:n.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>b(e,t,r)),directives:f(e,t,r)}}function E(e,t,r){return{kind:n.Kind.ENUM_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},values:Object.values(e.getValues()).map(e=>P(e,t,r)),directives:f(e,t,r)}}function _(e,t,r){let i=w(t,(0,l.getDirectivesInExtensions)(e,r)),o=e.specifiedByUrl||e.specifiedByURL;return o&&!i.some(e=>"specifiedBy"===e.name.value)&&i.push(I("specifiedBy",{url:o})),{kind:n.Kind.SCALAR_TYPE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},directives:i}}function S(e,t,r){return{kind:n.Kind.FIELD_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},arguments:e.args.map(e=>m(e,t,r)),type:(0,i.astFromType)(e.type),directives:f(e,t,r)}}function b(e,t,r){return{kind:n.Kind.INPUT_VALUE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},type:(0,i.astFromType)(e.type),directives:f(e,t,r),defaultValue:(0,o.astFromValue)(e.defaultValue,e.type)??void 0}}function P(e,t,r){return{kind:n.Kind.ENUM_VALUE_DEFINITION,description:(0,a.getDescriptionNode)(e),name:{kind:n.Kind.NAME,value:e.name},directives:f(e,t,r)}}function O(e){return I("deprecated",{reason:e},n.GraphQLDeprecatedDirective)}function I(e,t,r){let i=[];for(let e in t){let a,l=t[e];if(null!=r){let t=r.args.find(t=>t.name===e);t&&(a=(0,o.astFromValue)(l,t.type))}null==a&&(a=(0,s.astFromValueUntyped)(l)),null!=a&&i.push({kind:n.Kind.ARGUMENT,name:{kind:n.Kind.NAME,value:e},value:a})}return{kind:n.Kind.DIRECTIVE,name:{kind:n.Kind.NAME,value:e},arguments:i}}function w(e,t){let r=[];for(let{name:n,args:i}of t){let t=e?.getDirective(n);r.push(I(n,i,t))}return r}},196,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateGraphQlDocuments=function(e,t,r=i()){let o=new Set,s=new Map;for(let e of t)for(let t of e.definitions)t.kind===n.Kind.FRAGMENT_DEFINITION?s.set(t.name.value,t):o.add(t);let a={kind:n.Kind.DOCUMENT,definitions:Array.from([...o,...s.values()])},l=(0,n.validate)(e,a,r);for(let e of l)if(e.stack=e.message,e.locations)for(let t of e.locations)e.stack+=`
    at ${e.source?.name}:${t.line}:${t.column}`;return l},r.createDefaultRules=i;let n=e.r(83391);function i(){let e=["NoUnusedFragmentsRule","NoUnusedVariablesRule","KnownDirectivesRule"];return n.versionInfo.major<15&&(e=e.map(e=>e.replace(/Rule$/,""))),n.specifiedRules.filter(t=>!e.includes(t.name))}},85944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseGraphQLJSON=function(e,t,r){var i;let o=JSON.parse((65279===(i=(i=t).toString()).charCodeAt(0)&&(i=i.slice(1)),i));if(o.data&&(o=o.data),"Document"===o.kind)return{location:e,document:o};if(o.__schema)return{location:e,schema:(0,n.buildClientSchema)(o,r)};if("string"==typeof o)return{location:e,rawSDL:o};throw Error("Not valid JSON content")};let n=e.r(83391)},77765,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resetComments=function(){i={}},r.collectComment=function(e){let t=e.name?.value;if(null!=t)switch(o(e,t),e.kind){case"EnumTypeDefinition":if(e.values)for(let r of e.values)o(r,t,r.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields){for(let r of e.fields)if(o(r,t,r.name.value),"FieldDefinition"===r.kind&&r.arguments)for(let e of r.arguments)o(e,t,r.name.value,e.name.value)}}},r.pushComment=o,r.printComment=s,r.printWithComments=function(e){return(0,n.visit)(e,h)},r.getDescription=function(e,t){return null!=e.description?e.description.value:t?.commentDescriptions?f(e):void 0},r.getComment=f,r.getLeadingCommentBlock=m,r.dedentBlockStringValue=y,r.getBlockStringIndentation=v;let n=e.r(83391),i={};function o(e,t,r,n){let o=f(e);if("string"!=typeof o||0===o.length)return;let s=[t];r&&(s.push(r),n&&s.push(n));let a=s.join(".");i[a]||(i[a]=[]),i[a].push(o)}function s(e){return"\n# "+e.replace(/\n/g,"\n# ")}function a(e,t){return e?e.filter(e=>e).join(t||""):""}function l(e){return e?.some(e=>e.includes("\n"))??!1}function u(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function c(e){return e&&0!==e.length?`{
${u(a(e,"\n"))}
}`:""}function d(e,t,r){return t?e+t+(r||""):""}let p={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>a(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{let t=d("(",a(e.variableDefinitions,", "),")");return a([e.operation,a([e.name,t]),a(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+d(" = ",r)+d(" ",a(n," "))},SelectionSet:{leave:({selections:e})=>c(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let o=d("",e,": ")+t,s=o+d("(",a(r,", "),")");return s.length>80&&(s=o+d("(\n",u(a(r,"\n")),"\n)")),a([s,a(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+d(" ",a(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>a(["...",d("on ",e),a(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${d("(",a(r,", "),")")} on ${t} ${d("",a(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){let r=e.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(" "===e[0]||"	"===e[0])&&-1===e.indexOf("\n")?`"""${r.replace(/"$/,'"\n')}"""`:`"""
${t?r:u(r)}
"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+a(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+a(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+d("(",a(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>a(["schema",a(e," "),c(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>a(["scalar",e,a(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>a(["type",e,d("implements ",a(t," & ")),a(r," "),c(n)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:r,directives:n})=>e+(l(t)?d("(\n",u(a(t,"\n")),"\n)"):d("(",a(t,", "),")"))+": "+r+d(" ",a(n," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:r,directives:n})=>a([e+": "+t,d("= ",r),a(n," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>a(["interface",e,d("implements ",a(t," & ")),a(r," "),c(n)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:r})=>a(["union",e,a(t," "),d("= ",a(r," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:r})=>a(["enum",e,a(t," "),c(r)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>a([e,a(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:r})=>a(["input",e,a(t," "),c(r)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:r,locations:n})=>"directive @"+e+(l(t)?d("(\n",u(a(t,"\n")),"\n)"):d("(",a(t,", "),")"))+(r?" repeatable":"")+" on "+a(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>a(["extend schema",a(e," "),c(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>a(["extend scalar",e,a(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>a(["extend type",e,d("implements ",a(t," & ")),a(r," "),c(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>a(["extend interface",e,d("implements ",a(t," & ")),a(r," "),c(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>a(["extend union",e,a(t," "),d("= ",a(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>a(["extend enum",e,a(t," "),c(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>a(["extend input",e,a(t," "),c(r)]," ")}},h=Object.keys(p).reduce((e,t)=>{var r;return{...e,[t]:{leave:(r=p[t].leave,(e,t,n,o,l)=>{let u=[],c=o.reduce((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&u.push(e.name.value),e[t]),l[0]),d=[...u,c?.name?.value].filter(Boolean).join("."),p=[];return e.kind.includes("Definition")&&i[d]&&p.push(...i[d]),a([...p.map(s),e.description,r(e,t,n,o,l)],"\n")})}}},{});function f(e){let t=m(e);if(void 0!==t)return y(`
${t}`)}function m(e){let t=e.loc;if(!t)return;let r=[],i=t.startToken.prev;for(;null!=i&&i.kind===n.TokenKind.COMMENT&&null!=i.next&&null!=i.prev&&i.line+1===i.next.line&&i.line!==i.prev.line;){let e=String(i.value);r.push(e),i=i.prev}return r.length>0?r.reverse().join("\n"):void 0}function y(e){let t=e.split(/\r\n|[\n\r]/g),r=v(t);if(0!==r)for(let e=1;e<t.length;e++)t[e]=t[e].slice(r);for(;t.length>0&&T(t[0]);)t.shift();for(;t.length>0&&T(t[t.length-1]);)t.pop();return t.join("\n")}function v(e){let t=null;for(let r=1;r<e.length;r++){let n=e[r],i=g(n);if(i!==n.length&&(null===t||i<t)&&0===(t=i))break}return null===t?0:t}function g(e){let t=0;for(;t<e.length&&(" "===e[t]||"	"===e[t]);)t++;return t}function T(e){return g(e)===e.length}},44596,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseGraphQLSDL=function(e,t,r={}){let i;try{r.commentDescriptions&&t.includes("#")?(i=o(t,r),r.noLocation&&(i=(0,n.parse)((0,n.print)(i),r))):i=(0,n.parse)(new n.Source(t,e),r)}catch(e){if(e.message.includes("EOF")&&""===t.replace(/(\#[^*]*)/g,"").trim())i={kind:n.Kind.DOCUMENT,definitions:[]};else throw e}return{location:e,document:i}},r.transformCommentsToDescriptions=o,r.isDescribable=s;let n=e.r(83391),i=e.r(77765);function o(e,t={}){let r=(0,n.parse)(e,{...t,noLocation:!1});return(0,n.visit)(r,{leave:e=>{if(s(e)){let t=(0,i.getLeadingCommentBlock)(e);if(void 0!==t){let r=(0,i.dedentBlockStringValue)("\n"+t),o=r.includes("\n");return e.description?{...e,description:{...e.description,value:e.description.value+"\n"+r,block:!0}}:{...e,description:{kind:n.Kind.STRING,value:r,block:o}}}}}})}function s(e){return(0,n.isTypeSystemDefinitionNode)(e)||e.kind===n.Kind.FIELD_DEFINITION||e.kind===n.Kind.INPUT_VALUE_DEFINITION||e.kind===n.Kind.ENUM_VALUE_DEFINITION}},38206,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.buildOperationNodeForField=function({schema:e,kind:t,field:r,models:i,ignore:p=[],depthLimit:h,circularReferenceDepth:f,argNames:m,selectedFields:y=!0}){s=[],l();let v=(0,o.getRootTypeNames)(e),g=function({schema:e,fieldName:t,kind:r,models:i,ignore:l,depthLimit:p,circularReferenceDepth:h,argNames:f,selectedFields:m,rootTypeNames:y}){let v=(0,o.getDefinedRootType)(e,r),g=v.getFields()[t],T=`${t}_${r}`;if(g.args)for(let e of g.args){var E;let t=e.name;(!f||f.includes(t))&&(E=u(e,t),s.push(E))}return{kind:n.Kind.OPERATION_DEFINITION,operation:r,name:{kind:n.Kind.NAME,value:T},variableDefinitions:[],selectionSet:{kind:n.Kind.SELECTION_SET,selections:[function e({type:t,field:r,models:i,firstCall:o,path:l,ancestors:p,ignore:h,depthLimit:f,circularReferenceDepth:m,schema:y,depth:v,argNames:g,selectedFields:T,rootTypeNames:E}){let _=(0,n.getNamedType)(r.type),S=[],b=!1;if(r.args&&r.args.length&&(S=r.args.map(e=>{var t;let r=c(e.name,l);return g&&!g.includes(r)?((0,n.isNonNullType)(e.type)&&(b=!0),null):(o||(t=u(e,r),s.push(t)),{kind:n.Kind.ARGUMENT,name:{kind:n.Kind.NAME,value:e.name},value:{kind:n.Kind.VARIABLE,name:{kind:n.Kind.NAME,value:c(e.name,l)}}})}).filter(Boolean)),b)return null;let P=[...l,r.name],O=P.join("."),I=r.name;return(a.has(O)&&a.get(O)!==r.type.toString()&&(I+=r.type.toString().replace(/!/g,"NonNull").replace(/\[/g,"List").replace(/\]/g,"")),a.set(O,r.type.toString()),(0,n.isScalarType)(_)||(0,n.isEnumType)(_))?{kind:n.Kind.FIELD,name:{kind:n.Kind.NAME,value:r.name},...I!==r.name&&{alias:{kind:n.Kind.NAME,value:I}},arguments:S}:{kind:n.Kind.FIELD,name:{kind:n.Kind.NAME,value:r.name},...I!==r.name&&{alias:{kind:n.Kind.NAME,value:I}},selectionSet:function t({parent:r,type:i,models:o,firstCall:s,path:a,ancestors:l,ignore:u,depthLimit:c,circularReferenceDepth:p,schema:h,depth:f,argNames:m,selectedFields:y,rootTypeNames:v}){if("boolean"!=typeof y||!(f>c)){if((0,n.isUnionType)(i)){let e=i.getTypes();return{kind:n.Kind.SELECTION_SET,selections:e.filter(e=>!d([...l,e],{depth:p})).map(e=>({kind:n.Kind.INLINE_FRAGMENT,typeCondition:{kind:n.Kind.NAMED_TYPE,name:{kind:n.Kind.NAME,value:e.name}},selectionSet:t({parent:i,type:e,models:o,path:a,ancestors:l,ignore:u,depthLimit:c,circularReferenceDepth:p,schema:h,depth:f,argNames:m,selectedFields:y,rootTypeNames:v})})).filter(e=>e?.selectionSet?.selections?.length>0)}}if((0,n.isInterfaceType)(i)){let e=Object.values(h.getTypeMap()).filter(e=>(0,n.isObjectType)(e)&&e.getInterfaces().includes(i));return{kind:n.Kind.SELECTION_SET,selections:e.filter(e=>!d([...l,e],{depth:p})).map(e=>({kind:n.Kind.INLINE_FRAGMENT,typeCondition:{kind:n.Kind.NAMED_TYPE,name:{kind:n.Kind.NAME,value:e.name}},selectionSet:t({parent:i,type:e,models:o,path:a,ancestors:l,ignore:u,depthLimit:c,circularReferenceDepth:p,schema:h,depth:f,argNames:m,selectedFields:y,rootTypeNames:v})})).filter(e=>e?.selectionSet?.selections?.length>0)}}if((0,n.isObjectType)(i)&&!v.has(i.name)){let t=u.includes(i.name)||u.includes(`${r.name}.${a[a.length-1]}`),g=o.includes(i.name);if(!s&&g&&!t)return{kind:n.Kind.SELECTION_SET,selections:[{kind:n.Kind.FIELD,name:{kind:n.Kind.NAME,value:"id"}}]};let T=i.getFields();return{kind:n.Kind.SELECTION_SET,selections:Object.keys(T).filter(e=>!d([...l,(0,n.getNamedType)(T[e].type)],{depth:p})).map(t=>{let r="object"!=typeof y||y[t];return r?e({type:i,field:T[t],models:o,path:[...a,t],ancestors:l,ignore:u,depthLimit:c,circularReferenceDepth:p,schema:h,depth:f,argNames:m,selectedFields:r,rootTypeNames:v}):null}).filter(e=>null!=e&&(!("selectionSet"in e)||!!e.selectionSet?.selections?.length))}}}}({parent:t,type:_,models:i,firstCall:o,path:P,ancestors:[...p,t],ignore:h,depthLimit:f,circularReferenceDepth:m,schema:y,depth:v+1,argNames:g,selectedFields:T,rootTypeNames:E})||void 0,arguments:S}}({type:v,field:g,models:i,firstCall:!0,path:[],ancestors:[],ignore:l,depthLimit:p,circularReferenceDepth:h,schema:e,depth:0,argNames:f,selectedFields:m,rootTypeNames:y})]}}}({schema:e,fieldName:r,kind:t,models:i||[],ignore:p,depthLimit:h||1/0,circularReferenceDepth:f||1,argNames:m,selectedFields:y,rootTypeNames:v});return g.variableDefinitions=[...s],s=[],l(),g};let n=e.r(83391),i=e.r(38035),o=e.r(58104),s=[],a=new Map;function l(){a=new Map}function u(e,t){let r;try{let t=(0,n.astFromValue)(e.defaultValue,e.type);r=null==t?void 0:t}catch(n){let t=(0,i.astFromValueUntyped)(e.defaultValue);r=null==t?void 0:t}return{kind:n.Kind.VARIABLE_DEFINITION,variable:{kind:n.Kind.VARIABLE,name:{kind:n.Kind.NAME,value:t||e.name}},type:function e(t){return(0,n.isListType)(t)?{kind:n.Kind.LIST_TYPE,type:e(t.ofType)}:(0,n.isNonNullType)(t)?{kind:n.Kind.NON_NULL_TYPE,type:e(t.ofType)}:{kind:n.Kind.NAMED_TYPE,name:{kind:n.Kind.NAME,value:t.name}}}(e.type),defaultValue:r}}function c(e,t){return[...t,e].join("_")}function d(e,t={depth:1}){let r=e[e.length-1];return!(0,n.isScalarType)(r)&&e.filter(e=>e.name===r.name).length>t.depth}},37132,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.DirectiveLocation=void 0,(i=n||(r.DirectiveLocation=n={})).QUERY="QUERY",i.MUTATION="MUTATION",i.SUBSCRIPTION="SUBSCRIPTION",i.FIELD="FIELD",i.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",i.FRAGMENT_SPREAD="FRAGMENT_SPREAD",i.INLINE_FRAGMENT="INLINE_FRAGMENT",i.VARIABLE_DEFINITION="VARIABLE_DEFINITION",i.SCHEMA="SCHEMA",i.SCALAR="SCALAR",i.OBJECT="OBJECT",i.FIELD_DEFINITION="FIELD_DEFINITION",i.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",i.INTERFACE="INTERFACE",i.UNION="UNION",i.ENUM="ENUM",i.ENUM_VALUE="ENUM_VALUE",i.INPUT_OBJECT="INPUT_OBJECT",i.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"},33777,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.MapperKind=void 0,(i=n||(r.MapperKind=n={})).TYPE="MapperKind.TYPE",i.SCALAR_TYPE="MapperKind.SCALAR_TYPE",i.ENUM_TYPE="MapperKind.ENUM_TYPE",i.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",i.OBJECT_TYPE="MapperKind.OBJECT_TYPE",i.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",i.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",i.UNION_TYPE="MapperKind.UNION_TYPE",i.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",i.ROOT_OBJECT="MapperKind.ROOT_OBJECT",i.QUERY="MapperKind.QUERY",i.MUTATION="MapperKind.MUTATION",i.SUBSCRIPTION="MapperKind.SUBSCRIPTION",i.DIRECTIVE="MapperKind.DIRECTIVE",i.FIELD="MapperKind.FIELD",i.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",i.OBJECT_FIELD="MapperKind.OBJECT_FIELD",i.ROOT_FIELD="MapperKind.ROOT_FIELD",i.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",i.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",i.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",i.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",i.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",i.ARGUMENT="MapperKind.ARGUMENT",i.ENUM_VALUE="MapperKind.ENUM_VALUE"},98844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getObjectTypeFromTypeMap=function(e,t){if(t){let r=e[t.name];if((0,n.isObjectType)(r))return r}};let n=e.r(83391)},21022,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createNamedStub=i,r.createStub=function e(t,r){switch(t.kind){case n.Kind.LIST_TYPE:return new n.GraphQLList(e(t.type,r));case n.Kind.NON_NULL_TYPE:return new n.GraphQLNonNull(e(t.type,r));default:if("output"===r)return i(t.name.value,"object");return i(t.name.value,"input")}},r.isNamedStub=function(e){if("getFields"in e){let t=e.getFields();for(let e in t)return"_fake"===t[e].name}return!1},r.getBuiltInForStub=function(e){switch(e.name){case n.GraphQLInt.name:return n.GraphQLInt;case n.GraphQLFloat.name:return n.GraphQLFloat;case n.GraphQLString.name:return n.GraphQLString;case n.GraphQLBoolean.name:return n.GraphQLBoolean;case n.GraphQLID.name:return n.GraphQLID;default:return e}};let n=e.r(83391);function i(e,t){return new("object"===t?n.GraphQLObjectType:"interface"===t?n.GraphQLInterfaceType:n.GraphQLInputObjectType)({name:e,fields:{_fake:{type:n.GraphQLString}}})}},73717,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rewireTypes=function(e,t){let r=Object.create(null);for(let t in e)r[t]=e[t];let o=Object.create(null);for(let e in r){let t=r[e];if(null==t||e.startsWith("__"))continue;let n=t.name;if(!n.startsWith("__")){if(null!=o[n]){console.warn(`Duplicate schema type name ${n} found; keeping the existing one found in the schema`);continue}o[n]=t}}for(let e in o)o[e]=a(o[e]);return{typeMap:o,directives:t.map(e=>(function(e){if((0,n.isSpecifiedDirective)(e))return e;let t=e.toConfig();return t.args=s(t.args),new n.GraphQLDirective(t)})(e))};function s(e){let t={};for(let r in e){let n=e[r],i=c(n.type);null!=i&&(n.type=i,t[r]=n)}return t}function a(e){if((0,n.isObjectType)(e)){let t=e.toConfig(),r={...t,fields:()=>l(t.fields),interfaces:()=>u(t.interfaces)};return new n.GraphQLObjectType(r)}if((0,n.isInterfaceType)(e)){let t=e.toConfig(),r={...t,fields:()=>l(t.fields)};return"interfaces"in r&&(r.interfaces=()=>u(t.interfaces)),new n.GraphQLInterfaceType(r)}if((0,n.isUnionType)(e)){let t=e.toConfig(),r={...t,types:()=>u(t.types)};return new n.GraphQLUnionType(r)}if((0,n.isInputObjectType)(e)){let t=e.toConfig(),r={...t,fields:()=>(function(e){let t={};for(let r in e){let n=e[r],i=c(n.type);null!=i&&(n.type=i,t[r]=n)}return t})(t.fields)};return new n.GraphQLInputObjectType(r)}if((0,n.isEnumType)(e)){let t=e.toConfig();return new n.GraphQLEnumType(t)}else if((0,n.isScalarType)(e)){if((0,n.isSpecifiedScalarType)(e))return e;let t=e.toConfig();return new n.GraphQLScalarType(t)}throw Error(`Unexpected schema type: ${e}`)}function l(e){let t={};for(let r in e){let n=e[r],i=c(n.type);null!=i&&n.args&&(n.type=i,n.args=s(n.args),t[r]=n)}return t}function u(e){let t=[];for(let r of e){let e=c(r);null!=e&&t.push(e)}return t}function c(e){if((0,n.isListType)(e)){let t=c(e.ofType);return null!=t?new n.GraphQLList(t):null}if((0,n.isNonNullType)(e)){let t=c(e.ofType);return null!=t?new n.GraphQLNonNull(t):null}if((0,n.isNamedType)(e)){let t=r[e.name];return void 0===t&&(o[(t=(0,i.isNamedStub)(e)?(0,i.getBuiltInForStub)(e):a(e)).name]=r[e.name]=t),null!=t?o[t.name]:null}return null}};let n=e.r(83391),i=e.r(21022)},52733,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformInputValue=o,r.serializeInputValue=function(e,t){return o(e,t,(e,t)=>{try{return e.serialize(t)}catch{return t}})},r.parseInputValue=function(e,t){return o(e,t,(e,t)=>{try{return e.parseValue(t)}catch{return t}})},r.parseInputValueLiteral=function(e,t){return o(e,t,(e,t)=>e.parseLiteral(t,{}))};let n=e.r(83391),i=e.r(51178);function o(e,t,r=null,s=null){if(null==t)return t;let a=(0,n.getNullableType)(e);if((0,n.isLeafType)(a))return null!=r?r(a,t):t;if((0,n.isListType)(a))return(0,i.asArray)(t).map(e=>o(a.ofType,e,r,s));if((0,n.isInputObjectType)(a)){let e=a.getFields(),n={};for(let i in t){let a=e[i];null!=a&&(n[i]=o(a.type,t[i],r,s))}return null!=s?s(a,n):n}}},21393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mapSchema=function(e,t={}){var r,l;let d,m,y=h(p(u(c((r=u(c(e.getTypeMap(),e,a.serializeInputValue),e,t,e=>(0,n.isLeafType)(e)),l=e,(m=null!=(d=t[o.MapperKind.ENUM_VALUE])?d:null)?u(r,l,{[o.MapperKind.ENUM_TYPE]:e=>{let t=e.toConfig(),r=t.values,i={};for(let t in r){let n=r[t],o=m(n,e.name,l,t);if(void 0===o)i[t]=n;else if(Array.isArray(o)){let[e,t]=o;i[e]=void 0===t?n:t}else null!==o&&(i[t]=o)}return f(new n.GraphQLEnumType({...t,values:i}))}},e=>(0,n.isEnumType)(e)):r),e,a.parseInputValue),e,t,e=>!(0,n.isLeafType)(e)),e,t),e,t),v=function(e,t,r){let n,i=null!=(n=r[o.MapperKind.DIRECTIVE])?n:null;if(null==i)return e.slice();let s=[];for(let r of e){let e=i(r,t);void 0===e?s.push(r):null!==e&&s.push(e)}return s}(e.getDirectives(),e,t),{typeMap:g,directives:T}=(0,s.rewireTypes)(y,v);return new n.GraphQLSchema({...e.toConfig(),query:(0,i.getObjectTypeFromTypeMap)(g,(0,i.getObjectTypeFromTypeMap)(y,e.getQueryType())),mutation:(0,i.getObjectTypeFromTypeMap)(g,(0,i.getObjectTypeFromTypeMap)(y,e.getMutationType())),subscription:(0,i.getObjectTypeFromTypeMap)(g,(0,i.getObjectTypeFromTypeMap)(y,e.getSubscriptionType())),types:Object.values(g),directives:T})},r.correctASTNodes=f;let n=e.r(83391),i=e.r(98844),o=e.r(33777),s=e.r(73717),a=e.r(52733),l=["String","ID","Int","Float","Boolean"];function u(e,t,r,i=()=>!0){let s={};for(let a in e)if(!a.startsWith("__")&&!l.includes(a)){let l=e[a];if(null==l||!i(l)){s[a]=l;continue}let u=function(e,t,r){let i,s,a,l=[...(s=e.getType(r),a=[o.MapperKind.TYPE],(0,n.isObjectType)(s)?(a.push(o.MapperKind.COMPOSITE_TYPE,o.MapperKind.OBJECT_TYPE),r===e.getQueryType()?.name?a.push(o.MapperKind.ROOT_OBJECT,o.MapperKind.QUERY):r===e.getMutationType()?.name?a.push(o.MapperKind.ROOT_OBJECT,o.MapperKind.MUTATION):r===e.getSubscriptionType()?.name&&a.push(o.MapperKind.ROOT_OBJECT,o.MapperKind.SUBSCRIPTION)):(0,n.isInputObjectType)(s)?a.push(o.MapperKind.INPUT_OBJECT_TYPE):(0,n.isInterfaceType)(s)?a.push(o.MapperKind.COMPOSITE_TYPE,o.MapperKind.ABSTRACT_TYPE,o.MapperKind.INTERFACE_TYPE):(0,n.isUnionType)(s)?a.push(o.MapperKind.COMPOSITE_TYPE,o.MapperKind.ABSTRACT_TYPE,o.MapperKind.UNION_TYPE):(0,n.isEnumType)(s)?a.push(o.MapperKind.ENUM_TYPE):(0,n.isScalarType)(s)&&a.push(o.MapperKind.SCALAR_TYPE),a)];for(;!i&&l.length>0;)i=t[l.pop()];return null!=i?i:null}(t,r,a);if(null==u){s[a]=l;continue}let c=u(l,t);if(void 0===c){s[a]=l;continue}s[a]=c}return s}function c(e,t,r){let n=h(e,t,{[o.MapperKind.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;let n=d(e,t.type);if(null!=n)return{...t,defaultValue:r(n,t.defaultValue)}}});return p(n,t,{[o.MapperKind.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;let t=d(n,e.type);if(null!=t)return{...e,defaultValue:r(t,e.defaultValue)}}})}function d(e,t){if((0,n.isListType)(t)){let r=d(e,t.ofType);return null!=r?new n.GraphQLList(r):null}if((0,n.isNonNullType)(t)){let r=d(e,t.ofType);return null!=r?new n.GraphQLNonNull(r):null}if((0,n.isNamedType)(t)){let r=e[t.name];return null!=r?r:null}return null}function p(e,t,r){let i={};for(let s in e)if(!s.startsWith("__")){let a=e[s];if(!(0,n.isObjectType)(a)&&!(0,n.isInterfaceType)(a)&&!(0,n.isInputObjectType)(a)){i[s]=a;continue}let l=function(e,t,r){let i,s,a,l=[...(s=e.getType(r),a=[o.MapperKind.FIELD],(0,n.isObjectType)(s)?(a.push(o.MapperKind.COMPOSITE_FIELD,o.MapperKind.OBJECT_FIELD),r===e.getQueryType()?.name?a.push(o.MapperKind.ROOT_FIELD,o.MapperKind.QUERY_ROOT_FIELD):r===e.getMutationType()?.name?a.push(o.MapperKind.ROOT_FIELD,o.MapperKind.MUTATION_ROOT_FIELD):r===e.getSubscriptionType()?.name&&a.push(o.MapperKind.ROOT_FIELD,o.MapperKind.SUBSCRIPTION_ROOT_FIELD)):(0,n.isInterfaceType)(s)?a.push(o.MapperKind.COMPOSITE_FIELD,o.MapperKind.INTERFACE_FIELD):(0,n.isInputObjectType)(s)&&a.push(o.MapperKind.INPUT_OBJECT_FIELD),a)];for(;!i&&l.length>0;)i=t[l.pop()];return i??null}(t,r,s);if(null==l){i[s]=a;continue}let u=a.toConfig(),c=u.fields,d={};for(let e in c){let r=c[e],n=l(r,e,s,t);if(void 0===n)d[e]=r;else if(Array.isArray(n)){let[e,t]=n;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),d[e]=void 0===t?r:t}else null!==n&&(d[e]=n)}(0,n.isObjectType)(a)?i[s]=f(new n.GraphQLObjectType({...u,fields:d})):(0,n.isInterfaceType)(a)?i[s]=f(new n.GraphQLInterfaceType({...u,fields:d})):i[s]=f(new n.GraphQLInputObjectType({...u,fields:d}))}return i}function h(e,t,r){let i={};for(let s in e)if(!s.startsWith("__")){let a=e[s];if(!(0,n.isObjectType)(a)&&!(0,n.isInterfaceType)(a)){i[s]=a;continue}let l=function(e){let t=e[o.MapperKind.ARGUMENT];return null!=t?t:null}(r);if(null==l){i[s]=a;continue}let u=a.toConfig(),c=u.fields,d={};for(let e in c){let r=c[e],n=r.args;if(null==n){d[e]=r;continue}let i=Object.keys(n);if(!i.length){d[e]=r;continue}let o={};for(let r of i){let i=n[r],a=l(i,e,s,t);if(void 0===a)o[r]=i;else if(Array.isArray(a)){let[e,t]=a;o[e]=t}else null!==a&&(o[r]=a)}d[e]={...r,args:o}}(0,n.isObjectType)(a)?i[s]=new n.GraphQLObjectType({...u,fields:d}):(0,n.isInterfaceType)(a)?i[s]=new n.GraphQLInterfaceType({...u,fields:d}):i[s]=new n.GraphQLInputObjectType({...u,fields:d})}return i}function f(e){if((0,n.isObjectType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:n.Kind.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:n.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}))),new n.GraphQLObjectType(t)}if((0,n.isInterfaceType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:n.Kind.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:n.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new n.GraphQLInterfaceType(t)}if((0,n.isInputObjectType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:n.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:n.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new n.GraphQLInputObjectType(t)}{if(!(0,n.isEnumType)(e))return e;let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.values){let n=t.values[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,values:void 0}))),new n.GraphQLEnumType(t)}}},33571,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterSchema=function({schema:e,typeFilter:t=()=>!0,fieldFilter:r,rootFieldFilter:l,objectFieldFilter:u,interfaceFieldFilter:c,inputObjectFieldFilter:d,argumentFilter:p,directiveFilter:h,enumValueFilter:f}){return(0,o.mapSchema)(e,{[i.MapperKind.QUERY]:e=>s(e,"Query",l,p),[i.MapperKind.MUTATION]:e=>s(e,"Mutation",l,p),[i.MapperKind.SUBSCRIPTION]:e=>s(e,"Subscription",l,p),[i.MapperKind.OBJECT_TYPE]:e=>t(e.name,e)?a(n.GraphQLObjectType,e,u||r,p):null,[i.MapperKind.INTERFACE_TYPE]:e=>t(e.name,e)?a(n.GraphQLInterfaceType,e,c||r,p):null,[i.MapperKind.INPUT_OBJECT_TYPE]:e=>t(e.name,e)?a(n.GraphQLInputObjectType,e,d||r):null,[i.MapperKind.UNION_TYPE]:e=>t(e.name,e)?void 0:null,[i.MapperKind.ENUM_TYPE]:e=>t(e.name,e)?void 0:null,[i.MapperKind.SCALAR_TYPE]:e=>t(e.name,e)?void 0:null,[i.MapperKind.DIRECTIVE]:e=>h&&!h(e.name,e)?null:void 0,[i.MapperKind.ENUM_VALUE]:(e,t,r,n)=>f&&!f(t,n,e)?null:void 0})};let n=e.r(83391),i=e.r(33777),o=e.r(21393);function s(e,t,r,i){if(r||i){let o=e.toConfig();for(let n in o.fields){let s=o.fields[n];if(r&&!r(t,n,o.fields[n]))delete o.fields[n];else if(i&&s.args)for(let t in s.args)i(e.name,n,t,s.args[t])||delete s.args[t]}return new n.GraphQLObjectType(o)}return e}function a(e,t,r,n){if(r||n){let i=t.toConfig();for(let e in i.fields){let o=i.fields[e];if(r&&!r(t.name,e,i.fields[e]))delete i.fields[e];else if(n&&"args"in o)for(let r in o.args)n(t.name,e,r,o.args[r])||delete o.args[r]}return new e(i)}}},38700,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.healSchema=function(e){return i(e.getTypeMap(),e.getDirectives()),e},r.healTypes=i;let n=e.r(83391);function i(e,t){let r=Object.create(null);for(let t in e){let n=e[t];if(null==n||t.startsWith("__"))continue;let i=n.name;if(!i.startsWith("__")){if(null!=r[i]){console.warn(`Duplicate schema type name ${i} found; keeping the existing one found in the schema`);continue}r[i]=n}}for(let t in r){let n=r[t];e[t]=n}for(let e of t)e.args=e.args.filter(e=>(e.type=s(e.type),null!==e.type));for(let t in e){let a=e[t];!t.startsWith("__")&&t in r&&null!=a&&function(e){if((0,n.isObjectType)(e)){i(e),o(e);return}if((0,n.isInterfaceType)(e)){i(e),"getInterfaces"in e&&o(e);return}if((0,n.isUnionType)(e))return function(e){let t=e.getTypes();t.push(...t.splice(0).map(e=>s(e)).filter(Boolean))}(e);if((0,n.isInputObjectType)(e))return function(e){let t=e.getFields();for(let[e,r]of Object.entries(t))r.type=s(r.type),null===r.type&&delete t[e]}(e);if(!(0,n.isLeafType)(e))throw Error(`Unexpected schema type: ${e}`)}(a)}for(let t in e)t.startsWith("__")||t in r||delete e[t];function i(e){let t=e.getFields();for(let[e,r]of Object.entries(t))r.args.map(e=>(e.type=s(e.type),null===e.type?null:e)).filter(Boolean),r.type=s(r.type),null===r.type&&delete t[e]}function o(e){if("getInterfaces"in e){let t=e.getInterfaces();t.push(...t.splice(0).map(e=>s(e)).filter(Boolean))}}function s(t){if((0,n.isListType)(t)){let e=s(t.ofType);return null!=e?new n.GraphQLList(e):null}if((0,n.isNonNullType)(t)){let e=s(t.ofType);return null!=e?new n.GraphQLNonNull(e):null}if((0,n.isNamedType)(t)){let r=e[t.name];if(r&&t!==r)return r}return t}}},93739,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getResolversFromSchema=function(e,t){let r=Object.create(null),i=e.getTypeMap();for(let e in i)if(!e.startsWith("__")){let o=i[e];if((0,n.isScalarType)(o)){if(!(0,n.isSpecifiedScalarType)(o)){let t=o.toConfig();delete t.astNode,r[e]=new n.GraphQLScalarType(t)}}else if((0,n.isEnumType)(o))for(let t of(r[e]={},o.getValues()))r[e][t.name]=t.value;else if((0,n.isInterfaceType)(o))null!=o.resolveType&&(r[e]={__resolveType:o.resolveType});else if((0,n.isUnionType)(o))null!=o.resolveType&&(r[e]={__resolveType:o.resolveType});else if((0,n.isObjectType)(o)){r[e]={},null!=o.isTypeOf&&(r[e].__isTypeOf=o.isTypeOf);let n=o.getFields();for(let i in n){let o=n[i];if(null!=o.subscribe&&(r[e][i]=r[e][i]||{},r[e][i].subscribe=o.subscribe),null!=o.resolve&&o.resolve?.name!=="defaultFieldResolver"){switch(o.resolve?.name){case"defaultMergedResolver":if(!t)continue;break;case"defaultFieldResolver":continue}r[e][i]=r[e][i]||{},r[e][i].resolve=o.resolve}}}}return r};let n=e.r(83391)},24558,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.forEachField=function(e,t){let r=e.getTypeMap();for(let e in r){let i=r[e];if(!(0,n.getNamedType)(i).name.startsWith("__")&&(0,n.isObjectType)(i)){let r=i.getFields();for(let n in r)t(r[n],e,n)}}};let n=e.r(83391)},29638,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.forEachDefaultValue=function(e,t){let r=e.getTypeMap();for(let e in r){let i=r[e];if(!(0,n.getNamedType)(i).name.startsWith("__")){if((0,n.isObjectType)(i)){let e=i.getFields();for(let r in e)for(let n of e[r].args)n.defaultValue=t(n.type,n.defaultValue)}else if((0,n.isInputObjectType)(i)){let e=i.getFields();for(let r in e){let n=e[r];n.defaultValue=t(n.type,n.defaultValue)}}}}};let n=e.r(83391)},12562,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addTypes=function(e,t){let r=e.toConfig(),s={};for(let e of r.types)s[e.name]=e;let a={};for(let e of r.directives)a[e.name]=e;for(let e of t)(0,n.isNamedType)(e)?s[e.name]=e:(0,n.isDirective)(e)&&(a[e.name]=e);let{typeMap:l,directives:u}=(0,o.rewireTypes)(s,Object.values(a));return new n.GraphQLSchema({...r,query:(0,i.getObjectTypeFromTypeMap)(l,e.getQueryType()),mutation:(0,i.getObjectTypeFromTypeMap)(l,e.getMutationType()),subscription:(0,i.getObjectTypeFromTypeMap)(l,e.getSubscriptionType()),types:Object.values(l),directives:u})};let n=e.r(83391),i=e.r(98844),o=e.r(73717)},25413,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pruneSchema=function(e,t={}){let{skipEmptyCompositeTypePruning:r,skipEmptyUnionPruning:i,skipPruning:u,skipUnimplementedInterfacesPruning:c,skipUnusedTypesPruning:d}=t,p=[],h=e;do{let e=function(e){let t=[];for(let r of(0,a.getRootTypes)(e))t.push(r.name);return l(t,e)}(h);if(u){let t=[];for(let e in h.getTypeMap()){if(e.startsWith("__"))continue;let r=h.getType(e);r&&u(r)&&t.push(e)}e=l(t,h,e)}p=[],h=(0,s.mapSchema)(h,{[o.MapperKind.TYPE]:t=>{if(!e.has(t.name)&&!(0,n.isSpecifiedScalarType)(t))return((0,n.isUnionType)(t)||(0,n.isInputObjectType)(t)||(0,n.isInterfaceType)(t)||(0,n.isObjectType)(t)||(0,n.isScalarType)(t))&&(d||(0,n.isUnionType)(t)&&i&&!Object.keys(t.getTypes()).length||((0,n.isInputObjectType)(t)||(0,n.isInterfaceType)(t)||(0,n.isObjectType)(t))&&r&&!Object.keys(t.getFields()).length||(0,n.isInterfaceType)(t)&&c)?t:(p.push(t.name),e.delete(t.name),null);return t}})}while(p.length)return h};let n=e.r(83391),i=e.r(87201),o=e.r(33777),s=e.r(21393),a=e.r(58104);function l(e,t,r=new Set){let o=new Map;for(;e.length;){let s=e.pop();if(r.has(s)&&!0!==o[s])continue;let a=t.getType(s);if(a){if((0,n.isUnionType)(a)&&e.push(...a.getTypes().map(e=>e.name)),(0,n.isInterfaceType)(a)&&!0===o[s]&&(e.push(...(0,i.getImplementingTypes)(a.name,t)),o[s]=!1),(0,n.isEnumType)(a)&&e.push(...a.getValues().flatMap(e=>u(t,e))),"getInterfaces"in a&&e.push(...a.getInterfaces().map(e=>e.name)),"getFields"in a){let r=Object.entries(a.getFields());if(!r.length)continue;for(let[,i]of r){(0,n.isObjectType)(a)&&e.push(...i.args.flatMap(e=>{let r=[(0,n.getNamedType)(e.type).name];return r.push(...u(t,e)),r}));let r=(0,n.getNamedType)(i.type);e.push(r.name),e.push(...u(t,i)),!(0,n.isInterfaceType)(r)||r.name in o||(o[r.name]=!0)}}e.push(...u(t,a)),r.add(s)}}return r}function u(e,t){let r=new Set;if(t.astNode?.directives)for(let i of t.astNode.directives){let t=e.getDirective(i.name.value);if(t?.args)for(let e of t.args){let t=(0,n.getNamedType)(e.type);r.add(t.name)}}if(t.extensions?.directives)for(let i in t.extensions.directives){let t=e.getDirective(i);if(t?.args)for(let e of t.args){let t=(0,n.getNamedType)(e.type);r.add(t.name)}}return[...r]}},75252,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeDeep=function e(t,r=!1,o=!1,s=!1){let a,l,u;if(0===t.length)return;if(1===t.length)return t[0];let c=!0,d=t.every(e=>{if(Array.isArray(e)){if(void 0===a)return a=e.length,!0;else if(a===e.length)return!0}else c=!1;return!1});if(s&&d)return Array(a).fill(null).map((n,i)=>e(t.map(e=>e[i]),r,o,s));if(c)return t.flat(1);for(let a of(r&&(u=t.find(e=>i(e)))&&(null==l&&(l={}),Object.setPrototypeOf(l,Object.create(Object.getPrototypeOf(u)))),t))if(null!=a)if(i(a)){if(u){let e=Object.getPrototypeOf(l),t=Object.getPrototypeOf(a);if(t)for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);(0,n.isSome)(i)&&Object.defineProperty(e,r,i)}}for(let t in a)null==l&&(l={}),t in l?l[t]=e([l[t],a[t]],r,o,s):l[t]=a[t]}else l=Array.isArray(a)&&Array.isArray(l)?e([l,a],r,o,s):a;return l};let n=e.r(51178);function i(e){return e&&"object"==typeof e&&!Array.isArray(e)}},98401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseSelectionSet=function(e,t){return(0,n.parse)(e,t).definitions[0].selectionSet};let n=e.r(83391)},50960,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getResponseKeyFromInfo=function(e){return null!=e.fieldNodes[0].alias?e.fieldNodes[0].alias.value:e.fieldName}},77985,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.appendObjectFields=function(e,t,r){return null==e.getType(t)?(0,i.addTypes)(e,[new n.GraphQLObjectType({name:t,fields:r})]):(0,s.mapSchema)(e,{[o.MapperKind.OBJECT_TYPE]:e=>{if(e.name===t){let t=e.toConfig(),i=t.fields,o={};for(let e in i)o[e]=i[e];for(let e in r)o[e]=r[e];return(0,s.correctASTNodes)(new n.GraphQLObjectType({...t,fields:o}))}}})},r.removeObjectFields=function(e,t,r){let i={};return[(0,s.mapSchema)(e,{[o.MapperKind.OBJECT_TYPE]:e=>{if(e.name===t){let t=e.toConfig(),o=t.fields,a={};for(let e in o){let t=o[e];r(e,t)?i[e]=t:a[e]=t}return(0,s.correctASTNodes)(new n.GraphQLObjectType({...t,fields:a}))}}}),i]},r.selectObjectFields=function(e,t,r){let n={};return(0,s.mapSchema)(e,{[o.MapperKind.OBJECT_TYPE]:e=>{if(e.name===t){let t=e.toConfig().fields;for(let e in t){let i=t[e];r(e,i)&&(n[e]=i)}}}}),n},r.modifyObjectFields=function(e,t,r,i){let a={};return[(0,s.mapSchema)(e,{[o.MapperKind.OBJECT_TYPE]:e=>{if(e.name===t){let t=e.toConfig(),o=t.fields,l={};for(let e in o){let t=o[e];r(e,t)?a[e]=t:l[e]=t}for(let e in i){let t=i[e];l[e]=t}return(0,s.correctASTNodes)(new n.GraphQLObjectType({...t,fields:l}))}}}),a]};let n=e.r(83391),i=e.r(12562),o=e.r(33777),s=e.r(21393)},71118,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.renameType=function(e,t){if((0,n.isObjectType)(e))return new n.GraphQLObjectType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});if((0,n.isInterfaceType)(e))return new n.GraphQLInterfaceType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});if((0,n.isUnionType)(e))return new n.GraphQLUnionType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});if((0,n.isInputObjectType)(e))return new n.GraphQLInputObjectType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});if((0,n.isEnumType)(e))return new n.GraphQLEnumType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});else if((0,n.isScalarType)(e))return new n.GraphQLScalarType({...e.toConfig(),name:t,astNode:null==e.astNode?e.astNode:{...e.astNode,name:{...e.astNode.name,value:t}},extensionASTNodes:null==e.extensionASTNodes?e.extensionASTNodes:e.extensionASTNodes.map(e=>({...e,name:{...e.name,value:t}}))});throw Error(`Unknown type ${e}.`)};let n=e.r(83391)},12312,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateArgument=function(e,t,r,o,s,a,l){if(e[o]={kind:n.Kind.ARGUMENT,name:{kind:n.Kind.NAME,value:o},value:{kind:n.Kind.VARIABLE,name:{kind:n.Kind.NAME,value:s}}},t[s]={kind:n.Kind.VARIABLE_DEFINITION,variable:{kind:n.Kind.VARIABLE,name:{kind:n.Kind.NAME,value:s}},type:(0,i.astFromType)(a)},void 0!==l){r[s]=l;return}s in r&&delete r[s]},r.createVariableNameGenerator=function(e){let t=0;return r=>{let n;do n=0===t?r:`_v${t.toString()}_${r}`,t++;while(n in e)return n}};let n=e.r(83391),i=e.r(42770)},50260,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.implementsAbstractType=function(e,t,r){if(null==r||null==t);else if(t===r)return!0;else if((0,n.isCompositeType)(t)&&(0,n.isCompositeType)(r))return(0,n.doTypesOverlap)(e,t,r);return!1};let n=e.r(83391)},55406,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observableToAsyncIterable=function(e){let t=[],r=[],i=!0,o=e.subscribe({next:e=>{0!==t.length?t.shift()({value:e,done:!1}):r.push({value:e,done:!1})},error:e=>{0!==t.length?t.shift()({value:{errors:[e]},done:!1}):r.push({value:{errors:[e]},done:!1})},complete:()=>void(0!==t.length?t.shift()({done:!0}):r.push({done:!0}))}),s=()=>{if(i){for(let e of(i=!1,o.unsubscribe(),t))e({value:void 0,done:!0});t.length=0,r.length=0}};return{next(){return i?new Promise(e=>{0!==r.length?e(r.shift()):t.push(e)}):this.return()},return:()=>(s(),(0,n.fakePromise)({value:void 0,done:!0})),throw:e=>(s(),(0,n.fakeRejectPromise)(e)),[Symbol.asyncIterator](){return this}}};let n=e.r(27137)},58975,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AccumulatorMap=void 0;class n extends Map{get[Symbol.toStringTag](){return"AccumulatorMap"}add(e,t){let r=this.get(e);void 0===r?this.set(e,[t]):r.push(t)}}r.AccumulatorMap=n},51355,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GraphQLStreamDirective=r.GraphQLDeferDirective=void 0;let n=e.r(83391);r.GraphQLDeferDirective=new n.GraphQLDirective({name:"defer",description:"Directs the executor to defer this fragment when the `if` argument is true or undefined.",locations:[n.DirectiveLocation.FRAGMENT_SPREAD,n.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:new n.GraphQLNonNull(n.GraphQLBoolean),description:"Deferred when true or undefined.",defaultValue:!0},label:{type:n.GraphQLString,description:"Unique name"}}}),r.GraphQLStreamDirective=new n.GraphQLDirective({name:"stream",description:"Directs the executor to stream plural fields when the `if` argument is true or undefined.",locations:[n.DirectiveLocation.FIELD],args:{if:{type:new n.GraphQLNonNull(n.GraphQLBoolean),description:"Stream when true or undefined.",defaultValue:!0},label:{type:n.GraphQLString,description:"Unique name"},initialCount:{defaultValue:0,type:n.GraphQLInt,description:"Number of items to return immediately"}}})},89345,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.collectSubFields=void 0,r.collectFields=function(e,t,r,n,o){let a=new i.AccumulatorMap,l=[];return s(e,t,r,n,o,a,l,new Set),{fields:a,patches:l}},r.shouldIncludeNode=a,r.doesFragmentConditionMatch=l,r.getFieldEntryKey=u,r.getDeferValues=c;let n=e.r(83391),i=e.r(58975),o=e.r(51355);function s(e,t,r,o,d,p,h,f){for(let m of d.selections)switch(m.kind){case n.Kind.FIELD:if(!a(r,m))continue;p.add(u(m),m);break;case n.Kind.INLINE_FRAGMENT:{if(!a(r,m)||!l(e,m,o))continue;let n=c(r,m);if(n){let a=new i.AccumulatorMap;s(e,t,r,o,m.selectionSet,a,h,f),h.push({label:n.label,fields:a})}else s(e,t,r,o,m.selectionSet,p,h,f);break}case n.Kind.FRAGMENT_SPREAD:{let n=m.name.value;if(!a(r,m))continue;let u=c(r,m);if(f.has(n)&&!u)continue;let d=t[n];if(!d||!l(e,d,o))continue;if(u||f.add(n),u){let n=new i.AccumulatorMap;s(e,t,r,o,d.selectionSet,n,h,f),h.push({label:u.label,fields:n})}else s(e,t,r,o,d.selectionSet,p,h,f)}}}function a(e,t){let r=(0,n.getDirectiveValues)(n.GraphQLSkipDirective,t,e);if(r?.if===!0)return!1;let i=(0,n.getDirectiveValues)(n.GraphQLIncludeDirective,t,e);return i?.if!==!1}function l(e,t,r){let i=t.typeCondition;if(!i)return!0;let o=(0,n.typeFromAST)(e,i);return o===r||!!(0,n.isAbstractType)(o)&&e.getPossibleTypes(o).includes(r)}function u(e){return e.alias?e.alias.value:e.name.value}function c(e,t){let r=(0,n.getDirectiveValues)(o.GraphQLDeferDirective,t,e);if(r&&!1!==r.if)return{label:"string"==typeof r.label?r.label:void 0}}r.collectSubFields=(0,e.r(32430).memoize5)(function(e,t,r,n,o){let a=new i.AccumulatorMap,l=new Set,u=[];for(let i of o)i.selectionSet&&s(e,t,r,n,i.selectionSet,a,u,l);return{fields:a,patches:u}})},61142,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getOperationASTFromRequest=void 0,r.getOperationASTFromDocument=i;let n=e.r(83391);function i(e,t){let r=(0,n.getOperationAST)(e,t);if(!r)throw Error(`Cannot infer operation ${t||""}`);return r}r.getOperationASTFromRequest=(0,e.r(32430).memoize1)(function(e){return i(e.document,e.operationName)})},70622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.visitData=function e(t,r,n){if(Array.isArray(t))return t.map(t=>e(t,r,n));if("object"==typeof t){let i=null!=r?r(t):t;if(null!=i)for(let t in i){let o=i[t];Object.defineProperty(i,t,{value:e(o,r,n)})}return null!=n?n(i):i}return t},r.visitErrors=function(e,t){return e.map(e=>t(e))},r.visitResult=function(e,t,r,a,l){var u,c,d;let p,h,f,m=t.document.definitions.reduce((e,t)=>(t.kind===n.Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e),{}),y=t.variables||{},v={segmentInfoMap:new Map,unpathedErrors:new Set},g=e.data,T=e.errors,E=null!=T&&null!=l,_=(0,o.getOperationASTFromRequest)(t);return null!=g&&null!=_&&(e.data=function(e,t,r,n,o,a,l,u){let c=function(e,t){switch(t.operation){case"query":return e.getQueryType();case"mutation":return e.getMutationType();case"subscription":return e.getSubscriptionType()}}(r,t),{fields:d}=(0,i.collectFields)(r,n,o,c,t.selectionSet);return s(e,c,d,r,n,o,a,0,l,u)}(g,_,r,m,y,a,E?T:void 0,v)),null!=T&&l&&(u=T,c=l,p=(d=v).segmentInfoMap,h=d.unpathedErrors,f=c.__unpathed,e.errors=u.map(e=>{let t=p.get(e),r=null==t?e:t.reduceRight((e,t)=>{let r=c[t.type.name];if(null==r)return e;let n=r[t.fieldName];return null==n?e:n(e,t.pathIndex)},e);return f&&h.has(e)?f(r):r})),e};let n=e.r(83391),i=e.r(89345),o=e.r(61142);function s(e,t,r,o,l,u,c,d,p,h){let f,m=t.getFields(),y=c?.[t.name],v=y?.__enter,g=null!=v?v(e):e,T=null;if(null!=p)for(let e of(T=(f=function(e,t){let r=Object.create(null),n=new Set;for(let i of e){let e=i.path?.[t];if(null==e){n.add(i);continue}e in r?r[e].push(i):r[e]=[i]}return{errorMap:r,unpathedErrors:n}}(p,d)).errorMap,f.unpathedErrors))h.unpathedErrors.add(e);for(let[p,f]of r){let r,v=f[0].name.value,E=m[v]?.type;if(null==E)switch(v){case"__typename":E=n.TypeNameMetaFieldDef.type;break;case"__schema":E=n.SchemaMetaFieldDef.type;break;case"__type":E=n.TypeMetaFieldDef.type}let _=d+1;T&&(null!=(r=T[p])&&delete T[p],function(e,t,r,n=[],i){for(let o of n){let n={type:e,fieldName:t,pathIndex:r},s=i.segmentInfoMap.get(o);null==s?i.segmentInfoMap.set(o,[n]):s.push(n)}}(t,v,_,r,h));let S=function e(t,r,o,a,l,u,c,d,p=[],h){if(null==t)return t;let f=(0,n.getNullableType)(r);if((0,n.isListType)(f)){var m;return m=f.ofType,t.map(t=>e(t,m,o,a,l,u,c,d+1,p,h))}if((0,n.isAbstractType)(f)){let e=a.getType(t.__typename),{fields:r,patches:n}=(0,i.collectSubFields)(a,l,u,e,o);if(n.length)for(let e of(r=new Map(r),n))for(let[t,n]of e.fields){let e=r.get(t);e?e.push(...n):r.set(t,n)}return s(t,e,r,a,l,u,c,d,p,h)}if((0,n.isObjectType)(f)){let{fields:e,patches:r}=(0,i.collectSubFields)(a,l,u,f,o);if(r.length)for(let t of(e=new Map(e),r))for(let[r,n]of t.fields){let t=e.get(r);t?t.push(...n):e.set(r,n)}return s(t,f,e,a,l,u,c,d,p,h)}let y=c?.[f.name];if(null==y)return t;let v=y(t);return void 0===v?t:v}(e[p],E,f,o,l,u,c,_,r,h);a(g,p,S,y,v)}let E=g.__typename;if(null!=E&&a(g,"__typename",E,y,"__typename"),T)for(let e in T)for(let t of T[e])h.unpathedErrors.add(t);let _=y?.__leave;return null!=_?_(g):g}function a(e,t,r,n,i){if(null==n){e[t]=r;return}let o=n[i];if(null==o){e[t]=r;return}let s=o(r);void 0===s?delete e[t]:e[t]=s}},3849,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.valueMatchesCriteria=function e(t,r){if(null==t);else if(Array.isArray(t))return Array.isArray(r)&&t.every((t,n)=>e(t,r[n]));else if("object"==typeof t)return"object"==typeof r&&r&&Object.keys(r).every(n=>e(t[n],r[n]));else if(r instanceof RegExp)return r.test(t);return t===r}},21358,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isAsyncIterable=function(e){return e?.[Symbol.asyncIterator]!=null}},87595,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDocumentNode=function(e){return e&&"object"==typeof e&&"kind"in e&&e.kind===n.Kind.DOCUMENT};let n=e.r(83391)},30447,(e,t,r)=>{},40483,(e,t,r)=>{"use strict";async function n(e){return{value:e,done:!0}}Object.defineProperty(r,"__esModule",{value:!0}),r.getAsyncIteratorWithCancel=o,r.getAsyncIterableWithCancel=s,r.withCancel=s;let i=(0,e.r(32430).memoize2)(function(e,t){return function(...r){return Reflect.apply(t,e,r)}});function o(e,t){return new Proxy(e,{has:(e,t)=>"return"===t||Reflect.has(e,t),get(e,r,o){let s=Reflect.get(e,r,o);if("return"===r){let r=s||n;return async function(n){return Reflect.apply(r,e,[await t(n)])}}return"function"==typeof s?i(e,s):s}})}function s(e,t){return new Proxy(e,{get(e,r,n){let s=Reflect.get(e,r,n);return Symbol.asyncIterator===r?function(){return o(Reflect.apply(s,e,[]),t)}:"function"==typeof s?i(e,s):s}})}},75190,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fixSchemaAst=function(e,t){let r,o;return e.astNode&&e.extensionASTNodes||(o=(0,i.getDocumentNodeFromSchema)(e),r=(0,n.buildASTSchema)(o,{...t||{}})),!e.astNode&&r?.astNode&&(e.astNode=r.astNode),!e.extensionASTNodes&&r?.astNode&&(e.extensionASTNodes=r.extensionASTNodes),e};let n=e.r(83391),i=e.r(39643)},52459,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractExtensionsFromSchema=function(e,t=!1){let r={schemaExtensions:s(e.extensions,t),types:{}};return(0,o.mapSchema)(e,{[i.MapperKind.OBJECT_TYPE]:e=>(r.types[e.name]={fields:{},type:"object",extensions:s(e.extensions,t)},e),[i.MapperKind.INTERFACE_TYPE]:e=>(r.types[e.name]={fields:{},type:"interface",extensions:s(e.extensions,t)},e),[i.MapperKind.FIELD]:(e,n,i)=>{r.types[i].fields[n]={arguments:{},extensions:s(e.extensions,t)};let o=e.args;if(null!=o)for(let e in o)r.types[i].fields[n].arguments[e]=s(o[e].extensions,t);return e},[i.MapperKind.ENUM_TYPE]:e=>(r.types[e.name]={values:{},type:"enum",extensions:s(e.extensions,t)},e),[i.MapperKind.ENUM_VALUE]:(e,n,i,o)=>(r.types[n].values[o]=s(e.extensions,t),e),[i.MapperKind.SCALAR_TYPE]:e=>(r.types[e.name]={type:"scalar",extensions:s(e.extensions,t)},e),[i.MapperKind.UNION_TYPE]:e=>(r.types[e.name]={type:"union",extensions:s(e.extensions,t)},e),[i.MapperKind.INPUT_OBJECT_TYPE]:e=>(r.types[e.name]={fields:{},type:"input",extensions:s(e.extensions,t)},e),[i.MapperKind.INPUT_OBJECT_FIELD]:(e,n,i)=>(r.types[i].fields[n]={extensions:s(e.extensions,t)},e)}),r};let n=e.r(51178),i=e.r(33777),o=e.r(21393);function s(e,t){let{directives:r,...i}=e=e||{},o={...i};if(!t&&null!=r){let e={};for(let t in r)e[t]=[...(0,n.asArray)(r[t])];o.directives=e}return o}},58293,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addPath=function(e,t,r){return{prev:e,key:t,typename:r}},r.pathToArray=function(e){let t=[],r=e;for(;r;)t.push(r.key),r=r.prev;return t.reverse()},r.printPathArray=function(e){return e.map(e=>"number"==typeof e?"["+e.toString()+"]":"."+e).join("")}},78486,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeIncrementalResult=function e({incrementalResult:t,executionResult:r}){let n=["data",...t.path??[]];if(t.items)for(let e of t.items)i(r,n,e),n[n.length-1]++;t.data&&i(r,n,t.data),t.errors&&(r.errors=r.errors||[],r.errors.push(...t.errors)),t.extensions&&i(r,["extensions"],t.extensions),t.incremental&&t.incremental.forEach(t=>{e({incrementalResult:t,executionResult:r})})};let n=e.r(75252);function i(e,t,r){let i,o=e;for(i=0;i<t.length-1;i++){let e=t[i];if("__proto__"===e||"constructor"===e||"prototype"===e)return;null==o[e]&&(o[e]="number"==typeof t[i+1]?[]:{}),o=o[e]}let s=t[i];if("__proto__"===s||"constructor"===s||"prototype"===s)return;let a=o[s];o[s]=null!=a?(0,n.mergeDeep)([a,r]):r}},72482,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.debugTimerStart=function(e){let t=globalThis.process?.env?.DEBUG||globalThis.DEBUG;("1"===t||t?.includes(e))&&(n.add(e),console.time(e))},r.debugTimerEnd=function(e){n.has(e)&&console.timeEnd(e)};let n=new Set},19285,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getAbortPromise=void 0,r.registerAbortSignalListener=s;let n=e.r(27137),i=e.r(32430),o=(0,i.memoize1)(function(e){let t=new Set;return e.addEventListener("abort",e=>{for(let r of t)r(e)},{once:!0}),t});function s(e,t){e.aborted?t():o(e).add(t)}r.getAbortPromise=(0,i.memoize1)(function(e){return e.aborted?(0,n.fakeRejectPromise)(e.reason):new Promise((t,r)=>{e.aborted?r(e.reason):s(e,()=>{r(e.reason)})})})},28480,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferred=r.fakePromise=r.mapMaybePromise=r.mapAsyncIterator=r.inspect=void 0;let n=e.r(99434);n.__exportStar(e.r(40237),r),n.__exportStar(e.r(51178),r),n.__exportStar(e.r(98624),r),n.__exportStar(e.r(49458),r),n.__exportStar(e.r(48170),r),n.__exportStar(e.r(87201),r),n.__exportStar(e.r(39643),r),n.__exportStar(e.r(49458),r),n.__exportStar(e.r(196),r),n.__exportStar(e.r(85944),r),n.__exportStar(e.r(44596),r),n.__exportStar(e.r(38206),r),n.__exportStar(e.r(37132),r),n.__exportStar(e.r(33571),r),n.__exportStar(e.r(38700),r),n.__exportStar(e.r(93739),r),n.__exportStar(e.r(24558),r),n.__exportStar(e.r(29638),r),n.__exportStar(e.r(21393),r),n.__exportStar(e.r(12562),r),n.__exportStar(e.r(73717),r),n.__exportStar(e.r(25413),r),n.__exportStar(e.r(75252),r),n.__exportStar(e.r(33777),r),n.__exportStar(e.r(21022),r),n.__exportStar(e.r(98401),r),n.__exportStar(e.r(50960),r),n.__exportStar(e.r(77985),r),n.__exportStar(e.r(71118),r),n.__exportStar(e.r(52733),r),n.__exportStar(e.r(12312),r),n.__exportStar(e.r(42770),r),n.__exportStar(e.r(50260),r),n.__exportStar(e.r(7128),r),n.__exportStar(e.r(55406),r),n.__exportStar(e.r(70622),r),n.__exportStar(e.r(27302),r),n.__exportStar(e.r(3849),r),n.__exportStar(e.r(21358),r),n.__exportStar(e.r(87595),r),n.__exportStar(e.r(38035),r),n.__exportStar(e.r(30447),r),n.__exportStar(e.r(40483),r),n.__exportStar(e.r(58104),r),n.__exportStar(e.r(77765),r),n.__exportStar(e.r(89345),r);var i=e.r(20056);Object.defineProperty(r,"inspect",{enumerable:!0,get:function(){return i.inspect}}),n.__exportStar(e.r(32430),r),n.__exportStar(e.r(75190),r),n.__exportStar(e.r(61142),r),n.__exportStar(e.r(52459),r),n.__exportStar(e.r(58293),r),n.__exportStar(e.r(29749),r),n.__exportStar(e.r(51355),r),n.__exportStar(e.r(78486),r),n.__exportStar(e.r(72482),r),n.__exportStar(e.r(13158),r);var o=e.r(27137);Object.defineProperty(r,"mapAsyncIterator",{enumerable:!0,get:function(){return o.mapAsyncIterator}}),Object.defineProperty(r,"mapMaybePromise",{enumerable:!0,get:function(){return o.mapMaybePromise}}),Object.defineProperty(r,"fakePromise",{enumerable:!0,get:function(){return o.fakePromise}}),Object.defineProperty(r,"createDeferred",{enumerable:!0,get:function(){return o.createDeferredPromise}}),n.__exportStar(e.r(19285),r)},99941,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assertResolversPresent=function(e,t={}){let{requireResolversForArgs:r,requireResolversForNonScalar:s,requireResolversForAllFields:a}=t;if(a&&(r||s))throw TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");(0,i.forEachField)(e,(e,t,i)=>{a&&o("requireResolversForAllFields",a,e,t,i),r&&e.args.length>0&&o("requireResolversForArgs",r,e,t,i),"ignore"===s||(0,n.isScalarType)((0,n.getNamedType)(e.type))||o("requireResolversForNonScalar",s,e,t,i)})};let n=e.r(83391),i=e.r(28480);function o(e,t,r,n,i){if(!r.resolve){let r=`Resolver missing for "${n}.${i}".
To disable this validator, use:
  resolverValidationOptions: {
    ${e}: 'ignore'
  }`;if("error"===t)throw Error(r);"warn"===t&&console.warn(r);return}if("function"!=typeof r.resolve)throw Error(`Resolver "${n}.${i}" must be a function`)}},83266,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.chainResolvers=function(e){return(t,r,i,o)=>e.reduce((e,t)=>null!=t?t(e,r,i,o):(0,n.defaultFieldResolver)(e,r,i,o),t)};let n=e.r(83391)},56207,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkForResolveTypeResolver=function(e,t){(0,n.mapSchema)(e,{[n.MapperKind.ABSTRACT_TYPE]:e=>{if(!e.resolveType){let r=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===t)throw Error(r);"warn"===t&&console.warn(r)}}})};let n=e.r(28480)},8013,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendResolversFromInterfaces=function(e,t){let r={},n=e.getTypeMap();for(let e in n){let i=n[e];if("getInterfaces"in i){for(let n of(r[e]={},i.getInterfaces()))if(t[n.name])for(let i in t[n.name])"__isTypeOf"!==i&&i.startsWith("__")||(r[e][i]=t[n.name][i]);let n=t[e];r[e]={...r[e],...n}}else{let n=t[e];null!=n&&(r[e]=n)}}return r}},12235,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addResolversToSchema=function({schema:e,resolvers:t,defaultFieldResolver:r,resolverValidationOptions:l={},inheritResolversFromInterfaces:u=!1,updateResolversInPlace:c=!1}){var d,p,h;let{requireResolversToMatchSchema:f="error",requireResolversForResolveType:m}=l,y=u?(0,s.extendResolversFromInterfaces)(e,t):t;for(let t in y){let r=y[t];if("object"!=typeof r)throw Error(`"${t}" defined in resolvers, but has invalid value "${r}". The resolver's value must be of type object.`);let i=e.getType(t);if(null==i){let e=`"${t}" defined in resolvers, but not in schema`;if(f&&"error"!==f){"warn"===f&&console.warn(e);continue}throw Error(e)}if((0,n.isSpecifiedScalarType)(i))for(let e in r)e.startsWith("__")?i[e.substring(2)]=r[e]:i[e]=r[e];else if((0,n.isEnumType)(i)){let e=i.getValues();for(let t in r)if(!t.startsWith("__")&&!e.some(e=>e.name===t)&&f&&"ignore"!==f){let e=`${i.name}.${t} was defined in resolvers, but not present within ${i.name}`;if("error"===f)throw Error(e);console.warn(e)}}else if((0,n.isUnionType)(i)){for(let e in r)if(!e.startsWith("__")&&f&&"ignore"!==f){let t=`${i.name}.${e} was defined in resolvers, but ${i.name} is not an object or interface type`;if("error"===f)throw Error(t);console.warn(t)}}else if((0,n.isObjectType)(i)||(0,n.isInterfaceType)(i)){for(let e in r)if(!e.startsWith("__"))if(null==i.getFields()[e]){if(f&&"ignore"!==f){let r=`${t}.${e} defined in resolvers, but not in schema`;if("error"===f)throw Error(r);console.error(r)}}else{let n=r[e];if("function"!=typeof n&&"object"!=typeof n)throw Error(`Resolver ${t}.${e} must be object or function`)}}}return e=c?function(e,t,r){let o=e.getTypeMap();for(let r in t){let i=e.getType(r),s=t[r];if((0,n.isScalarType)(i))for(let e in s)e.startsWith("__")?i[e.substring(2)]=s[e]:"astNode"===e&&null!=i.astNode?i.astNode={...i.astNode,description:s?.astNode?.description??i.astNode.description,directives:(i.astNode.directives??[]).concat(s?.astNode?.directives??[])}:"extensionASTNodes"===e&&null!=i.extensionASTNodes?i.extensionASTNodes=i.extensionASTNodes.concat(s?.extensionASTNodes??[]):"extensions"===e&&null!=i.extensions&&null!=s.extensions?i.extensions=Object.assign(Object.create(null),i.extensions,s.extensions):i[e]=s[e];else if((0,n.isEnumType)(i)){let e=i.toConfig(),t=e.values;for(let r in s)r.startsWith("__")?e[r.substring(2)]=s[r]:"astNode"===r&&null!=e.astNode?e.astNode={...e.astNode,description:s?.astNode?.description??e.astNode.description,directives:(e.astNode.directives??[]).concat(s?.astNode?.directives??[])}:"extensionASTNodes"===r&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(s?.extensionASTNodes??[]):"extensions"===r&&null!=i.extensions&&null!=s.extensions?i.extensions=Object.assign(Object.create(null),i.extensions,s.extensions):t[r]&&(t[r].value=s[r]);o[r]=new n.GraphQLEnumType(e)}else if((0,n.isUnionType)(i))for(let e in s)e.startsWith("__")&&(i[e.substring(2)]=s[e]);else if((0,n.isObjectType)(i)||(0,n.isInterfaceType)(i))for(let e in s){if(e.startsWith("__")){i[e.substring(2)]=s[e];continue}let t=i.getFields()[e];if(null!=t){let r=s[e];"function"==typeof r?t.resolve=r.bind(s):a(t,r)}}}return(0,i.forEachDefaultValue)(e,i.serializeInputValue),(0,i.healSchema)(e),(0,i.forEachDefaultValue)(e,i.parseInputValue),null!=r&&(0,i.forEachField)(e,e=>{e.resolve||(e.resolve=r)}),e}(e,y,r):(d=e,p=y,h=r,d=(0,i.mapSchema)(d,{[i.MapperKind.SCALAR_TYPE]:e=>{let t=e.toConfig(),r=p[e.name];if(!(0,n.isSpecifiedScalarType)(e)&&null!=r){for(let n in r)n.startsWith("__")?t[n.substring(2)]=r[n]:"astNode"===n&&null!=t.astNode?t.astNode={...t.astNode,description:r?.astNode?.description??t.astNode.description,directives:(t.astNode.directives??[]).concat(r?.astNode?.directives??[])}:"extensionASTNodes"===n&&null!=t.extensionASTNodes?t.extensionASTNodes=t.extensionASTNodes.concat(r?.extensionASTNodes??[]):"extensions"===n&&null!=t.extensions&&null!=r.extensions?t.extensions=Object.assign(Object.create(null),e.extensions,r.extensions):t[n]=r[n];return new n.GraphQLScalarType(t)}},[i.MapperKind.ENUM_TYPE]:e=>{let t=p[e.name],r=e.toConfig(),i=r.values;if(null!=t){for(let n in t)n.startsWith("__")?r[n.substring(2)]=t[n]:"astNode"===n&&null!=r.astNode?r.astNode={...r.astNode,description:t?.astNode?.description??r.astNode.description,directives:(r.astNode.directives??[]).concat(t?.astNode?.directives??[])}:"extensionASTNodes"===n&&null!=r.extensionASTNodes?r.extensionASTNodes=r.extensionASTNodes.concat(t?.extensionASTNodes??[]):"extensions"===n&&null!=r.extensions&&null!=t.extensions?r.extensions=Object.assign(Object.create(null),e.extensions,t.extensions):i[n]&&(i[n].value=t[n]);return new n.GraphQLEnumType(r)}},[i.MapperKind.UNION_TYPE]:e=>{let t=p[e.name];if(null!=t){let r=e.toConfig();return t.__resolveType&&(r.resolveType=t.__resolveType),new n.GraphQLUnionType(r)}},[i.MapperKind.OBJECT_TYPE]:e=>{let t=p[e.name];if(null!=t){let r=e.toConfig();return t.__isTypeOf&&(r.isTypeOf=t.__isTypeOf),new n.GraphQLObjectType(r)}},[i.MapperKind.INTERFACE_TYPE]:e=>{let t=p[e.name];if(null!=t){let r=e.toConfig();return t.__resolveType&&(r.resolveType=t.__resolveType),new n.GraphQLInterfaceType(r)}},[i.MapperKind.COMPOSITE_FIELD]:(e,t,r)=>{let n=p[r];if(null!=n){let r=n[t];if(null!=r){let t={...e};return"function"==typeof r?t.resolve=r.bind(n):a(t,r),t}}}}),null!=h&&(d=(0,i.mapSchema)(d,{[i.MapperKind.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:h})})),d),m&&"ignore"!==m&&(0,o.checkForResolveTypeResolver)(e,m),e};let n=e.r(83391),i=e.r(28480),o=e.r(56207),s=e.r(8013);function a(e,t){for(let r in t)e[r]=t[r]}},70029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeResolvers=function e(t,r){if(!t||Array.isArray(t)&&0===t.length)return{};if(!Array.isArray(t))return t;if(1===t.length)return t[0]||{};let i=[];for(let r of t)Array.isArray(r)&&(r=e(r)),"object"==typeof r&&r&&i.push(r);let o=(0,n.mergeDeep)(i,!0);if(r?.exclusions)for(let e of r.exclusions){let[t,r]=e.split(".");!(["__proto__","constructor","prototype"].includes(t)||["__proto__","constructor","prototype"].includes(r))&&(r&&"*"!==r?o[t]&&delete o[t][r]:delete o[t])}return o};let n=e.r(28480)},41926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeArguments=function(e,t,r){var i,o;let s=(i=[...t,...e].filter(n.isSome),o=r,i.reduce((e,t)=>{let r=e.findIndex(e=>e.name.value===t.name.value);return -1===r?e.concat([t]):(o?.reverseArguments||(e[r]=t),e)},[]));return r&&r.sort&&s.sort(n.compareNodes),s};let n=e.r(28480)},46940,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeDirectives=function(e=[],t=[],r,n){let i=r&&r.reverseDirectives,o=[];for(let d of[...i?e:t,...i?t:e]){var c;if(c=r?.repeatableLinkImports,n?.[d.name.value]?.repeatable??c?.has(d.name.value))o.find(e=>l(d,e))||o.push(d);else{let e=o.findIndex(e=>e.name.value===d.name.value);if(-1===e)o.push(d);else{if(s(d)&&s(o[e])){let t=a(d),r=a(o[e]);if(t&&r&&t!==r){o.push(d);continue}}let t=function(e,t){let r=[];for(let n of[...t,...e]){let e=r.findIndex(e=>e.name.value===n.name.value);if(-1===e)r.push(n);else{let t=r[e];if("ListValue"===t.value.kind){let e=t.value.values,r=n.value.values;t.value={...t.value,values:u(e,r,(e,t)=>{let r=e.value;return!r||!t.some(e=>e.value===r)})}}else t.value=n.value}}return r}(d.arguments??[],o[e].arguments??[]);o[e]={...o[e],arguments:0===t.length?void 0:t}}}}return o},r.mergeDirective=function(e,t){return t?{...e,arguments:u(t.arguments||[],e.arguments||[],(e,t)=>!i(e.name,t.map(e=>e.name))),locations:[...t.locations,...e.locations.filter(e=>!i(e,t.locations))]}:e};let n=e.r(83391);function i(e,t){return t.some(({value:t})=>t===e.value)}let o=(e,t)=>{if(e.kind===t.kind)switch(e.kind){case n.Kind.LIST:return e.values.length===t.values.length&&e.values.every(e=>t.values.find(t=>o(e,t)));case n.Kind.VARIABLE:case n.Kind.NULL:return!0;case n.Kind.OBJECT:return e.fields.length===t.fields.length&&e.fields.every(e=>t.fields.find(t=>e.name.value===t.name.value&&o(e.value,t.value)));default:return e.value===t.value}return!1},s=e=>"link"===e.name.value,a=e=>{let t=s(e)?e.arguments?.find(e=>"url"===e.name.value)?.value:void 0;return t?.kind==="StringValue"?t.value:void 0},l=(e,t)=>!!(e.name.value===t.name.value&&(e.arguments===t.arguments||e.arguments?.length===t.arguments?.length&&e.arguments?.every(e=>t.arguments?.find(t=>e.name.value===t.name.value&&e.value.kind===t.value.kind&&o(e.value,t.value)))));function u(e,t,r){return e.concat(t.filter(t=>r(t,e)))}},37709,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeEnumValues=function(e,t,r,o){if(r?.consistentEnumMerge){let r=[];e&&r.push(...e),e=t,t=r}let s=new Map;if(e)for(let t of e)s.set(t.name.value,t);if(t)for(let e of t){let t=e.name.value;if(s.has(t)){let r=s.get(t);r.description=e.description||r.description,r.directives=(0,i.mergeDirectives)(e.directives,r.directives,o)}else s.set(t,e)}let a=[...s.values()];return r&&r.sort&&a.sort(n.compareNodes),a};let n=e.r(28480),i=e.r(46940)},79468,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeEnum=function(e,t,r,s){return t?{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===t.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:(0,i.mergeDirectives)(e.directives,t.directives,r,s),values:(0,o.mergeEnumValues)(e.values,t.values,r)}:r?.convertExtensions?{...e,kind:n.Kind.ENUM_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940),o=e.r(37709)},5819,(e,t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.CompareVal=void 0,r.isStringTypes=function(e){return"string"==typeof e},r.isSourceTypes=function(e){return e instanceof o.Source},r.extractType=function(e){let t=e;for(;t.kind===o.Kind.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t},r.isWrappingTypeNode=function(e){return e.kind!==o.Kind.NAMED_TYPE},r.isListTypeNode=s,r.isNonNullTypeNode=a,r.printTypeNode=function e(t){return s(t)?`[${e(t.type)}]`:a(t)?`${e(t.type)}!`:t.name.value},r.defaultStringComparator=function(e,t){return null==e&&null==t?n.A_EQUALS_B:null==e?n.A_SMALLER_THAN_B:null==t?n.A_GREATER_THAN_B:e<t?n.A_SMALLER_THAN_B:e>t?n.A_GREATER_THAN_B:n.A_EQUALS_B};let o=e.r(83391);function s(e){return e.kind===o.Kind.LIST_TYPE}function a(e){return e.kind===o.Kind.NON_NULL_TYPE}(i=n||(r.CompareVal=n={}))[i.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",i[i.A_EQUALS_B=0]="A_EQUALS_B",i[i.A_GREATER_THAN_B=1]="A_GREATER_THAN_B"},15628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeFields=function(e,t,r,a,l){let u=[];if(null!=r&&u.push(...r),null!=t)for(let r of t){let[t,n]=function(e,t){let r=e.findIndex(e=>e.name.value===t.name.value);return[r>-1?e[r]:null,r]}(u,r);if(t&&!a?.ignoreFieldConflicts){let c=a?.onFieldTypeConflict&&a.onFieldTypeConflict(t,r,e,a?.throwOnConflict)||function(e,t,r,n=!1){let i=(0,s.printTypeNode)(t.type),o=(0,s.printTypeNode)(r.type);if(i!==o){let a=(0,s.extractType)(t.type),l=(0,s.extractType)(r.type);if(a.name.value!==l.name.value)throw Error(`Field "${r.name.value}" already defined with a different type. Declared as "${a.name.value}", but you tried to override with "${l.name.value}"`);if(!function e(t,r,n=!1){return(0,s.isWrappingTypeNode)(t)||(0,s.isWrappingTypeNode)(r)?(0,s.isNonNullTypeNode)(r)?e((0,s.isNonNullTypeNode)(t)?t.type:t,r.type):(0,s.isNonNullTypeNode)(t)?e(r,t,n):!!(0,s.isListTypeNode)(t)&&((0,s.isListTypeNode)(r)&&e(t.type,r.type)||(0,s.isNonNullTypeNode)(r)&&e(t,r.type)):t.toString()===r.toString()}(t.type,r.type,!n))throw Error(`Field '${e.name.value}.${t.name.value}' changed type from '${i}' to '${o}'`)}return(0,s.isNonNullTypeNode)(r.type)&&!(0,s.isNonNullTypeNode)(t.type)&&(t.type=r.type),t}(e,t,r,a?.throwOnConflict);c.arguments=(0,i.mergeArguments)(r.arguments||[],t.arguments||[],a),c.directives=(0,o.mergeDirectives)(r.directives,t.directives,a,l),c.description=r.description||t.description,u[n]=c}else u.push(r)}if(a&&a.sort&&u.sort(n.compareNodes),a&&a.exclusions){let t=a.exclusions;return u.filter(r=>!t.includes(`${e.name.value}.${r.name.value}`))}return u};let n=e.r(28480),i=e.r(41926),o=e.r(46940),s=e.r(5819)},20789,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeInputType=function(e,t,r,s){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:(0,o.mergeFields)(e,e.fields,t.fields,r),directives:(0,i.mergeDirectives)(e.directives,t.directives,r,s)}}catch(t){throw Error(`Unable to merge GraphQL input type "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:n.Kind.INPUT_OBJECT_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940),o=e.r(15628)},52175,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeNamedTypeArray=function(e=[],t=[],r={}){let i=[...t,...e.filter(e=>!t.find(t=>t.name.value===e.name.value))];return r&&r.sort&&i.sort(n.compareNodes),i};let n=e.r(28480)},32043,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeInterface=function(e,t,r,a){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:(0,o.mergeFields)(e,e.fields,t.fields,r,a),directives:(0,i.mergeDirectives)(e.directives,t.directives,r,a),interfaces:e.interfaces?(0,s.mergeNamedTypeArray)(e.interfaces,t.interfaces,r):void 0}}catch(t){throw Error(`Unable to merge GraphQL interface "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:n.Kind.INTERFACE_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940),o=e.r(15628),s=e.r(52175)},19686,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeScalar=function(e,t,r,o){return t?{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===t.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:(0,i.mergeDirectives)(e.directives,t.directives,r,o)}:r?.convertExtensions?{...e,kind:n.Kind.SCALAR_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940)},19994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_OPERATION_TYPE_NAME_MAP=void 0,r.mergeSchemaDefs=function(e,t,o,s){return t?{kind:e.kind===n.Kind.SCHEMA_DEFINITION||t.kind===n.Kind.SCHEMA_DEFINITION?n.Kind.SCHEMA_DEFINITION:n.Kind.SCHEMA_EXTENSION,description:e.description||t.description,directives:(0,i.mergeDirectives)(e.directives,t.directives,o,s),operationTypes:function(e=[],t=[]){let n=[];for(let i in r.DEFAULT_OPERATION_TYPE_NAME_MAP){let r=e.find(e=>e.operation===i)||t.find(e=>e.operation===i);r&&n.push(r)}return n}(e.operationTypes,t.operationTypes)}:o?.convertExtensions?{...e,kind:n.Kind.SCHEMA_DEFINITION}:e};let n=e.r(83391),i=e.r(46940);r.DEFAULT_OPERATION_TYPE_NAME_MAP={query:"Query",mutation:"Mutation",subscription:"Subscription"}},85251,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeType=function(e,t,r,a){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:(0,o.mergeFields)(e,e.fields,t.fields,r,a),directives:(0,i.mergeDirectives)(e.directives,t.directives,r,a),interfaces:(0,s.mergeNamedTypeArray)(e.interfaces,t.interfaces,r)}}catch(t){throw Error(`Unable to merge GraphQL type "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:n.Kind.OBJECT_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940),o=e.r(15628),s=e.r(52175)},61225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeUnion=function(e,t,r,s){return t?{name:e.name,description:e.description||t.description,directives:(0,i.mergeDirectives)(e.directives,t.directives,r,s),kind:r?.convertExtensions||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===t.kind?n.Kind.UNION_TYPE_DEFINITION:n.Kind.UNION_TYPE_EXTENSION,loc:e.loc,types:(0,o.mergeNamedTypeArray)(e.types,t.types,r)}:r?.convertExtensions?{...e,kind:n.Kind.UNION_TYPE_DEFINITION}:e};let n=e.r(83391),i=e.r(46940),o=e.r(52175)},36392,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.schemaDefSymbol=void 0,r.isNamedDefinitionNode=h,r.mergeGraphQLNodes=function(e,t,f={}){for(let y of e)if(h(y)){let e=y.name?.value;if(t?.commentDescriptions&&(0,i.collectComment)(y),null==e)continue;if(t?.exclusions?.includes(e+".*")||t?.exclusions?.includes(e))delete f[e];else switch(y.kind){case n.Kind.OBJECT_TYPE_DEFINITION:case n.Kind.OBJECT_TYPE_EXTENSION:f[e]=(0,d.mergeType)(y,f[e],t,f);break;case n.Kind.ENUM_TYPE_DEFINITION:case n.Kind.ENUM_TYPE_EXTENSION:f[e]=(0,s.mergeEnum)(y,f[e],t,f);break;case n.Kind.UNION_TYPE_DEFINITION:case n.Kind.UNION_TYPE_EXTENSION:f[e]=(0,p.mergeUnion)(y,f[e],t,f);break;case n.Kind.SCALAR_TYPE_DEFINITION:case n.Kind.SCALAR_TYPE_EXTENSION:f[e]=(0,u.mergeScalar)(y,f[e],t,f);break;case n.Kind.INPUT_OBJECT_TYPE_DEFINITION:case n.Kind.INPUT_OBJECT_TYPE_EXTENSION:f[e]=(0,a.mergeInputType)(y,f[e],t,f);break;case n.Kind.INTERFACE_TYPE_DEFINITION:case n.Kind.INTERFACE_TYPE_EXTENSION:f[e]=(0,l.mergeInterface)(y,f[e],t,f);break;case n.Kind.DIRECTIVE_DEFINITION:var m;f[e]&&e in{}&&!(null!=(m=f[e])&&"object"==typeof m&&"kind"in m&&"string"==typeof m.kind)&&(f[e]=void 0),f[e]=(0,o.mergeDirective)(y,f[e])}}else(y.kind===n.Kind.SCHEMA_DEFINITION||y.kind===n.Kind.SCHEMA_EXTENSION)&&(f[r.schemaDefSymbol]=(0,c.mergeSchemaDefs)(y,f[r.schemaDefSymbol],t));return f};let n=e.r(83391),i=e.r(28480),o=e.r(46940),s=e.r(79468),a=e.r(20789),l=e.r(32043),u=e.r(19686),c=e.r(19994),d=e.r(85251),p=e.r(61225);function h(e){return"name"in e}r.schemaDefSymbol="SCHEMA_DEF_SYMBOL"},9920,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveImportName=function(e,t){var r,n;if(e.url.name&&t===`@${e.url.name}`){let t;return((t=i(e))&&`@${t}`).substring(1)}let o=e.imports.find(e=>e.name===t),s=o?.as??o?.name??(r=i(e),n=t,r?.length?n.startsWith("@")?`@${r}__${n.substring(1)}`:`${r}__${n}`:n);return s.startsWith("@")?s.substring(1):s},r.extractLinks=function(e){let t=[];for(let r of e.definitions)if(r.kind===n.Kind.SCHEMA_EXTENSION||r.kind===n.Kind.SCHEMA_DEFINITION){let e=r.directives?.filter(e=>"link"===e.name.value),i=e?.map(e=>(function(e){let t,r,i=[];for(let a of e)switch(a.name.value){case"url":a.value.kind===n.Kind.STRING&&(t=s(a.value.value));break;case"import":var o;i=(o=a.value).kind===n.Kind.LIST?o.values.map(e=>{let t;if(e.kind===n.Kind.STRING)t={name:e.value};else if(e.kind===n.Kind.OBJECT){let r,i="";for(let t of e.fields)"name"===t.name.value?t.value.kind===n.Kind.STRING&&(i=t.value.value):"as"===t.name.value&&t.value.kind===n.Kind.STRING&&(r=t.value.value);t={name:i,as:r}}return t}).filter(e=>void 0!==e):[];break;case"as":a.value.kind===n.Kind.STRING&&(r=a.value.value??void 0)}if(void 0!==t)return{url:t,as:r,imports:i}})(e.arguments??[])).filter(e=>void 0!==e)??[];t=t.concat(i);let o=r.directives?.filter(({name:e})=>"core"===e.value),a=o?.map(e=>(function(e){let t=e.find(({name:e,value:t})=>"feature"===e.value&&t.kind===n.Kind.STRING);if(t)return{url:s(t.value.value),imports:[]}})(e.arguments??[])).filter(e=>void 0!==e);a&&(t=t.concat(...a))}return t};let n=e.r(83391);function i(e){return e.as??e.url.name}let o=/v(\d{1,3})\.(\d{1,4})/i;function s(e){let t=new URL(e),r=t.pathname.split("/").filter(Boolean),n=r[r.length-1];if(n){if(o.test(n)){let e=r[r.length-2];return{identity:t.origin+(e?`/${r.slice(0,r.length-1).join("/")}`:""),name:e??null,version:n}}return{identity:`${t.origin}/${r.join("/")}`,name:n,version:null}}return{identity:t.origin,name:null,version:null}}},86312,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeTypeDefs=function(e,t){let r;(0,i.resetComments)();let o={kind:n.Kind.DOCUMENT,definitions:u(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};return r=t?.commentDescriptions?(0,i.printWithComments)(o):o,(0,i.resetComments)(),r},r.mergeGraphQLTypes=u;let n=e.r(83391),i=e.r(28480),o=e.r(9920),s=e.r(36392),a=e.r(19994),l=e.r(5819);function u(e,t){(0,i.resetComments)();let{allDirectives:r,allNodes:u,repeatableLinkImports:c}=function e(t,r,s=[],a=[],u=new Set,c=new Set){let d=e=>{c.add(e)};if(t&&!u.has(t))if(u.add(t),"function"==typeof t)e(t(),r,s,a,u,c);else if(Array.isArray(t))for(let n of t)e(n,r,s,a,u,c);else if((0,n.isSchema)(t))e((0,i.getDocumentNodeFromSchema)(t,r).definitions,r,s,a,u,c);else if((0,l.isStringTypes)(t)||(0,l.isSourceTypes)(t))e((0,n.parse)(t,r).definitions,r,s,a,u,c);else if("object"==typeof t&&(0,n.isDefinitionNode)(t)){let e=(0,o.extractLinks)({definitions:[t],kind:n.Kind.DOCUMENT}),r=e.find(e=>"https://specs.apollo.dev/federation"===e.url.identity);r&&(d((0,o.resolveImportName)(r,"@composeDirective")),d((0,o.resolveImportName)(r,"@key")));let i=e.find(e=>"https://specs.apollo.dev/link"===e.url.identity);i&&d((0,o.resolveImportName)(i,"@link")),t.kind===n.Kind.DIRECTIVE_DEFINITION?s.push(t):a.push(t)}else if((0,i.isDocumentNode)(t))e(t.definitions,r,s,a,u,c);else throw Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof t}`);return{allDirectives:s,allNodes:a,repeatableLinkImports:c}}(e,t),d=(0,s.mergeGraphQLNodes)(r,t);t.repeatableLinkImports=c;let p=(0,s.mergeGraphQLNodes)(u,t,d);if(t?.useSchemaDefinition){let e=p[s.schemaDefSymbol]||{kind:n.Kind.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(let e in a.DEFAULT_OPERATION_TYPE_NAME_MAP)if(!t.find(t=>t.operation===e)){let r=p[a.DEFAULT_OPERATION_TYPE_NAME_MAP[e]];null!=r&&null!=r.name&&t.push({kind:n.Kind.OPERATION_TYPE_DEFINITION,type:{kind:n.Kind.NAMED_TYPE,name:r.name},operation:e})}e?.operationTypes?.length!=null&&e.operationTypes.length>0&&(p[s.schemaDefSymbol]=e)}t?.forceSchemaDefinition&&!p[s.schemaDefSymbol]?.operationTypes?.length&&(p[s.schemaDefSymbol]={kind:n.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:n.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:n.Kind.NAMED_TYPE,name:{kind:n.Kind.NAME,value:"Query"}}}]});let h=Object.values(p);if(t?.sort){let e="function"==typeof t.sort?t.sort:l.defaultStringComparator;h.sort((t,r)=>e(t.name?.value,r.name?.value))}return h}},52094,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(99434);n.__exportStar(e.r(41926),r),n.__exportStar(e.r(46940),r),n.__exportStar(e.r(37709),r),n.__exportStar(e.r(79468),r),n.__exportStar(e.r(15628),r),n.__exportStar(e.r(20789),r),n.__exportStar(e.r(32043),r),n.__exportStar(e.r(52175),r),n.__exportStar(e.r(36392),r),n.__exportStar(e.r(86312),r),n.__exportStar(e.r(19686),r),n.__exportStar(e.r(85251),r),n.__exportStar(e.r(61225),r),n.__exportStar(e.r(5819),r)},40122,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractExtensionsFromSchema=void 0,r.mergeExtensions=function(e){return(0,n.mergeDeep)(e,!1,!0)},r.applyExtensions=function(e,t){for(let[r,n]of(o(e,t.schemaExtensions),Object.entries(t.types||{}))){let t=e.getType(r);if(t){if(o(t,n.extensions),"object"===n.type||"interface"===n.type)for(let[e,r]of Object.entries(n.fields)){let n=t.getFields()[e];if(n)for(let[e,t]of(o(n,r.extensions),Object.entries(r.arguments)))o(n.args.find(t=>t.name===e),t)}else if("input"===n.type)for(let[e,r]of Object.entries(n.fields))o(t.getFields()[e],r.extensions);else if("enum"===n.type)for(let[e,r]of Object.entries(n.values))o(t.getValue(e),r)}}return e};let n=e.r(28480);var i=e.r(28480);function o(e,t){if(e&&t&&t!==e.extensions){if(!e.extensions){e.extensions=t;return}e.extensions=(0,n.mergeDeep)([e.extensions,t],!1,!0)}}Object.defineProperty(r,"extractExtensionsFromSchema",{enumerable:!0,get:function(){return i.extractExtensionsFromSchema}})},44506,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(99434);n.__exportStar(e.r(70029),r),n.__exportStar(e.r(52094),r),n.__exportStar(e.r(40122),r)},81969,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeExecutableSchema=function({typeDefs:e,resolvers:t={},resolverValidationOptions:r={},inheritResolversFromInterfaces:l=!1,updateResolversInPlace:u=!1,schemaExtensions:c,defaultFieldResolver:d,...p}){let h;if("object"!=typeof r)throw Error("Expected `resolverValidationOptions` to be an object");if(!e)throw Error("Must provide typeDefs");if((0,n.isSchema)(e))h=e;else if(p?.commentDescriptions){let t=(0,i.mergeTypeDefs)(e,{...p,commentDescriptions:!0});h=(0,n.buildSchema)(t,p)}else{let t=(0,i.mergeTypeDefs)(e,p);h=(0,n.buildASTSchema)(t,p)}if(h=(0,s.addResolversToSchema)({schema:h,resolvers:(0,i.mergeResolvers)(t),resolverValidationOptions:r,inheritResolversFromInterfaces:l,updateResolversInPlace:u,defaultFieldResolver:d}),Object.keys(r).length>0&&(0,a.assertResolversPresent)(h,r),c)for(let e of(0,o.asArray)(c))(0,i.applyExtensions)(h,e);return h};let n=e.r(83391),i=e.r(44506),o=e.r(28480),s=e.r(12235),a=e.r(99941)},78226,(e,t,r)=>{},41234,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeSchemas=function(e){let t=[],r=[],o=[];if(null!=e.schemas)for(let i of e.schemas)t.push((0,n.getDocumentNodeFromSchema)(i)),r.push((0,n.getResolversFromSchema)(i)),o.push((0,n.extractExtensionsFromSchema)(i));if(null!=e.typeDefs&&t.push(e.typeDefs),null!=e.resolvers){let t=(0,n.asArray)(e.resolvers);r.push(...t)}if(null!=e.schemaExtensions){let t=(0,n.asArray)(e.schemaExtensions);o.push(...t)}return(0,i.makeExecutableSchema)({...e,typeDefs:t,resolvers:r,schemaExtensions:o})};let n=e.r(28480),i=e.r(81969)},23934,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractExtensionsFromSchema=r.extendResolversFromInterfaces=r.checkForResolveTypeResolver=r.addResolversToSchema=r.chainResolvers=r.assertResolversPresent=void 0;let n=e.r(99434);var i=e.r(99941);Object.defineProperty(r,"assertResolversPresent",{enumerable:!0,get:function(){return i.assertResolversPresent}});var o=e.r(83266);Object.defineProperty(r,"chainResolvers",{enumerable:!0,get:function(){return o.chainResolvers}});var s=e.r(12235);Object.defineProperty(r,"addResolversToSchema",{enumerable:!0,get:function(){return s.addResolversToSchema}});var a=e.r(56207);Object.defineProperty(r,"checkForResolveTypeResolver",{enumerable:!0,get:function(){return a.checkForResolveTypeResolver}});var l=e.r(8013);Object.defineProperty(r,"extendResolversFromInterfaces",{enumerable:!0,get:function(){return l.extendResolversFromInterfaces}}),n.__exportStar(e.r(81969),r),n.__exportStar(e.r(78226),r),n.__exportStar(e.r(41234),r);var u=e.r(28480);Object.defineProperty(r,"extractExtensionsFromSchema",{enumerable:!0,get:function(){return u.extractExtensionsFromSchema}})},65688,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=()=>{let e,t,r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r}},44571,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.newCachePolicy=function(){return{maxAge:void 0,scope:void 0,restrict(e){void 0!==e.maxAge&&(void 0===this.maxAge||e.maxAge<this.maxAge)&&(this.maxAge=e.maxAge),void 0!==e.scope&&"PRIVATE"!==this.scope&&(this.scope=e.scope)},replace(e){void 0!==e.maxAge&&(this.maxAge=e.maxAge),void 0!==e.scope&&(this.scope=e.scope)},policyIfCacheable(){return void 0===this.maxAge||0===this.maxAge?null:{maxAge:this.maxAge,scope:this.scope??"PUBLIC"}}}}},65604,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.determineApolloConfig=function(e,t){let r={},{APOLLO_KEY:i,APOLLO_GRAPH_REF:o,APOLLO_GRAPH_ID:s,APOLLO_GRAPH_VARIANT:a}=process.env;e?.key?r.key=e.key.trim():i&&(r.key=i.trim()),(e?.key??i)!==r.key&&t.warn("The provided API key has unexpected leading or trailing whitespace. Apollo Server will trim the key value before use."),r.key&&function(e){let t=/[^\t\x20-\x7e\x80-\xff]/g;if(t.test(e)){let r=e.match(t);throw Error(`The API key provided to Apollo Server contains characters which are invalid as HTTP header values. The following characters found in the key are invalid: ${r.join(", ")}. Valid header values may only contain ASCII visible characters. If you think there is an issue with your key, please contact Apollo support.`)}}(r.key),r.key&&(r.keyHash=(0,n.createHash)("sha512").update(r.key).digest("hex")),e?.graphRef?r.graphRef=e.graphRef:o&&(r.graphRef=o);let l=e?.graphId??s,u=e?.graphVariant??a;if(r.graphRef){if(l)throw Error("Cannot specify both graph ref and graph ID. Please use `apollo.graphRef` or `APOLLO_GRAPH_REF` without also setting the graph ID.");if(u)throw Error("Cannot specify both graph ref and graph variant. Please use `apollo.graphRef` or `APOLLO_GRAPH_REF` without also setting the graph variant.")}else l&&(r.graphRef=u?`${l}@${u}`:l);return r};let n=e.r(84109)},47703,(e,t,r)=>{"use strict";var n,i,o,s;Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerValidationErrorCode=r.ApolloServerErrorCode=void 0,r.unwrapResolverError=function(e){return e instanceof a.GraphQLError&&e.path&&e.originalError?e.originalError:e};let a=e.r(83391);(o=n||(r.ApolloServerErrorCode=n={})).INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",o.GRAPHQL_PARSE_FAILED="GRAPHQL_PARSE_FAILED",o.GRAPHQL_VALIDATION_FAILED="GRAPHQL_VALIDATION_FAILED",o.PERSISTED_QUERY_NOT_FOUND="PERSISTED_QUERY_NOT_FOUND",o.PERSISTED_QUERY_NOT_SUPPORTED="PERSISTED_QUERY_NOT_SUPPORTED",o.BAD_USER_INPUT="BAD_USER_INPUT",o.OPERATION_RESOLUTION_FAILURE="OPERATION_RESOLUTION_FAILURE",o.BAD_REQUEST="BAD_REQUEST",(s=i||(r.ApolloServerValidationErrorCode=i={})).INTROSPECTION_DISABLED="INTROSPECTION_DISABLED",s.MAX_RECURSIVE_SELECTIONS_EXCEEDED="MAX_RECURSIVE_SELECTIONS_EXCEEDED"},31971,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderMap=void 0;class n extends Map{__identity=Symbol("HeaderMap");set(e,t){return super.set(e.toLowerCase(),t)}get(e){return super.get(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}}r.HeaderMap=n},9084,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BadRequestError=r.OperationResolutionError=r.UserInputError=r.PersistedQueryNotSupportedError=r.PersistedQueryNotFoundError=r.ValidationError=r.SyntaxError=void 0;let n=e.r(83391),i=e.r(47703),o=e.r(86231),s=e.r(31971);class a extends n.GraphQLError{constructor(e,t,r){super(e,{...r,extensions:{...r?.extensions,code:t}}),this.name=this.constructor.name}}r.SyntaxError=class extends a{constructor(e){super(e.message,i.ApolloServerErrorCode.GRAPHQL_PARSE_FAILED,{source:e.source,positions:e.positions,extensions:{http:(0,o.newHTTPGraphQLHead)(400),...e.extensions},originalError:e})}},r.ValidationError=class extends a{constructor(e){super(e.message,i.ApolloServerErrorCode.GRAPHQL_VALIDATION_FAILED,{nodes:e.nodes,extensions:{http:(0,o.newHTTPGraphQLHead)(400),...e.extensions},originalError:e.originalError??e})}};let l=()=>({status:200,headers:new s.HeaderMap([["cache-control","private, no-cache, must-revalidate"]])});r.PersistedQueryNotFoundError=class extends a{constructor(){super("PersistedQueryNotFound",i.ApolloServerErrorCode.PERSISTED_QUERY_NOT_FOUND,{extensions:{http:l()}})}},r.PersistedQueryNotSupportedError=class extends a{constructor(){super("PersistedQueryNotSupported",i.ApolloServerErrorCode.PERSISTED_QUERY_NOT_SUPPORTED,{extensions:{http:l()}})}},r.UserInputError=class extends a{constructor(e){super(e.message,i.ApolloServerErrorCode.BAD_USER_INPUT,{nodes:e.nodes,originalError:e.originalError??e,extensions:e.extensions})}},r.OperationResolutionError=class extends a{constructor(e){super(e.message,i.ApolloServerErrorCode.OPERATION_RESOLUTION_FAILURE,{nodes:e.nodes,originalError:e.originalError??e,extensions:{http:(0,o.newHTTPGraphQLHead)(400),...e.extensions}})}},r.BadRequestError=class extends a{constructor(e,t){super(e,i.ApolloServerErrorCode.BAD_REQUEST,{...t,extensions:{http:(0,o.newHTTPGraphQLHead)(400),...t?.extensions}})}}},86231,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.runHttpQuery=f,r.prettyJSONStringify=function(e){return JSON.stringify(e)+"\n"},r.newHTTPGraphQLHead=function(e){return{status:e,headers:new l.HeaderMap}},r.mergeHTTPGraphQLHead=function(e,t){if(t.status&&(e.status=t.status),t.headers)for(let[r,n]of t.headers)e.headers.set(r,n)};let i=e.r(31559),o=e.r(83391),s=e.r(9084),a=n(e.r(57978)),l=e.r(31971);function u(e,t){let r=e[t];if("string"==typeof r)return r}function c(e,t){let r=e.getAll(t);switch(r.length){case 0:return;case 1:return r[0];default:throw new s.BadRequestError(`The '${t}' search parameter may only be specified once.`)}}function d(e,t){let r,n=c(e,t);if(void 0!==n){try{r=JSON.parse(n)}catch{throw new s.BadRequestError(`The ${t} search parameter contains invalid JSON.`)}if(!h(r))throw new s.BadRequestError(`The ${t} search parameter should contain a JSON-encoded object.`);return r}}function p(e,t){let r=e[t];if(h(r))return r}function h(e){return!!e&&"object"==typeof e&&!Buffer.isBuffer(e)&&!Array.isArray(e)}async function f({server:e,httpRequest:t,contextValue:r,schemaDerivedData:n,internals:f,sharedResponseHTTPGraphQLHead:y}){let v;switch(t.method){case"POST":if(!(h(T=t.body)&&Object.keys(T).length>0))throw new s.BadRequestError("POST body missing, invalid Content-Type, or JSON object has no keys.");var g,T,E=t.body.query;if(E&&"string"!=typeof E)if(E.kind===o.Kind.DOCUMENT)throw new s.BadRequestError("GraphQL queries must be strings. It looks like you're sending the internal graphql-js representation of a parsed query in your request instead of a request in the GraphQL query language. You can convert an AST to a string using the `print` function from `graphql`, or use a client like `apollo-client` which converts the internal representation to a string for you.");else throw new s.BadRequestError("GraphQL queries must be strings.");if("string"==typeof t.body.variables)throw new s.BadRequestError("`variables` in a POST body should be provided as an object, not a recursively JSON-encoded string.");if("string"==typeof t.body.extensions)throw new s.BadRequestError("`extensions` in a POST body should be provided as an object, not a recursively JSON-encoded string.");if("extensions"in t.body&&null!==t.body.extensions&&!h(t.body.extensions))throw new s.BadRequestError("`extensions` in a POST body must be an object if provided.");if("variables"in t.body&&null!==t.body.variables&&!h(t.body.variables))throw new s.BadRequestError("`variables` in a POST body must be an object if provided.");if("operationName"in t.body&&null!==t.body.operationName&&"string"!=typeof t.body.operationName)throw new s.BadRequestError("`operationName` in a POST body must be a string if provided.");v={query:u(t.body,"query"),operationName:u(t.body,"operationName"),variables:p(t.body,"variables"),extensions:p(t.body,"extensions"),http:t};break;case"GET":{let e=new URLSearchParams(t.search);v={query:c(e,"query"),operationName:c(e,"operationName"),variables:d(e,"variables"),extensions:d(e,"extensions"),http:t};break}default:throw new s.BadRequestError("Apollo Server supports only GET/POST requests.",{extensions:{http:{status:405,headers:new l.HeaderMap([["allow","GET, POST"]])}}})}let _=await (0,i.internalExecuteOperation)({server:e,graphQLRequest:v,internals:f,schemaDerivedData:n,sharedResponseHTTPGraphQLHead:y},{contextValue:r});if("single"===_.body.kind){if(!_.http.headers.get("content-type")){let e=(0,i.chooseContentTypeForSingleResultResponse)(t);if(null===e)throw new s.BadRequestError(`An 'accept' header was provided for this request which does not accept ${i.MEDIA_TYPES.APPLICATION_JSON} or ${i.MEDIA_TYPES.APPLICATION_GRAPHQL_RESPONSE_JSON}`,{extensions:{http:{status:406}}});_.http.headers.set("content-type",e)}return{..._.http,body:{kind:"complete",string:await f.stringifyResult({errors:(g=_.body.singleResult).errors,data:g.data,extensions:g.extensions})}}}let S=t.headers.get("accept"),b=new a.default({headers:{accept:S}}).mediaType([i.MEDIA_TYPES.MULTIPART_MIXED_NO_DEFER_SPEC,i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2]);if(!S||b!==i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2&&b!==i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9)throw new s.BadRequestError(`Apollo server received an operation that uses incremental delivery (@defer or @stream), but the client does not accept multipart/mixed HTTP responses. To enable incremental delivery support, add the HTTP header 'Accept: ${i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9}' if your client supports the current incremental format or 'Accept: ${i.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2}' if your client supports the legacy incremental format`,{extensions:{http:{status:406}}});return _.http.headers.set("content-type",`multipart/mixed; boundary="-"; ${b.replace("multipart/mixed; ","")}`),{..._.http,body:{kind:"chunked",asyncIterator:m(_.body.initialResult,_.body.subsequentResults)}}}async function*m(e,t){for await(let r of(yield`\r
---\r
content-type: application/json; charset=utf-8\r
\r
${JSON.stringify(e)}\r
---${e.hasNext?"":"--"}\r
`,t))yield`content-type: application/json; charset=utf-8\r
\r
${JSON.stringify(r)}\r
---${r.hasNext?"":"--"}\r
`}},50404,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeAndFormatErrors=function(e,t={}){let r=t.formatError??(e=>e),n=(0,o.newHTTPGraphQLHead)();return{httpFromErrors:n,formattedErrors:e.map(e=>{try{return r(a(e),e)}catch(e){if(t.includeStacktraceInErrorResponses)return a(e);return{message:"Internal server error",extensions:{code:i.ApolloServerErrorCode.INTERNAL_SERVER_ERROR}}}})};function a(e){var r;let a=l(e),u={...a.extensions,code:a.extensions.code??i.ApolloServerErrorCode.INTERNAL_SERVER_ERROR};return(r=u.http)&&"object"==typeof r&&(!("status"in r)||"number"==typeof r.status)&&(!("headers"in r)||r.headers instanceof Map)&&((0,o.mergeHTTPGraphQLHead)(n,{headers:new s.HeaderMap,...u.http}),delete u.http),t.includeStacktraceInErrorResponses&&(u.stacktrace=a.stack?.split("\n")),{...a.toJSON(),extensions:u}}},r.ensureError=a,r.ensureGraphQLError=l;let n=e.r(83391),i=e.r(47703),o=e.r(86231),s=e.r(31971);function a(e){return e instanceof Error?e:new n.GraphQLError("Unexpected error value: "+String(e))}function l(e,t=""){let r=a(e);return r instanceof n.GraphQLError?r:new n.GraphQLError(t+r.message,{originalError:r})}},6999,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.runPotentiallyBatchedHttpQuery=s;let n=e.r(86231),i=e.r(9084);async function o({server:e,batchRequest:t,body:r,contextValue:o,schemaDerivedData:s,internals:a}){if(0===r.length)throw new i.BadRequestError("No operations found in request.");let l=(0,n.newHTTPGraphQLHead)(),u=await Promise.all(r.map(async r=>{let i={...t,body:r},u=await (0,n.runHttpQuery)({server:e,httpRequest:i,contextValue:o,schemaDerivedData:s,internals:a,sharedResponseHTTPGraphQLHead:l});if("chunked"===u.body.kind)throw Error("Incremental delivery is not implemented for batch requests");return u.body.string}));return{...l,body:{kind:"complete",string:`[${u.join(",")}]`}}}async function s(e,t,r,s,a){if(!("POST"===t.method&&Array.isArray(t.body)))return await (0,n.runHttpQuery)({server:e,httpRequest:t,contextValue:r,schemaDerivedData:s,internals:a,sharedResponseHTTPGraphQLHead:null});if(a.allowBatchedHttpRequests)return await o({server:e,batchRequest:t,body:t.body,contextValue:r,schemaDerivedData:s,internals:a});throw new i.BadRequestError("Operation batching disabled.")}},84182,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.internalPlugin=function(e){return e},r.pluginIsInternal=function(e){return"__internal_plugin_id__"in e}},51742,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.recommendedCsrfPreventionRequestHeaders=void 0,r.preventCsrf=function(e,t){let r=e.get("content-type");if(void 0!==r){let e=i.default.parse(r);if(null===e||!s.includes(e.essence))return}if(!t.some(t=>{let r=e.get(t);return void 0!==r&&r.length>0}))throw new o.BadRequestError(`This operation has been blocked as a potential Cross-Site Request Forgery (CSRF). Please either specify a 'content-type' header (with a type that is not one of ${s.join(", ")}) or provide a non-empty value for one of the following headers: ${t.join(", ")}
`)};let i=n(e.r(87003)),o=e.r(9084);r.recommendedCsrfPreventionRequestHeaders=["x-apollo-operation-name","apollo-require-preflight"];let s=["application/x-www-form-urlencoded","multipart/form-data","text/plain"]},93372,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.symbolUserFieldResolver=r.symbolExecutionDispatcherWillResolveField=void 0,r.enablePluginsForSchemaResolvers=function(e){return o(e)||(Object.defineProperty(e,i,{value:!0}),Object.values(e.getTypeMap()).forEach(e=>{!(0,n.getNamedType)(e).name.startsWith("__")&&e instanceof n.GraphQLObjectType&&Object.values(e.getFields()).forEach(e=>{var t;let i;i=(t=e).resolve,t.resolve=(e,t,o,s)=>{let l=o?.[r.symbolExecutionDispatcherWillResolveField],u=o?.[r.symbolUserFieldResolver],c="function"==typeof l&&l({source:e,args:t,contextValue:o,info:s}),d=i||u||n.defaultFieldResolver;try{let r=d(e,t,o,s);return"function"==typeof c&&a(r,c),r}catch(e){throw"function"==typeof c&&c(e),e}}})})),e},r.pluginsEnabledForSchemaResolvers=o,r.whenResultIsFinished=a;let n=e.r(83391);r.symbolExecutionDispatcherWillResolveField=Symbol("apolloServerExecutionDispatcherWillResolveField"),r.symbolUserFieldResolver=Symbol("apolloServerUserFieldResolver");let i=Symbol("apolloServerPluginsEnabled");function o(e){return!!e[i]}function s(e){return e&&"function"==typeof e.then}function a(e,t){s(e)?e.then(e=>a(e,t),e=>t(e)):Array.isArray(e)&&e.some(s)?Promise.all(e).then(e=>t(null,e),e=>t(e)):t(null,e)}},37645,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDefined=function(e){return null!=e}},64518,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.invokeDidStartHook=i,r.invokeSyncDidStartHook=function(e,t){let r=e.map(e=>t(e)).filter(n.isDefined);return r.reverse(),(...e)=>{for(let t of r)t(...e)}},r.invokeHooksUntilDefinedAndNonNull=o;let n=e.r(37645);async function i(e,t){let r=(await Promise.all(e.map(e=>t(e)))).filter(n.isDefined);return r.reverse(),async(...e)=>{for(let t of r)t(...e)}}async function o(e,t){for(let r of e){let e=await t(r);if(null!=e)return e}return null}},85743,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeGatewayGraphQLRequestContext=function(e,t,r){let i={};if("query"in e.request&&(i.query=e.request.query),"operationName"in e.request&&(i.operationName=e.request.operationName),"variables"in e.request&&(i.variables=e.request.variables),"extensions"in e.request&&(i.extensions=e.request.extensions),e.request.http){let t=e.request.http,r=""!==t.search&&!t.search.startsWith("?");i.http={method:t.method,url:`https://unknown-url.invalid/${r?"?":""}${t.search}`,headers:new n(t.headers)}}return{request:i,response:{http:{headers:new n(e.response.http.headers),get status(){return e.response.http.status},set status(newStatus){e.response.http.status=newStatus}}},logger:t.logger,schema:e.schema,schemaHash:"schemaHash no longer exists since Apollo Server 4",context:e.contextValue,cache:t.cache,queryHash:e.queryHash,document:e.document,source:e.source,operationName:e.operationName,operation:e.operation,errors:e.errors,metrics:e.metrics,debug:r.includeStacktraceInErrorResponses,overallCachePolicy:e.overallCachePolicy,requestIsBatched:e.requestIsBatched}};class n{map;constructor(e){this.map=e}append(e,t){this.map.has(e)?this.map.set(e,this.map.get(e)+", "+t):this.map.set(e,t)}delete(e){this.map.delete(e)}get(e){return this.map.get(e)??null}has(e){return this.map.has(e)}set(e,t){this.map.set(e,t)}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}[Symbol.iterator](){return this.map.entries()}}},82409,(e,t,r)=>{"use strict";let n;var i,o=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||(i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),n=0;n<r.length;n++)"default"!==r[n]&&o(t,e,r[n]);return s(t,e),t});Object.defineProperty(r,"__esModule",{value:!0}),r.executeIncrementally=p;let l=e.r(83391),u=e.r(9084),c=e.r(31559);async function d(){if(void 0!==n)return;let t=await Promise.resolve().then(()=>a(e.r(83391)));n="17.0.0-alpha.9"===t.version&&"experimentalExecuteIncrementally"in t?t.experimentalExecuteIncrementally:null}async function p({useLegacyIncremental:e,legacyExperimentalExecuteIncrementally:t,...r}){if(await d(),e){if(t)return t(r);if(n)throw new u.BadRequestError(`Apollo Server received an operation that uses incremental delivery (@defer or @stream) with the legacy incremental format, but the server does not support the legacy incremental delivery format. Add the HTTP header: 'Accept: ${c.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9}' to use the current incremental delivery format`,{extensions:{http:{status:406}}})}return n?n(r):(0,l.execute)(r)}},51832,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.APQ_CACHE_PREFIX=void 0,r.processGraphQLRequest=g;let i=e.r(84109),o=e.r(83391),s=e.r(93372),a=e.r(9084),l=e.r(50404),u=e.r(64518),c=e.r(85743),d=e.r(86231),p=e.r(31559),h=e.r(37645),f=e.r(82409),m=e.r(31971),y=n(e.r(57978));function v(e){return(0,i.createHash)("sha256").update(e).digest("hex")}async function g(e,t,r,n){let i,g=(await Promise.all(r.plugins.map(e=>e.requestDidStart?.(n)))).filter(h.isDefined),E=n.request,{query:_,extensions:S}=E;if(n.metrics.persistedQueryHit=!1,n.metrics.persistedQueryRegister=!1,S?.persistedQuery){if(!r.persistedQueries)return await x([new a.PersistedQueryNotSupportedError]);if(1!==S.persistedQuery.version)return await x([new o.GraphQLError("Unsupported persisted query version",{extensions:{http:(0,d.newHTTPGraphQLHead)(400)}})]);if(i=S.persistedQuery.sha256Hash,void 0===_){if(!(_=await r.persistedQueries.cache.get(i)))return await x([new a.PersistedQueryNotFoundError]);n.metrics.persistedQueryHit=!0}else{if(i!==v(_))return await x([new o.GraphQLError("provided sha does not match query",{extensions:{http:(0,d.newHTTPGraphQLHead)(400)}})]);n.metrics.persistedQueryRegister=!0}}else{if(!_)return await x([new a.BadRequestError("GraphQL operations must contain a non-empty `query` or a `persistedQuery` extension.")]);i=v(_)}if(n.queryHash=i,n.source=_,await Promise.all(g.map(e=>e.didResolveSource?.(n))),e.documentStore)try{n.document=await e.documentStore.get(e.documentStoreKeyPrefix+i)}catch(e){t.logger.warn("An error occurred while attempting to read from the documentStore. "+(0,l.ensureError)(e).message)}if(!n.document){let s=await (0,u.invokeDidStartHook)(g,async e=>e.parsingDidStart?.(n));try{n.document=(0,o.parse)(_,r.parseOptions)}catch(t){let e=(0,l.ensureError)(t);return await s(e),await x([new a.SyntaxError((0,l.ensureGraphQLError)(e))])}if(await s(),!0!==r.dangerouslyDisableValidation){let t=await (0,u.invokeDidStartHook)(g,async e=>e.validationDidStart?.(n)),i=(0,o.validate)(e.schema,n.document,[...o.specifiedRules,...r.validationRules]);if(0===i.length&&r.laterValidationRules&&(i=(0,o.validate)(e.schema,n.document,r.laterValidationRules)),0!==i.length)return await t(i),await x(i.map(e=>new a.ValidationError(e)));await t()}e.documentStore&&Promise.resolve(e.documentStore.set(e.documentStoreKeyPrefix+i,n.document)).catch(e=>t.logger.warn("Could not store validated document. "+e?.message))}let b=(0,o.getOperationAST)(n.document,E.operationName);if(n.operation=b||void 0,n.operationName=b?.name?.value||null,E.http?.method==="GET"&&b?.operation&&"query"!==b.operation)return await x([new a.BadRequestError(`GET requests only support query operations, not ${b.operation} operations`,{extensions:{http:{status:405,headers:new m.HeaderMap([["allow","POST"]])}}})]);try{await Promise.all(g.map(e=>e.didResolveOperation?.(n)))}catch(e){return await x([(0,l.ensureGraphQLError)(e)])}if(n.metrics.persistedQueryRegister&&r.persistedQueries){let e=r.persistedQueries?.ttl;Promise.resolve(r.persistedQueries.cache.set(i,_,void 0!==e?{ttl:r.persistedQueries?.ttl}:void 0)).catch(t.logger.warn.bind(t.logger))}let P=await (0,u.invokeHooksUntilDefinedAndNonNull)(g,async e=>await e.responseForOperation?.(n));if(null!==P)n.response.body=P.body,(0,d.mergeHTTPGraphQLHead)(n.response.http,P.http);else{let t=(await Promise.all(g.map(e=>e.executionDidStart?.(n)))).filter(h.isDefined);t.reverse(),t.some(e=>e.willResolveField)&&(Object.defineProperty(n.contextValue,s.symbolExecutionDispatcherWillResolveField,{value:(...e)=>(0,u.invokeSyncDidStartHook)(t,t=>t.willResolveField?.(...e))}),r.fieldResolver&&Object.defineProperty(n.contextValue,s.symbolUserFieldResolver,{value:r.fieldResolver}),(0,s.enablePluginsForSchemaResolvers)(e.schema));try{let e=await O({...n,useLegacyIncremental:new y.default({headers:{accept:E.http?.headers.get("accept")}}).mediaType([p.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,p.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2])===p.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2}),t="singleResult"in e?e.singleResult:e.initialResult;if(!n.operation){if(!t.errors?.length)throw Error("Unexpected error: Apollo Server did not resolve an operation but execute did not return errors");throw new a.OperationResolutionError(t.errors[0])}let i=t.errors?.map(e=>e.nodes?.length===1&&e.nodes[0].kind===o.Kind.VARIABLE_DEFINITION&&(e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" has invalid value`)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" got invalid value `)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" of required type `)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" of non-null type `))&&e.extensions?.code==null?new a.UserInputError(e):e);i&&await N(i);let{formattedErrors:s,httpFromErrors:l}=i?R(i):{formattedErrors:void 0,httpFromErrors:(0,d.newHTTPGraphQLHead)()};r.status400ForVariableCoercionErrors&&i?.length&&void 0===t.data&&!l.status&&(l.status=400),(0,d.mergeHTTPGraphQLHead)(n.response.http,l),"singleResult"in e?n.response.body={kind:"single",singleResult:{...t,errors:s}}:n.response.body={kind:"incremental",initialResult:{...e.initialResult,errors:s},subsequentResults:e.subsequentResults}}catch(r){let e=(0,l.ensureError)(r);return await Promise.all(t.map(t=>t.executionDidEnd?.(e))),await x([(0,l.ensureGraphQLError)(e)])}await Promise.all(t.map(e=>e.executionDidEnd?.()))}if(await A(),!n.response.body)throw Error("got to end of processGraphQLRequest without setting body?");return n.response;async function O({useLegacyIncremental:n,...i}){let{request:o,document:s}=i;if(r.__testing_incrementalExecutionResults)return r.__testing_incrementalExecutionResults;if(r.gatewayExecutor)return{singleResult:await r.gatewayExecutor((0,c.makeGatewayGraphQLRequestContext)(i,t,r))};{let t=await (0,f.executeIncrementally)({schema:e.schema,document:s,rootValue:"function"==typeof r.rootValue?r.rootValue(s):r.rootValue,contextValue:i.contextValue,variableValues:o.variables,operationName:o.operationName,fieldResolver:r.fieldResolver,useLegacyIncremental:n,legacyExperimentalExecuteIncrementally:r.legacyExperimentalExecuteIncrementally});return"initialResult"in t?{initialResult:t.initialResult,subsequentResults:"pending"in t.initialResult?w(t.subsequentResults):I(t.subsequentResults)}:{singleResult:t}}}async function*I(e){for await(let t of e){let e=t.incremental?{...t,incremental:await T(t.incremental,async e=>{let{errors:t}=e;return t?(await Promise.all(g.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:R(t).formattedErrors}):e})}:t;await Promise.all(g.map(t=>t.willSendSubsequentPayload?.(n,e))),yield e}}async function*w(e){for await(let t of e){let e=t.incremental?{...t,incremental:await T(t.incremental,async e=>{let{errors:t}=e;return t?(await Promise.all(g.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:R(t).formattedErrors}):e})}:t;t.completed&&(e.completed=await T(t.completed,async e=>{let{errors:t}=e;return t?(await Promise.all(g.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:R(t).formattedErrors}):e})),await Promise.all(g.map(t=>t.willSendSubsequentPayload?.(n,e))),yield e}}async function A(){await Promise.all(g.map(e=>e.willSendResponse?.(n)))}async function N(e){return n.errors=e,await Promise.all(g.map(e=>e.didEncounterErrors?.(n)))}async function x(e){await N(e);let{formattedErrors:t,httpFromErrors:r}=R(e);return n.response.body={kind:"single",singleResult:{errors:t}},(0,d.mergeHTTPGraphQLHead)(n.response.http,r),n.response.http.status||(n.response.http.status=500),await A(),n.response}function R(e){return(0,l.normalizeAndFormatErrors)(e,{formatError:r.formatError,includeStacktraceInErrorResponses:r.includeStacktraceInErrorResponses})}}async function T(e,t){let r=[];for(let n of e){let e=await t(n);r.push(e)}return r}r.APQ_CACHE_PREFIX="apq:"},26579,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnreachableCaseError=void 0,r.UnreachableCaseError=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}}},10437,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.computeCoreSchemaHash=function(e){return(0,n.createHash)("sha256").update(e).digest("hex")};let n=e.r(84109)},52667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SchemaManager=void 0;class n{logger;schemaDerivedDataProvider;onSchemaLoadOrUpdateListeners=new Set;isStopped=!1;schemaDerivedData;schemaContext;modeSpecificState;constructor(e){this.logger=e.logger,this.schemaDerivedDataProvider=e.schemaDerivedDataProvider,"gateway"in e?this.modeSpecificState={mode:"gateway",gateway:e.gateway,apolloConfig:e.apolloConfig}:this.modeSpecificState={mode:"schema",apiSchema:e.apiSchema,schemaDerivedData:e.schemaDerivedDataProvider(e.apiSchema)}}async start(){if("gateway"!==this.modeSpecificState.mode)return this.processSchemaLoadOrUpdateEvent({apiSchema:this.modeSpecificState.apiSchema},this.modeSpecificState.schemaDerivedData),null;{let e=this.modeSpecificState.gateway;if(e.onSchemaLoadOrUpdate)this.modeSpecificState.unsubscribeFromGateway=e.onSchemaLoadOrUpdate(e=>{this.processSchemaLoadOrUpdateEvent(e)});else throw Error("Unexpectedly couldn't find onSchemaLoadOrUpdate on gateway");return(await this.modeSpecificState.gateway.load({apollo:this.modeSpecificState.apolloConfig})).executor}}onSchemaLoadOrUpdate(e){if(!this.schemaContext)throw Error("You must call start() before onSchemaLoadOrUpdate()");if(!this.isStopped)try{e(this.schemaContext)}catch(e){throw Error(`An error was thrown from an 'onSchemaLoadOrUpdate' listener: ${e.message}`)}return this.onSchemaLoadOrUpdateListeners.add(e),()=>{this.onSchemaLoadOrUpdateListeners.delete(e)}}getSchemaDerivedData(){if(!this.schemaDerivedData)throw Error("You must call start() before getSchemaDerivedData()");return this.schemaDerivedData}async stop(){this.isStopped=!0,"gateway"===this.modeSpecificState.mode&&(this.modeSpecificState.unsubscribeFromGateway?.(),await this.modeSpecificState.gateway.stop?.())}processSchemaLoadOrUpdateEvent(e,t){this.isStopped||(this.schemaDerivedData=t??this.schemaDerivedDataProvider(e.apiSchema),this.schemaContext=e,this.onSchemaLoadOrUpdateListeners.forEach(t=>{try{t(e)}catch(e){this.logger.error("An error was thrown from an 'onSchemaLoadOrUpdate' listener"),this.logger.error(e)}}))}}r.SchemaManager=n},12230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NoIntrospection=void 0;let n=e.r(83391),i=e.r(47703);r.NoIntrospection=e=>({Field(t){("__schema"===t.name.value||"__type"===t.name.value)&&e.reportError(new n.GraphQLError("GraphQL introspection is not allowed by Apollo Server, but the query contained __schema or __type. To enable introspection, pass introspection: true to ApolloServer in production",{nodes:[t],extensions:{validationErrorCode:i.ApolloServerValidationErrorCode.INTROSPECTION_DISABLED}}))}})},15994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_MAX_RECURSIVE_SELECTIONS=void 0,r.createMaxRecursiveSelectionsRule=function(e){return t=>{let r=new o(e,t);return{Field(){r.processSelection()},InlineFragment(){r.processSelection()},FragmentSpread(e){r.processSelection(e.name.value)},FragmentDefinition:{enter(e){r.enterFragment(e.name.value)},leave(){r.leaveFragment()}},OperationDefinition:{enter(e){r.enterOperation(e.name?.value??null)},leave(){r.leaveOperation()}},Document:{leave(){r.checkLimitExceeded()}}}}};let n=e.r(83391),i=e.r(47703);r.DEFAULT_MAX_RECURSIVE_SELECTIONS=1e7;class o{selectionCountLimit;context;fragmentInfo=new Map;operationInfo=new Map;currentFragment;currentOperation;fragmentRecursiveSelectionCount=new Map;constructor(e,t){this.selectionCountLimit=e,this.context=t}getExecutionDefinitionInfo(){if(void 0!==this.currentFragment){let e=this.fragmentInfo.get(this.currentFragment);return e||(e={selectionCount:0,fragmentSpreads:new Map},this.fragmentInfo.set(this.currentFragment,e)),e}if(void 0!==this.currentOperation){let e=this.operationInfo.get(this.currentOperation);return e||(e={selectionCount:0,fragmentSpreads:new Map},this.operationInfo.set(this.currentOperation,e)),e}}processSelection(e){let t=this.getExecutionDefinitionInfo();if(t&&(t.selectionCount++,void 0!==e)){let r=(t.fragmentSpreads.get(e)??0)+1;t.fragmentSpreads.set(e,r)}}enterFragment(e){this.currentFragment=e}leaveFragment(){this.currentFragment=void 0}enterOperation(e){this.currentOperation=e}leaveOperation(){this.currentOperation=void 0}computeFragmentRecursiveSelectionsCount(e){let t=this.fragmentRecursiveSelectionCount.get(e);if(null===t)return 0;if(void 0!==t)return t;this.fragmentRecursiveSelectionCount.set(e,null);let r=this.fragmentInfo.get(e),n=0;if(r)for(let[e,t]of(n=r.selectionCount,r.fragmentSpreads))n+=t*this.computeFragmentRecursiveSelectionsCount(e);return this.fragmentRecursiveSelectionCount.set(e,n),n}reportError(e){let t=e?`Operation "${e}"`:"Anonymous operation";this.context.reportError(new n.GraphQLError(`${t} recursively requests too many selections.`,{nodes:[],extensions:{validationErrorCode:i.ApolloServerValidationErrorCode.MAX_RECURSIVE_SELECTIONS_EXCEEDED}}))}checkLimitExceeded(){for(let[e,t]of this.operationInfo){let r=t.selectionCount;for(let[e,n]of t.fragmentSpreads)r+=n*this.computeFragmentRecursiveSelectionsCount(e);r>this.selectionCountLimit&&this.reportError(e)}}}},89962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createMaxRecursiveSelectionsRule=r.DEFAULT_MAX_RECURSIVE_SELECTIONS=r.NoIntrospection=void 0;var n=e.r(12230);Object.defineProperty(r,"NoIntrospection",{enumerable:!0,get:function(){return n.NoIntrospection}});var i=e.r(15994);Object.defineProperty(r,"DEFAULT_MAX_RECURSIVE_SELECTIONS",{enumerable:!0,get:function(){return i.DEFAULT_MAX_RECURSIVE_SELECTIONS}}),Object.defineProperty(r,"createMaxRecursiveSelectionsRule",{enumerable:!0,get:function(){return i.createMaxRecursiveSelectionsRule}})},45503,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;let n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,o="object"==typeof process&&process?process:{},s=(e,t,r,n)=>{"function"==typeof o.emitWarning?o.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)},a=globalThis.AbortController,l=globalThis.AbortSignal;if(void 0===a){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},a=class{constructor(){t()}signal=new l;abort(e){if(!this.signal.aborted){for(let t of(this.signal.reason=e,this.signal.aborted=!0,this.signal._onabort))t(e);this.signal.onabort?.(e)}}};let e=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{e&&(e=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");let u=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),c=e=>u(e)?e<=256?Uint8Array:e<=65536?Uint16Array:e<=0x100000000?Uint32Array:e<=Number.MAX_SAFE_INTEGER?d:null:null;class d extends Array{constructor(e){super(e),this.fill(0)}}class p{heap;length;static #e=!1;static create(e){let t=c(e);if(!t)return[];p.#e=!0;let r=new p(e,t);return p.#e=!1,r}constructor(e,t){if(!p.#e)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class h{#t;#r;#n;#i;#o;#s;#a;#l;get perf(){return this.#l}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#u;#c;#d;#p;#h;#f;#m;#y;#v;#g;#T;#E;#_;#S;#b;#P;#O;#I;#w;static unsafeExposeInternals(e){return{starts:e.#_,ttls:e.#S,autopurgeTimers:e.#b,sizes:e.#E,keyMap:e.#d,keyList:e.#p,valList:e.#h,next:e.#f,prev:e.#m,get head(){return e.#y},get tail(){return e.#v},free:e.#g,isBackgroundFetch:t=>e.#A(t),backgroundFetch:(t,r,n,i)=>e.#N(t,r,n,i),moveToTail:t=>e.#x(t),indexes:t=>e.#R(t),rindexes:t=>e.#D(t),isStale:t=>e.#L(t)}}get max(){return this.#t}get maxSize(){return this.#r}get calculatedSize(){return this.#c}get size(){return this.#u}get fetchMethod(){return this.#s}get memoMethod(){return this.#a}get dispose(){return this.#n}get onInsert(){return this.#i}get disposeAfter(){return this.#o}constructor(e){const{max:t=0,ttl:r,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:d,allowStale:f,dispose:m,onInsert:y,disposeAfter:v,noDisposeOnSet:g,noUpdateTTL:T,maxSize:E=0,maxEntrySize:_=0,sizeCalculation:S,fetchMethod:b,memoMethod:P,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:I,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:A,ignoreFetchAbort:N,perf:x}=e;if(void 0!==x&&"function"!=typeof x?.now)throw TypeError("perf option must have a now() method if specified");if(this.#l=x??n,0!==t&&!u(t))throw TypeError("max option must be a nonnegative integer");const R=t?c(t):Array;if(!R)throw Error("invalid max value: "+t);if(this.#t=t,this.#r=E,this.maxEntrySize=_||this.#r,this.sizeCalculation=S,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==P&&"function"!=typeof P)throw TypeError("memoMethod must be a function if defined");if(this.#a=P,void 0!==b&&"function"!=typeof b)throw TypeError("fetchMethod must be a function if specified");if(this.#s=b,this.#O=!!b,this.#d=new Map,this.#p=Array(t).fill(void 0),this.#h=Array(t).fill(void 0),this.#f=new R(t),this.#m=new R(t),this.#y=0,this.#v=0,this.#g=p.create(t),this.#u=0,this.#c=0,"function"==typeof m&&(this.#n=m),"function"==typeof y&&(this.#i=y),"function"==typeof v?(this.#o=v,this.#T=[]):(this.#o=void 0,this.#T=void 0),this.#P=!!this.#n,this.#w=!!this.#i,this.#I=!!this.#o,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!T,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!A,this.ignoreFetchAbort=!!N,0!==this.maxEntrySize){if(0!==this.#r&&!u(this.#r))throw TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#C()}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!d,this.ttlResolution=u(o)||0===o?o:1,this.ttlAutopurge=!!a,this.ttl=r||0,this.ttl){if(!u(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#M()}if(0===this.#t&&0===this.ttl&&0===this.#r)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#r){const e="LRU_CACHE_UNBOUNDED";i.has(e)||(i.add(e),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,h))}}getRemainingTTL(e){return this.#d.has(e)?1/0:0}#M(){let e=new d(this.#t),t=new d(this.#t);this.#S=e,this.#_=t;let r=this.ttlAutopurge?Array(this.#t):void 0;this.#b=r,this.#k=(n,i,o=this.#l.now())=>{if(t[n]=0!==i?o:0,e[n]=i,r?.[n]&&(clearTimeout(r[n]),r[n]=void 0),0!==i&&r){let e=setTimeout(()=>{this.#L(n)&&this.#F(this.#p[n],"expire")},i+1);e.unref&&e.unref(),r[n]=e}},this.#j=r=>{t[r]=0!==e[r]?this.#l.now():0},this.#U=(r,o)=>{if(e[o]){let s=e[o],a=t[o];if(!s||!a)return;r.ttl=s,r.start=a,r.now=n||i();let l=r.now-a;r.remainingTTL=s-l}};let n=0,i=()=>{let e=this.#l.now();if(this.ttlResolution>0){n=e;let t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{let o=this.#d.get(r);if(void 0===o)return 0;let s=e[o],a=t[o];return s&&a?s-((n||i())-a):1/0},this.#L=r=>{let o=t[r],s=e[r];return!!s&&!!o&&(n||i())-o>s}}#j=()=>{};#U=()=>{};#k=()=>{};#L=()=>!1;#C(){let e=new d(this.#t);this.#c=0,this.#E=e,this.#G=t=>{this.#c-=e[t],e[t]=0},this.#q=(e,t,r,n)=>{if(this.#A(t))return 0;if(!u(r))if(n){if("function"!=typeof n)throw TypeError("sizeCalculation must be a function");if(!u(r=n(t,e)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#K=(t,r,n)=>{if(e[t]=r,this.#r){let r=this.#r-e[t];for(;this.#c>r;)this.#H(!0)}this.#c+=e[t],n&&(n.entrySize=r,n.totalCalculatedSize=this.#c)}}#G=e=>{};#K=(e,t,r)=>{};#q=(e,t,r,n)=>{if(r||n)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#R({allowStale:e=this.allowStale}={}){if(this.#u)for(let t=this.#v;this.#B(t)&&((e||!this.#L(t))&&(yield t),t!==this.#y);)t=this.#m[t]}*#D({allowStale:e=this.allowStale}={}){if(this.#u)for(let t=this.#y;this.#B(t)&&((e||!this.#L(t))&&(yield t),t!==this.#v);)t=this.#f[t]}#B(e){return void 0!==e&&this.#d.get(this.#p[e])===e}*entries(){for(let e of this.#R())void 0===this.#h[e]||void 0===this.#p[e]||this.#A(this.#h[e])||(yield[this.#p[e],this.#h[e]])}*rentries(){for(let e of this.#D())void 0===this.#h[e]||void 0===this.#p[e]||this.#A(this.#h[e])||(yield[this.#p[e],this.#h[e]])}*keys(){for(let e of this.#R()){let t=this.#p[e];void 0===t||this.#A(this.#h[e])||(yield t)}}*rkeys(){for(let e of this.#D()){let t=this.#p[e];void 0===t||this.#A(this.#h[e])||(yield t)}}*values(){for(let e of this.#R())void 0===this.#h[e]||this.#A(this.#h[e])||(yield this.#h[e])}*rvalues(){for(let e of this.#D())void 0===this.#h[e]||this.#A(this.#h[e])||(yield this.#h[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let r of this.#R()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,this.#p[r],this))return this.get(this.#p[r],t)}}forEach(e,t=this){for(let r of this.#R()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#p[r],this)}}rforEach(e,t=this){for(let r of this.#D()){let n=this.#h[r],i=this.#A(n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,this.#p[r],this)}}purgeStale(){let e=!1;for(let t of this.#D({allowStale:!0}))this.#L(t)&&(this.#F(this.#p[t],"expire"),e=!0);return e}info(e){let t=this.#d.get(e);if(void 0===t)return;let r=this.#h[t],n=this.#A(r)?r.__staleWhileFetching:r;if(void 0===n)return;let i={value:n};if(this.#S&&this.#_){let e=this.#S[t],r=this.#_[t];e&&r&&(i.ttl=e-(this.#l.now()-r),i.start=Date.now())}return this.#E&&(i.size=this.#E[t]),i}dump(){let e=[];for(let t of this.#R({allowStale:!0})){let r=this.#p[t],n=this.#h[t],i=this.#A(n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;let o={value:i};if(this.#S&&this.#_){o.ttl=this.#S[t];let e=this.#l.now()-this.#_[t];o.start=Math.floor(Date.now()-e)}this.#E&&(o.size=this.#E[t]),e.unshift([r,o])}return e}load(e){for(let[t,r]of(this.clear(),e)){if(r.start){let e=Date.now()-r.start;r.start=this.#l.now()-e}this.set(t,r.value,r)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;let{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=r,{noUpdateTTL:l=this.noUpdateTTL}=r,u=this.#q(e,t,r.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#F(e,"set"),this;let c=0===this.#u?void 0:this.#d.get(e);if(void 0===c)c=0===this.#u?this.#v:0!==this.#g.length?this.#g.pop():this.#u===this.#t?this.#H(!1):this.#u,this.#p[c]=e,this.#h[c]=t,this.#d.set(e,c),this.#f[this.#v]=c,this.#m[c]=this.#v,this.#v=c,this.#u++,this.#K(c,u,a),a&&(a.set="add"),l=!1,this.#w&&this.#i?.(t,e,"add");else{this.#x(c);let r=this.#h[c];if(t!==r){if(this.#O&&this.#A(r)){r.__abortController.abort(Error("replaced"));let{__staleWhileFetching:t}=r;void 0!==t&&!o&&(this.#P&&this.#n?.(t,e,"set"),this.#I&&this.#T?.push([t,e,"set"]))}else!o&&(this.#P&&this.#n?.(r,e,"set"),this.#I&&this.#T?.push([r,e,"set"]));if(this.#G(c),this.#K(c,u,a),this.#h[c]=t,a){a.set="replace";let e=r&&this.#A(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update");this.#w&&this.onInsert?.(t,e,t===r?"update":"replace")}if(0===n||this.#S||this.#M(),this.#S&&(l||this.#k(c,n,i),a&&this.#U(a,c)),!o&&this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}return this}pop(){try{for(;this.#u;){let e=this.#h[this.#y];if(this.#H(!0),this.#A(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}}}#H(e){let t=this.#y,r=this.#p[t],n=this.#h[t];return this.#O&&this.#A(n)?n.__abortController.abort(Error("evicted")):(this.#P||this.#I)&&(this.#P&&this.#n?.(n,r,"evict"),this.#I&&this.#T?.push([n,r,"evict"])),this.#G(t),this.#b?.[t]&&(clearTimeout(this.#b[t]),this.#b[t]=void 0),e&&(this.#p[t]=void 0,this.#h[t]=void 0,this.#g.push(t)),1===this.#u?(this.#y=this.#v=0,this.#g.length=0):this.#y=this.#f[t],this.#d.delete(r),this.#u--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=this.#d.get(e);if(void 0!==i){let e=this.#h[i];if(this.#A(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#L(i))return r&&this.#j(i),n&&(n.has="hit",this.#U(n,i)),!0;n&&(n.has="stale",this.#U(n,i))}else n&&(n.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,n=this.#d.get(e);if(void 0===n||!r&&this.#L(n))return;let i=this.#h[n];return this.#A(i)?i.__staleWhileFetching:i}#N(e,t,r,n){let i=void 0===t?void 0:this.#h[t];if(this.#A(i))return i;let o=new a,{signal:s}=r;s?.addEventListener("abort",()=>o.abort(s.reason),{signal:o.signal});let l={signal:o.signal,options:r,context:n},u=(n,i=!1)=>{let{aborted:s}=o.signal,a=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(s&&!i?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),s&&!a&&!i)return c(o.signal.reason);let u=this.#h[t];return(u===p||a&&i&&void 0===u)&&(void 0===n?void 0!==p.__staleWhileFetching?this.#h[t]=p.__staleWhileFetching:this.#F(e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,n,l.options))),n},c=n=>{let{aborted:i}=o.signal,s=i&&r.allowStaleOnFetchAbort,a=s||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection;if(this.#h[t]===p&&(l&&void 0!==p.__staleWhileFetching?s||(this.#h[t]=p.__staleWhileFetching):this.#F(e,"fetch")),a)return r.status&&void 0!==p.__staleWhileFetching&&(r.status.returnedStale=!0),p.__staleWhileFetching;if(p.__returned===p)throw n},d=(t,n)=>{let s=this.#s?.(e,i,l);s&&s instanceof Promise&&s.then(e=>t(void 0===e?void 0:e),n),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))})};r.status&&(r.status.fetchDispatched=!0);let p=new Promise(d).then(u,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),c(e))),h=Object.assign(p,{__abortController:o,__staleWhileFetching:i,__returned:void 0});return void 0===t?(this.set(e,h,{...l.options,status:void 0}),t=this.#d.get(e)):this.#h[t]=h,h}#A(e){return!!this.#O&&!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof a}async fetch(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:h=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:y,signal:v}=t;if(!this.#O)return y&&(y.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:y});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:h,ignoreFetchAbort:p,status:y,signal:v},T=this.#d.get(e);if(void 0===T){y&&(y.fetch="miss");let t=this.#N(e,T,g,f);return t.__returned=t}{let t=this.#h[T];if(this.#A(t)){let e=r&&void 0!==t.__staleWhileFetching;return y&&(y.fetch="inflight",e&&(y.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}let i=this.#L(T);if(!m&&!i)return y&&(y.fetch="hit"),this.#x(T),n&&this.#j(T),y&&this.#U(y,T),t;let o=this.#N(e,T,g,f),s=void 0!==o.__staleWhileFetching&&r;return y&&(y.fetch=i?"stale":"refresh",s&&i&&(y.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}async forceFetch(e,t={}){let r=await this.fetch(e,t);if(void 0===r)throw Error("fetch() returned undefined");return r}memo(e,t={}){let r=this.#a;if(!r)throw Error("no memoMethod provided to constructor");let{context:n,forceRefresh:i,...o}=t,s=this.get(e,o);if(!i&&void 0!==s)return s;let a=r(e,s,{options:o,context:n});return this.set(e,a,o),a}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:o}=t,s=this.#d.get(e);if(void 0!==s){let t=this.#h[s],a=this.#A(t);return(o&&this.#U(o,s),this.#L(s))?(o&&(o.get="stale"),a)?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||this.#F(e,"expire"),o&&r&&(o.returnedStale=!0),r?t:void 0):(o&&(o.get="hit"),a)?t.__staleWhileFetching:(this.#x(s),n&&this.#j(s),t)}o&&(o.get="miss")}#$(e,t){this.#m[t]=e,this.#f[e]=t}#x(e){e!==this.#v&&(e===this.#y?this.#y=this.#f[e]:this.#$(this.#m[e],this.#f[e]),this.#$(this.#v,e),this.#v=e)}delete(e){return this.#F(e,"delete")}#F(e,t){let r=!1;if(0!==this.#u){let n=this.#d.get(e);if(void 0!==n)if(this.#b?.[n]&&(clearTimeout(this.#b?.[n]),this.#b[n]=void 0),r=!0,1===this.#u)this.#Q(t);else{this.#G(n);let r=this.#h[n];if(this.#A(r)?r.__abortController.abort(Error("deleted")):(this.#P||this.#I)&&(this.#P&&this.#n?.(r,e,t),this.#I&&this.#T?.push([r,e,t])),this.#d.delete(e),this.#p[n]=void 0,this.#h[n]=void 0,n===this.#v)this.#v=this.#m[n];else if(n===this.#y)this.#y=this.#f[n];else{let e=this.#m[n];this.#f[e]=this.#f[n];let t=this.#f[n];this.#m[t]=this.#m[n]}this.#u--,this.#g.push(n)}}if(this.#I&&this.#T?.length){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}return r}clear(){return this.#Q("delete")}#Q(e){for(let t of this.#D({allowStale:!0})){let r=this.#h[t];if(this.#A(r))r.__abortController.abort(Error("deleted"));else{let n=this.#p[t];this.#P&&this.#n?.(r,n,e),this.#I&&this.#T?.push([r,n,e])}}if(this.#d.clear(),this.#h.fill(void 0),this.#p.fill(void 0),this.#S&&this.#_){for(let e of(this.#S.fill(0),this.#_.fill(0),this.#b??[]))void 0!==e&&clearTimeout(e);this.#b?.fill(void 0)}if(this.#E&&this.#E.fill(0),this.#y=0,this.#v=0,this.#g.length=0,this.#c=0,this.#u=0,this.#I&&this.#T){let e,t=this.#T;for(;e=t?.shift();)this.#o?.(...e)}}}r.LRUCache=h},80505,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginCacheControl=function(e=Object.create(null)){let t,r;return(0,o.internalPlugin)({__internal_plugin_id__:"CacheControl",__is_disabled_plugin__:!1,async serverWillStart({schema:e}){t=new s.LRUCache({max:Object.values(e.getTypeMap()).filter(n.isCompositeType).length}),r=new s.LRUCache({max:Object.values(e.getTypeMap()).filter(n.isObjectType).flatMap(e=>Object.values(e.getFields())).length+Object.values(e.getTypeMap()).filter(n.isInterfaceType).flatMap(e=>Object.values(e.getFields())).length})},async requestDidStart(o){function s(e){let r=t.get(e);if(r)return r;let n=function(e){if(e.astNode){let t=u(e.astNode.directives);if(t)return t}if(e.extensionASTNodes)for(let t of e.extensionASTNodes){let e=u(t.directives);if(e)return e}return{}}(e);return t.set(e,n),n}let d=e.defaultMaxAge??0,p=e.calculateHttpHeaders??!0,{__testing__cacheHints:h}=e;return{async executionDidStart(){if(c(o.overallCachePolicy)){let e=(0,i.newCachePolicy)();return{willResolveField({info:t}){t.cacheControl={setCacheHint:t=>{e.replace(t)},cacheHint:e,cacheHintFromType:s}}}}return{willResolveField({info:e}){let t=(0,i.newCachePolicy)(),a=!1,l=(0,n.getNamedType)(e.returnType);if((0,n.isCompositeType)(l)){let e=s(l);t.replace(e),a=!!e.inheritMaxAge}let p=function(e){let t=r.get(e);if(t)return t;let n=function(e){if(e.astNode){let t=u(e.astNode.directives);if(t)return t}return{}}(e);return r.set(e,n),n}(e.parentType.getFields()[e.fieldName]);return p.inheritMaxAge&&void 0===t.maxAge?(a=!0,p.scope&&t.replace({scope:p.scope})):t.replace(p),e.cacheControl={setCacheHint:e=>{t.replace(e)},cacheHint:t,cacheHintFromType:s},()=>{if(void 0===t.maxAge&&((0,n.isCompositeType)(l)&&!a||!e.path.prev)&&t.restrict({maxAge:d}),h&&c(t)){let r=(0,n.responsePathAsArray)(e.path).join(".");if(h.has(r))throw Error("shouldn't happen: addHint should only be called once per path");h.set(r,{maxAge:t.maxAge,scope:t.scope})}o.overallCachePolicy.restrict(t)}}}},async willSendResponse(e){if(!p)return;let{response:t,overallCachePolicy:r}=e,n=function(e){if(!e)return{kind:"no-header"};if(e===l)return{kind:"uncacheable"};let t=a.exec(e);return t?{kind:"parsable-and-cacheable",hint:{maxAge:+t[1],scope:"public"===t[2]?"PUBLIC":"PRIVATE"}}:{kind:"unparsable"}}(t.http.headers.get("cache-control"));if("unparsable"===n.kind)return;let o=(0,i.newCachePolicy)();o.replace(r),"parsable-and-cacheable"===n.kind&&o.restrict(n.hint);let s=o.policyIfCacheable();s&&"uncacheable"!==n.kind&&"single"===t.body.kind&&!t.body.singleResult.errors?t.http.headers.set("cache-control",`max-age=${s.maxAge}, ${s.scope.toLowerCase()}`):"if-cacheable"!==p&&t.http.headers.set("cache-control",l)}}}})};let n=e.r(83391),i=e.r(44571),o=e.r(84182),s=e.r(45503),a=/^max-age=(\d+), (public|private)$/,l="no-store";function u(e){if(!e)return;let t=e.find(e=>"cacheControl"===e.name.value);if(!t||!t.arguments)return;let r=t.arguments.find(e=>"maxAge"===e.name.value),n=t.arguments.find(e=>"scope"===e.name.value),i=t.arguments.find(e=>"inheritMaxAge"===e.name.value),o=n?.value?.kind==="EnumValue"?n.value.value:void 0,s="PUBLIC"===o||"PRIVATE"===o?o:void 0;return i?.value?.kind==="BooleanValue"&&i.value.value?{inheritMaxAge:!0,scope:s}:{maxAge:r?.value?.kind==="IntValue"?parseInt(r.value.value):void 0,scope:s}}function c(e){return void 0!==e.maxAge||void 0!==e.scope}},90158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TraceTreeBuilder=void 0,r.dateToProtoTimestamp=c;let n=e.r(83391),i=e.r(15589),o=e.r(26579);function s(e){return Error(`[internal apollo-server error] ${e}`)}class a{rootNode=new i.Trace.Node;trace=new i.Trace({root:this.rootNode,fieldExecutionWeight:1});startHrTime;stopped=!1;nodes=new Map([[u(),this.rootNode]]);transformError;constructor(e){const{sendErrors:t,maskedBy:r}=e;if(!t||"masked"in t)this.transformError=()=>new n.GraphQLError("<masked>",{extensions:{maskedBy:r}});else if("transform"in t)this.transformError=t.transform;else if("unmodified"in t)this.transformError=null;else throw new o.UnreachableCaseError(t)}startTiming(){if(this.startHrTime)throw s("startTiming called twice!");if(this.stopped)throw s("startTiming called after stopTiming!");this.trace.startTime=c(new Date),this.startHrTime=process.hrtime()}stopTiming(){if(!this.startHrTime)throw s("stopTiming called before startTiming!");if(this.stopped)throw s("stopTiming called twice!");this.trace.durationNs=l(process.hrtime(this.startHrTime)),this.trace.endTime=c(new Date),this.stopped=!0}willResolveField(e){if(!this.startHrTime)throw s("willResolveField called before startTiming!");if(this.stopped)return()=>{};let t=e.path,r=this.newNode(t);return r.type=e.returnType.toString(),r.parentType=e.parentType.toString(),r.startTime=l(process.hrtime(this.startHrTime)),"string"==typeof t.key&&t.key!==e.fieldName&&(r.originalFieldName=e.fieldName),()=>{r.endTime=l(process.hrtime(this.startHrTime))}}didEncounterErrors(e){e.forEach(e=>{var t;if(e.extensions?.serviceName)return;let r=this.transformAndNormalizeError(e);null!==r&&this.addProtobufError(r.path,(t=r,new i.Trace.Error({message:t.message,location:(t.locations||[]).map(({line:e,column:t})=>new i.Trace.Location({line:e,column:t})),json:JSON.stringify(t)})))})}addProtobufError(e,t){if(!this.startHrTime)throw s("addProtobufError called before startTiming!");if(this.stopped)throw s("addProtobufError called after stopTiming!");let r=this.rootNode;if(Array.isArray(e)){let t=this.nodes.get(e.join("."));if(t)r=t;else{let t=function(e,t){let r,n=t;for(let t of e)n=n?.child?.find(e=>e.responseName===t),r={key:t,prev:r,typename:n?.type??void 0};return r}(e,this.rootNode);if(!t)throw s("addProtobufError called with invalid path!");r=this.newNode(t)}}r.error.push(t)}newNode(e){let t=new i.Trace.Node,r=e.key;return"number"==typeof r?t.index=r:t.responseName=r,this.nodes.set(u(e),t),this.ensureParentNode(e).child.push(t),t}ensureParentNode(e){let t=u(e.prev),r=this.nodes.get(t);return r||this.newNode(e.prev)}transformAndNormalizeError(e){if(this.transformError){let t=Object.assign(Object.create(Object.getPrototypeOf(e)),e),r=this.transformError(t);return null===r?null:r instanceof n.GraphQLError?new n.GraphQLError(r.message,{nodes:e.nodes,source:e.source,positions:e.positions,path:e.path,originalError:e.originalError,extensions:r.extensions||e.extensions}):e}return e}}function l(e){return 1e9*e[0]+e[1]}function u(e){if(void 0===e)return"";let t=String(e.key);for(;void 0!==(e=e.prev);)t=`${e.key}.${t}`;return t}function c(e){let t=+e,r=t%1e3;return new i.google.protobuf.Timestamp({seconds:(t-r)/1e3,nanos:1e6*r})}r.TraceTreeBuilder=a},5101,(e,t,r)=>{"use strict";function n(e,t,r){return!!r(e,t)||(e.child?.some(e=>{let i=e.responseName?t.child(e.responseName):t;return n(e,i,r)})??!1)}Object.defineProperty(r,"__esModule",{value:!0}),r.iterateOverTrace=function(e,t,r){let s=r?new o:i;if(!(e.root&&n(e.root,s,t))&&e.queryPlan&&function e(t,r,i){return!!t&&(t.fetch?.trace?.root&&t.fetch.serviceName?n(t.fetch.trace.root,r.child(`service:${t.fetch.serviceName}`),i):t.flatten?.node?e(t.flatten.node,r,i):t.parallel?.nodes?t.parallel.nodes.some(t=>e(t,r,i)):!!t.sequence?.nodes&&t.sequence.nodes.some(t=>e(t,r,i)))}(e.queryPlan,s,t))return};let i={toArray(){throw Error("not collecting paths!")},child(){return this}};class o{toArray(){return[]}child(e){return new s(e,this)}}class s{responseName;prev;constructor(e,t){this.responseName=e,this.prev=t}toArray(){let e=[],t=this;for(;t instanceof s;)e.push(t.responseName),t=t.prev;return e.reverse()}child(e){return new s(e,this)}}},86983,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DurationHistogram=void 0;class n{buckets;static BUCKET_COUNT=384;static EXPONENT_LOG=Math.log(1.1);toArray(){let e=0,t=[];for(let r of this.buckets)0===r?e++:(1===e?t.push(0):0!==e&&t.push(-e),t.push(Math.floor(r)),e=0);return t}static durationToBucket(e){let t=Math.ceil(Math.log(e/1e3)/n.EXPONENT_LOG);return t<=0||Number.isNaN(t)?0:t>=n.BUCKET_COUNT?n.BUCKET_COUNT-1:t}incrementDuration(e,t=1){return this.incrementBucket(n.durationToBucket(e),t),this}incrementBucket(e,t=1){if(e>=n.BUCKET_COUNT)throw Error("Bucket is out of bounds of the buckets array");if(e>=this.buckets.length){let t=this.buckets.length;this.buckets.length=e+1,this.buckets.fill(0,t)}this.buckets[e]+=t}combine(e){for(let t=0;t<e.buckets.length;t++)this.incrementBucket(t,e.buckets[t])}constructor(e){const t=e?.initSize||74,r=e?.buckets,n=Math.max(r?.length||0,t);this.buckets=Array(n).fill(0),r&&r.forEach((e,t)=>this.buckets[t]=e)}}r.DurationHistogram=n},34009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultSendOperationsAsTrace=function(){let e=new n.LRUCache({maxSize:1048576,sizeCalculation:(e,t)=>t&&Buffer.byteLength(t)||0});return(t,r)=>{var n;let s,a=t.endTime?.seconds;if(null==a)throw Error("programming error: endTime not set on trace");let l=(n=t,s=!1,(0,i.iterateOverTrace)(n,function(e){return(e.error?.length??0)>0&&(s=!0),s},!1),s),u=JSON.stringify([r,o.DurationHistogram.durationToBucket(t.durationNs),Math.floor(a/60),l?Math.floor(a/5):""]);return!e.get(u)&&(e.set(u,!0),!0)}};let n=e.r(45503),i=e.r(5101),o=e.r(86983)},83148,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createOperationDerivedDataCache=function({logger:e}){let t,r=0;return new n.LRUCache({sizeCalculation:e=>Buffer.byteLength(JSON.stringify(e),"utf8"),maxSize:0xa00000,dispose(){r++,(!t||new Date().getTime()-t.getTime()>6e4)&&(t=new Date,e.warn(`This server is processing a high number of unique operations.  A total of ${r} records have been ejected from the ApolloServerPluginUsageReporting signature cache in the past interval.  If you see this warning frequently, please open an issue on the Apollo Server repository.`),r=0)}})},r.operationDerivedDataCacheKey=function(e,t){return`${e}${t&&":"+t}`};let n=e.r(45503)},21659,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OurContextualizedStats=r.OurReport=r.SizeEstimator=void 0;let n=e.r(15589),i=e.r(86983),o=e.r(5101);class s{bytes=0}r.SizeEstimator=s;class a{header;tracesPreAggregated=!1;constructor(e){this.header=e}tracesPerQuery=Object.create(null);endTime=null;operationCount=0;sizeEstimator=new s;ensureCountsAreIntegers(){for(let e of Object.values(this.tracesPerQuery))e.ensureCountsAreIntegers()}addTrace({statsReportKey:e,trace:t,asTrace:r,referencedFieldsByType:i,maxTraceBytes:o=0xa00000,nonFtv1ErrorPaths:s}){let a=this.getTracesAndStats({statsReportKey:e,referencedFieldsByType:i});if(r){let e=n.Trace.encode(t).finish();!isNaN(o)&&e.length>o?a.statsWithContext.addTrace(t,this.sizeEstimator,s):(a.trace.push(e),this.sizeEstimator.bytes+=2+e.length)}else a.statsWithContext.addTrace(t,this.sizeEstimator,s)}getTracesAndStats({statsReportKey:e,referencedFieldsByType:t}){let r=this.tracesPerQuery[e];if(r)return r;for(let[r,n]of(this.sizeEstimator.bytes+=m(e),Object.entries(t)))for(let e of(this.sizeEstimator.bytes+=4,n.isInterface&&(this.sizeEstimator.bytes+=2),this.sizeEstimator.bytes+=m(r),n.fieldNames))this.sizeEstimator.bytes+=m(e);return this.tracesPerQuery[e]=new l(t)}}r.OurReport=a;class l{referencedFieldsByType;constructor(e){this.referencedFieldsByType=e}trace=[];statsWithContext=new u;internalTracesContributingToStats=[];ensureCountsAreIntegers(){this.statsWithContext.ensureCountsAreIntegers()}}class u{map=Object.create(null);toArray(){return Object.values(this.map)}ensureCountsAreIntegers(){for(let e of Object.values(this.map))e.ensureCountsAreIntegers()}addTrace(e,t,r){this.getContextualizedStats(e,t).addTrace(e,t,r)}getContextualizedStats(e,t){let r={clientName:e.clientName,clientVersion:e.clientVersion},n=JSON.stringify(r),i=this.map[n];if(i)return i;t.bytes+=20+m(e.clientName)+m(e.clientVersion);let o=new c(r);return this.map[n]=o,o}}class c{context;queryLatencyStats=new d;perTypeStat=Object.create(null);constructor(e){this.context=e}ensureCountsAreIntegers(){for(let e of Object.values(this.perTypeStat))e.ensureCountsAreIntegers()}addTrace(e,t,r=[]){let{fieldExecutionWeight:i}=e;if(!i&&this.queryLatencyStats.requestsWithoutFieldInstrumentation++,this.queryLatencyStats.requestCount++,e.fullQueryCacheHit?(this.queryLatencyStats.cacheLatencyCount.incrementDuration(e.durationNs),this.queryLatencyStats.cacheHits++):this.queryLatencyStats.latencyCount.incrementDuration(e.durationNs),!e.fullQueryCacheHit&&e.cachePolicy?.maxAgeNs!=null)switch(e.cachePolicy.scope){case n.Trace.CachePolicy.Scope.PRIVATE:this.queryLatencyStats.privateCacheTtlCount.incrementDuration(e.cachePolicy.maxAgeNs);break;case n.Trace.CachePolicy.Scope.PUBLIC:this.queryLatencyStats.publicCacheTtlCount.incrementDuration(e.cachePolicy.maxAgeNs)}e.persistedQueryHit&&this.queryLatencyStats.persistedQueryHits++,e.persistedQueryRegister&&this.queryLatencyStats.persistedQueryMisses++,e.forbiddenOperation&&this.queryLatencyStats.forbiddenOperationCount++,e.registeredOperation&&this.queryLatencyStats.registeredOperationCount++;let s=!1,a=new Set,l=(e,r)=>{if(e.error?.length){s=!0;let n=this.queryLatencyStats.rootErrorStats;r.toArray().forEach(e=>{n=n.getChild(e,t)}),a.add(n),n.errorsCount+=e.error.length}if(i){let r=e.originalFieldName||e.responseName;if(e.parentType&&r&&e.type&&null!=e.endTime&&null!=e.startTime&&e.endTime>=e.startTime){let n=this.getTypeStat(e.parentType,t).getFieldStat(r,e.type,t);n.errorsCount+=e.error?.length??0,n.observedExecutionCount++,n.estimatedExecutionCount+=i,n.requestsWithErrorsCount+=+((e.error?.length??0)>0),n.latencyCount.incrementDuration(e.endTime-e.startTime,i)}}return!1};for(let{subgraph:n,path:i}of((0,o.iterateOverTrace)(e,l,!0),r))if(s=!0,i){let e=this.queryLatencyStats.rootErrorStats.getChild(`service:${n}`,t);i.forEach(r=>{"string"==typeof r&&(e=e.getChild(r,t))}),a.add(e),e.errorsCount+=1}for(let e of a)e.requestsWithErrorsCount+=1;s&&this.queryLatencyStats.requestsWithErrorsCount++}getTypeStat(e,t){let r=this.perTypeStat[e];if(r)return r;t.bytes+=m(e);let n=new h;return this.perTypeStat[e]=n,n}}r.OurContextualizedStats=c;class d{latencyCount=new i.DurationHistogram;requestCount=0;requestsWithoutFieldInstrumentation=0;cacheHits=0;persistedQueryHits=0;persistedQueryMisses=0;cacheLatencyCount=new i.DurationHistogram;rootErrorStats=new p;requestsWithErrorsCount=0;publicCacheTtlCount=new i.DurationHistogram;privateCacheTtlCount=new i.DurationHistogram;registeredOperationCount=0;forbiddenOperationCount=0}class p{children=Object.create(null);errorsCount=0;requestsWithErrorsCount=0;getChild(e,t){let r=this.children[e];if(r)return r;let n=new p;return this.children[e]=n,t.bytes+=m(e)+4,n}}class h{perFieldStat=Object.create(null);getFieldStat(e,t,r){let n=this.perFieldStat[e];if(n)return n;r.bytes+=m(e)+m(t)+10;let i=new f(t);return this.perFieldStat[e]=i,i}ensureCountsAreIntegers(){for(let e of Object.values(this.perFieldStat))e.ensureCountsAreIntegers()}}class f{returnType;errorsCount=0;observedExecutionCount=0;estimatedExecutionCount=0;requestsWithErrorsCount=0;latencyCount=new i.DurationHistogram;constructor(e){this.returnType=e}ensureCountsAreIntegers(){this.estimatedExecutionCount=Math.floor(this.estimatedExecutionCount)}}function m(e){return 2+Buffer.byteLength(e)}},30030,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeTraceDetails=function(e,t,r){let i=new n.Trace.Details,o=(()=>{if(!t||!("transform"in t))return e;{var n,i,o;let s=Object.keys(e);try{let o,a=t.transform({variables:e,operationString:r});return n=s,i=a,o=Object.create(null),n.forEach(e=>{o[e]=i[e]}),o}catch(t){let e;return o=s,e=Object.create(null),o.forEach(t=>{e[t]="[PREDICATE_FUNCTION_ERROR]"}),e}}})();return Object.keys(o).forEach(e=>{if(!t||"none"in t&&t.none||"all"in t&&!t.all||"exceptNames"in t&&t.exceptNames.includes(e)||"onlyNames"in t&&!t.onlyNames.includes(e))i.variablesJson[e]="";else try{i.variablesJson[e]=void 0===o[e]?"":JSON.stringify(o[e])}catch(t){i.variablesJson[e]=JSON.stringify("[Unable to convert value to JSON]")}}),i};let n=e.r(15589)},75362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.packageVersion=void 0,r.packageVersion="5.2.0"},19172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.schemaIsSubgraph=function(e){let t=e.getType("_Service");if(!(0,n.isObjectType)(t))return!1;let r=t.getFields().sdl;if(!r)return!1;let i=r.type;return(0,n.isNonNullType)(i)&&(i=i.ofType),!!(0,n.isScalarType)(i)&&"String"==i.name};let n=e.r(83391)},38117,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginUsageReporting=function(e=Object.create(null)){let t=e.fieldLevelInstrumentation,r="number"==typeof t?async()=>Math.random()<t?1/t:0:t||(async()=>!0),n=null;return(0,c.internalPlugin)({__internal_plugin_id__:"UsageReporting",__is_disabled_plugin__:!1,requestDidStart:async e=>n?n(e):{},async serverWillStart({logger:t,apollo:l,startedInBackground:c,schema:y}){let _,S,b=e.logger??t,{key:P,graphRef:O}=l;if(!(P&&O))throw Error("You've enabled usage reporting via ApolloServerPluginUsageReporting, but you also need to provide your Apollo API key and graph ref, via the APOLLO_KEY/APOLLO_GRAPH_REF environment variables or via `new ApolloServer({apollo: {key, graphRef})`.");if((0,g.schemaIsSubgraph)(y))if(e.__onlyIfSchemaIsNotSubgraph)return b.warn("You have specified an Apollo API key and graph ref but this server appears to be a subgraph. Typically usage reports are sent to Apollo by your Router or Gateway, not directly from your subgraph; usage reporting is disabled. To enable usage reporting anyway, explicitly install `ApolloServerPluginUsageReporting`. To disable this warning, install `ApolloServerPluginUsageReportingDisabled`."),{};else b.warn("You have installed `ApolloServerPluginUsageReporting` but this server appears to be a subgraph. Typically usage reports are sent to Apollo by your Router or Gateway, not directly from your subgraph. If this was unintentional, remove `ApolloServerPluginUsageReporting` from your server's `plugins` array.");b.info(`Apollo usage reporting starting! See your graph at https://studio.apollographql.com/graph/${encodeURI(O)}/`);let I=e.sendReportsImmediately??c,w=null,A=new Map,N=e=>{let t=A.get(e);if(t)return t;let r=new f.OurReport(new i.ReportHeader({...T,executableSchemaId:e,graphRef:O}));return A.set(e,r),r},x=e.overrideReportedSchema?(0,v.computeCoreSchemaHash)(e.overrideReportedSchema):void 0;I||(S=setInterval(()=>M(),e.reportIntervalMs||1e4));let R=e.sendTraces??!0,D=e.experimental_sendOperationAsTrace??(0,p.defaultSendOperationsAsTrace)(),L=!1;function C(e){if(_?.executableSchema===e)return _.executableSchemaId;let t=(0,v.computeCoreSchemaHash)((0,a.printSchema)(e));return _={executableSchema:e,executableSchemaId:t},t}async function M(){await Promise.all([...A.keys()].map(e=>k(e)))}async function k(t){return F(t).catch(t=>{e.reportErrorFunction?e.reportErrorFunction(t):b.error(t.message)})}let F=async t=>{let r,n=(r=A.get(t))?(A.delete(t),r):null;if(!n||0===Object.keys(n.tracesPerQuery).length&&0===n.operationCount)return;n.endTime=(0,d.dateToProtoTimestamp)(new Date),n.ensureCountsAreIntegers();let o=i.Report.verify(n);if(o)throw Error(`Error verifying report: ${o}`);let a=i.Report.encode(n).finish();if(n=null,e.debugPrintReports){let e=i.Report.decode(a);b.info(`Apollo usage report: ${JSON.stringify(e.toJSON())}`)}let l=await new Promise((e,t)=>{(0,u.gzip)(a,(r,n)=>{r?t(r):e(n)})});a=null;let c=e.fetcher??fetch,p=await (0,s.default)(async()=>{let t=await c((e.endpointUrl||"https://usage-reporting.api.apollographql.com")+"/api/ingress/traces",{method:"POST",headers:{"user-agent":"ApolloServerPluginUsageReporting","x-api-key":P,"content-encoding":"gzip",accept:"application/json"},body:l,signal:AbortSignal.timeout(e.requestTimeoutMs??3e4)});if(!(t.status>=500)||!(t.status<600))return t;throw Error(`HTTP status ${t.status}, ${await t.text()||"(no body)"}`)},{retries:(e.maxAttempts||5)-1,minTimeout:e.minimumRetryDelayMs||100,factor:2}).catch(e=>{throw Error(`Error sending report to Apollo servers: ${e.message}`)});if(p.status<200||p.status>=300)throw Error(`Error sending report to Apollo servers: HTTP status ${p.status}, ${await p.text()||"(no body)"}`);if(R&&200===p.status&&p.headers.get("content-type")?.match(/^\s*application\/json\s*(?:;|$)/i)){let e,t=await p.text();try{e=JSON.parse(t)}catch(e){throw Error(`Error parsing response from Apollo servers: ${e}`)}!0===e.tracesIgnored&&(b.debug("This graph's organization does not have access to traces; sending all subsequent operations as stats."),R=!1)}e.debugPrintReports&&b.info(`Apollo usage report: status ${p.status}`)};return n=({metrics:t,schema:n,request:{http:s,variables:a}})=>{let l=new d.TraceTreeBuilder({maskedBy:"ApolloServerPluginUsageReporting",sendErrors:e.sendErrors});l.startTiming(),t.startHrTime=l.startHrTime;let u=!1,c=!1,p=null;async function f(t){if(null===p){if("function"!=typeof e.includeRequest){p=!0;return}"boolean"!=typeof(p=await e.includeRequest(t))&&(b.warn("The 'includeRequest' async predicate function must return a boolean value."),p=!0)}}s&&(l.trace.http=new i.Trace.HTTP({method:i.Trace.HTTP.Method[s.method]||i.Trace.HTTP.Method.UNKNOWN}),e.sendHeaders&&E(l.trace.http,s.headers,e.sendHeaders));let y=!1;return{async didResolveSource(r){y=!0,t.persistedQueryHit&&(l.trace.persistedQueryHit=!0),t.persistedQueryRegister&&(l.trace.persistedQueryRegister=!0),a&&(l.trace.details=(0,m.makeTraceDetails)(a,e.sendVariableValues,r.source));let n=(e.generateClientInfo||function({request:e}){let t="apollographql-client-name",r="apollographql-client-version";return e.http?.headers?.get(t)||e.http?.headers?.get(r)?{clientName:e.http?.headers?.get(t),clientVersion:e.http?.headers?.get(r)}:e.extensions?.clientInfo?e.extensions.clientInfo:{}})(r);if(n){let{clientName:e,clientVersion:t}=n;l.trace.clientVersion=t||"",l.trace.clientName=e||""}},validationDidStart:async()=>async e=>{u=!!e&&0!==e.length},async didResolveOperation(e){if(c=void 0===e.operation,await f(e),p&&!c&&void 0===t.captureTraces){let n=await r(e);l.trace.fieldExecutionWeight="number"==typeof n?n:+!!n,t.captureTraces=!!l.trace.fieldExecutionWeight}},async executionDidStart(){if(t.captureTraces)return{willResolveField:({info:e})=>l.willResolveField(e)}},async didEncounterSubsequentErrors(e,t){l.didEncounterErrors(t)},async willSendSubsequentPayload(e,t){t.hasNext||await v(e)},async willSendResponse(e){y&&(e.errors&&l.didEncounterErrors(e.errors),"single"===e.response.body.kind&&await v(e))}};async function v(r){let s=!!r.operation;await f(r),l.stopTiming();let a=x??C(n);if(!1===p){s&&N(a).operationCount++;return}l.trace.fullQueryCacheHit=!!t.responseCacheHit,l.trace.forbiddenOperation=!!t.forbiddenOperation,l.trace.registeredOperation=!!t.registeredOperation;let d=r.overallCachePolicy.policyIfCacheable();async function m(){let a,d;if(L)return;await new Promise(e=>setImmediate(e));let p=x??C(n),{trace:f}=l;r.document?u?d=`## GraphQLValidationFailure
`:c&&(d=`## GraphQLUnknownOperationName
`):d=`## GraphQLParseFailure
`;let m=void 0===d;if(d)e.sendUnexecutableOperationDocuments&&(f.unexecutedOperationBody=r.source,f.unexecutedOperationName=r.request.operationName||""),a=Object.create(null);else{let t=function(){if(!r.document)throw Error("No document?");let t=(0,h.operationDerivedDataCacheKey)(r.queryHash,r.operationName||"");w&&w.forSchema===n||(w={forSchema:n,cache:(0,h.createOperationDerivedDataCache)({logger:b})});let i=w.cache.get(t);if(i)return i;let s={signature:(e.calculateSignature||o.usageReportingSignature)(r.document,r.operationName||""),referencedFieldsByType:(0,o.calculateReferencedFieldsByType)({document:r.document,schema:n,resolvedOperationName:r.operationName??null})};return w.cache.set(t,s),s}();d=`# ${r.operationName||"-"}
${t.signature}`,a=t.referencedFieldsByType}let y=i.Trace.verify(f);if(y)throw Error(`Error encoding trace: ${y}`);s&&N(p).operationCount++,N(p).addTrace({statsReportKey:d,trace:f,asTrace:R&&(!m||!!t.captureTraces)&&!t.nonFtv1ErrorPaths?.length&&D(f,d),referencedFieldsByType:a,nonFtv1ErrorPaths:t.nonFtv1ErrorPaths??[]}),(I||N(p).sizeEstimator.bytes>=(e.maxUncompressedReportSize||4194304))&&await k(p)}d&&(l.trace.cachePolicy=new i.Trace.CachePolicy({scope:"PRIVATE"===d.scope?i.Trace.CachePolicy.Scope.PRIVATE:"PUBLIC"===d.scope?i.Trace.CachePolicy.Scope.PUBLIC:i.Trace.CachePolicy.Scope.UNKNOWN,maxAgeNs:1e9*d.maxAge})),t.queryPlanTrace&&(l.trace.queryPlan=t.queryPlanTrace),m().catch(b.error.bind(b))}},{async serverWillStop(){S&&(clearInterval(S),S=void 0),L=!0,await M()}}}})},r.makeHTTPRequestHeaders=E;let i=e.r(15589),o=e.r(14629),s=n(e.r(79145)),a=e.r(83391),l=n(e.r(46786)),u=e.r(6461),c=e.r(84182),d=e.r(90158),p=e.r(34009),h=e.r(83148),f=e.r(21659),m=e.r(30030),y=e.r(75362),v=e.r(10437),g=e.r(19172),T={hostname:l.default.hostname(),agentVersion:`@apollo/server@${y.packageVersion}`,runtimeVersion:`node ${process.version}`,uname:`${l.default.platform()}, ${l.default.type()}, ${l.default.release()}, ${l.default.arch()})`};function E(e,t,r){if(r&&(!("none"in r)||!r.none)&&(!("all"in r)||r.all)){for(let[n,o]of t)if(!("exceptNames"in r&&r.exceptNames.some(e=>e.toLowerCase()===n))&&(!("onlyNames"in r)||r.onlyNames.some(e=>e.toLowerCase()===n)))switch(n){case"authorization":case"cookie":case"set-cookie":break;default:e.requestHeaders[n]=new i.Trace.HTTP.Values({value:[o]})}}}},16451,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginUsageReporting=void 0;var n=e.r(38117);Object.defineProperty(r,"ApolloServerPluginUsageReporting",{enumerable:!0,get:function(){return n.ApolloServerPluginUsageReporting}})},9011,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},70974,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="00000000-0000-0000-0000-000000000000"},35277,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},17817,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(35277);r.default=function(e){return"string"==typeof e&&n.default.test(e)}},66647,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17817);r.default=function(e){let t;if(!(0,n.default)(e))throw TypeError("Invalid UUID");return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/0x10000000000&255,t/0x100000000&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},49892,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unsafeStringify=void 0;let n=e.r(17817),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function o(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}r.unsafeStringify=o,r.default=function(e,t=0){let r=o(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},40612,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=new Uint8Array(256),o=i.length;r.default=function(){return o>i.length-16&&((0,n.randomFillSync)(i),o=0),i.slice(o,o+=16)}},48766,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateV1State=void 0;let n=e.r(40612),i=e.r(49892),o={};function s(e,t,r){return e.msecs??=-1/0,e.nsecs??=0,t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=r.slice(10,16),e.node[0]|=1,e.clockseq=(r[8]<<8|r[9])&16383),e.msecs=t,e}function a(e,t,r,n,i,o,s=0){if(e.length<16)throw Error("Random bytes length must be >= 16");if(o){if(s<0||s+16>o.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`)}else o=new Uint8Array(16),s=0;t??=Date.now(),r??=0,n??=(e[8]<<8|e[9])&16383,i??=e.slice(10,16);let l=((0xfffffff&(t+=122192928e5))*1e4+r)%0x100000000;o[s++]=l>>>24&255,o[s++]=l>>>16&255,o[s++]=l>>>8&255,o[s++]=255&l;let u=t/0x100000000*1e4&0xfffffff;o[s++]=u>>>8&255,o[s++]=255&u,o[s++]=u>>>24&15|16,o[s++]=u>>>16&255,o[s++]=n>>>8|128,o[s++]=255&n;for(let e=0;e<6;++e)o[s++]=i[e];return o}r.updateV1State=s,r.default=function(e,t,r){let l,u=e?._v6??!1;if(e){let t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e)l=a(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,r);else{let e=Date.now(),i=(0,n.default)();s(o,e,i),l=a(i,o.msecs,o.nsecs,u?void 0:o.clockseq,u?void 0:o.node,t,r)}return t??(0,i.unsafeStringify)(l)}},44509,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(66647),i=e.r(49892);r.default=function(e){var t;let r=(t="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&t[6])<<4|t[7]>>4&15,(15&t[7])<<4|(240&t[4])>>4,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,(15&t[1])<<4|(240&t[2])>>4,96|15&t[2],t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]));return"string"==typeof e?(0,i.unsafeStringify)(r):r}},80055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),(0,n.createHash)("md5").update(e).digest()}},2214,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=r.stringToBytes=void 0;let n=e.r(66647),i=e.r(49892);function o(e){let t=new Uint8Array((e=unescape(encodeURIComponent(e))).length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}r.stringToBytes=o,r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r.default=function(e,t,r,s,a,l){let u="string"==typeof r?o(r):r,c="string"==typeof s?(0,n.default)(s):s;if("string"==typeof s&&(s=(0,n.default)(s)),s?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+u.length);if(d.set(c),d.set(u,c.length),(d=t(d))[6]=15&d[6]|e,d[8]=63&d[8]|128,a){l=l||0;for(let e=0;e<16;++e)a[l+e]=d[e];return a}return(0,i.unsafeStringify)(d)}},64962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0;let n=e.r(80055),i=e.r(2214);var o=e.r(2214);function s(e,t,r,o){return(0,i.default)(48,n.default,e,t,r,o)}Object.defineProperty(r,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(r,"URL",{enumerable:!0,get:function(){return o.URL}}),s.DNS=i.DNS,s.URL=i.URL,r.default=s},82957,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={randomUUID:e.r(54799).randomUUID}},91890,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82957),i=e.r(40612),o=e.r(49892);r.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let s=(e=e||{}).random??e.rng?.()??(0,i.default)();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},87879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),(0,n.createHash)("sha1").update(e).digest()}},60287,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.URL=r.DNS=void 0;let n=e.r(87879),i=e.r(2214);var o=e.r(2214);function s(e,t,r,o){return(0,i.default)(80,n.default,e,t,r,o)}Object.defineProperty(r,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(r,"URL",{enumerable:!0,get:function(){return o.URL}}),s.DNS=i.DNS,s.URL=i.URL,r.default=s},55187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(49892),i=e.r(48766),o=e.r(44509);r.default=function(e,t,r){e??={},r??=0;let s=(0,i.default)({...e,_v6:!0},new Uint8Array(16));if(s=(0,o.default)(s),t){for(let e=0;e<16;e++)t[r+e]=s[e];return t}return(0,n.unsafeStringify)(s)}},1568,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(66647),i=e.r(49892);r.default=function(e){var t;let r=(t="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&t[3])<<4|t[4]>>4&15,(15&t[4])<<4|(240&t[5])>>4,(15&t[5])<<4|15&t[6],t[7],(15&t[1])<<4|(240&t[2])>>4,(15&t[2])<<4|(240&t[3])>>4,16|(240&t[0])>>4,(15&t[0])<<4|(240&t[1])>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]));return"string"==typeof e?(0,i.unsafeStringify)(r):r}},53714,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.updateV7State=void 0;let n=e.r(40612),i=e.r(49892),o={};function s(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function a(e,t,r,n,i=0){if(e.length<16)throw Error("Random bytes length must be >= 16");if(n){if(i<0||i+16>n.length)throw RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`)}else n=new Uint8Array(16),i=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/0x10000000000&255,n[i++]=t/0x100000000&255,n[i++]=t/0x1000000&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=255&t,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|3&e[10],n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}r.updateV7State=s,r.default=function(e,t,r){let l;if(e)l=a(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.seq,t,r);else{let e=Date.now(),i=(0,n.default)();s(o,e,i),l=a(i,o.msecs,o.seq,t,r)}return t??(0,i.unsafeStringify)(l)}},93690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17817);r.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},4488,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=r.validate=r.v7=r.v6ToV1=r.v6=r.v5=r.v4=r.v3=r.v1ToV6=r.v1=r.stringify=r.parse=r.NIL=r.MAX=void 0;var n=e.r(9011);Object.defineProperty(r,"MAX",{enumerable:!0,get:function(){return n.default}});var i=e.r(70974);Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return i.default}});var o=e.r(66647);Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return o.default}});var s=e.r(49892);Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return s.default}});var a=e.r(48766);Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return a.default}});var l=e.r(44509);Object.defineProperty(r,"v1ToV6",{enumerable:!0,get:function(){return l.default}});var u=e.r(64962);Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return u.default}});var c=e.r(91890);Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return c.default}});var d=e.r(60287);Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return d.default}});var p=e.r(55187);Object.defineProperty(r,"v6",{enumerable:!0,get:function(){return p.default}});var h=e.r(1568);Object.defineProperty(r,"v6ToV1",{enumerable:!0,get:function(){return h.default}});var f=e.r(53714);Object.defineProperty(r,"v7",{enumerable:!0,get:function(){return f.default}});var m=e.r(17817);Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return m.default}});var y=e.r(93690);Object.defineProperty(r,"version",{enumerable:!0,get:function(){return y.default}})},2765,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SchemaReporter=r.schemaReportGql=void 0;let n=e.r(75362);r.schemaReportGql=`#graphql
  mutation SchemaReport($report: SchemaReport!, $coreSchema: String) {
    reportSchema(report: $report, coreSchema: $coreSchema) {
      __typename
      ... on ReportSchemaError {
        message
        code
      }
      ... on ReportSchemaResponse {
        inSeconds
        withCoreSchema
      }
    }
  }
`,r.SchemaReporter=class{schemaReport;coreSchema;endpointUrl;logger;initialReportingDelayInMs;fallbackReportingDelayInMs;fetcher;isStopped;pollTimer;headers;constructor(e){this.headers={"Content-Type":"application/json","x-api-key":e.apiKey,"apollographql-client-name":"ApolloServerPluginSchemaReporting","apollographql-client-version":n.packageVersion},this.endpointUrl=e.endpointUrl||"https://schema-reporting.api.apollographql.com/api/graphql",this.schemaReport=e.schemaReport,this.coreSchema=e.coreSchema,this.isStopped=!1,this.logger=e.logger,this.initialReportingDelayInMs=e.initialReportingDelayInMs,this.fallbackReportingDelayInMs=e.fallbackReportingDelayInMs,this.fetcher=e.fetcher??fetch}stopped(){return this.isStopped}start(){this.pollTimer=setTimeout(()=>this.sendOneReportAndScheduleNext(!1),this.initialReportingDelayInMs)}stop(){this.isStopped=!0,this.pollTimer&&(clearTimeout(this.pollTimer),this.pollTimer=void 0)}async sendOneReportAndScheduleNext(e){if(this.pollTimer=void 0,!this.stopped())try{let t=await this.reportSchema(e);if(!t)return;this.stopped()||(this.pollTimer=setTimeout(()=>this.sendOneReportAndScheduleNext(t.withCoreSchema),1e3*t.inSeconds));return}catch(e){this.logger.error(`Error reporting server info to Apollo during schema reporting: ${e}`),this.stopped()||(this.pollTimer=setTimeout(()=>this.sendOneReportAndScheduleNext(!1),this.fallbackReportingDelayInMs))}}async reportSchema(e){let{data:t,errors:r}=await this.apolloQuery({report:this.schemaReport,coreSchema:e?this.coreSchema:null});if(r)throw Error(r.map(e=>e.message).join("\n"));function n(e){return["Unexpected response shape from Apollo when reporting schema. If this continues, please reach out to support@apollographql.com. Received response:",JSON.stringify(e)].join(" ")}if(!t||!t.reportSchema)throw Error(n(t));if("ReportSchemaResponse"===t.reportSchema.__typename)return t.reportSchema;if("ReportSchemaError"===t.reportSchema.__typename)return this.logger.error(["Received input validation error from Apollo:",t.reportSchema.message,"Stopping reporting. Please fix the input errors."].join(" ")),this.stop(),null;throw Error(n(t))}async apolloQuery(e){let t={query:r.schemaReportGql,variables:e},n=await this.fetcher(this.endpointUrl,{method:"POST",headers:this.headers,body:JSON.stringify(t)});if(!n.ok)throw Error(`An unexpected HTTP status code (${n.status}) was encountered during schema reporting.`);try{return await n.json()}catch(e){throw Error(["Couldn't report schema to Apollo. Parsing response as JSON failed. If this continues please reach out to support@apollographql.com",e].join(" "))}}}},16333,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginSchemaReporting=function({initialDelayMaxMs:e,overrideReportedSchema:t,endpointUrl:r,fetcher:n}=Object.create(null)){let p=(0,s.v4)();return(0,o.internalPlugin)({__internal_plugin_id__:"SchemaReporting",__is_disabled_plugin__:!1,async serverWillStart({apollo:o,schema:s,logger:h}){let f,{key:m,graphRef:y}=o;if(!m)throw Error("To use ApolloServerPluginSchemaReporting, you must provide an Apollo API key, via the APOLLO_KEY environment variable or via `new ApolloServer({apollo: {key})`");if(!y)throw Error("To use ApolloServerPluginSchemaReporting, you must provide your graph ref (eg, 'my-graph-id@my-graph-variant'). Try setting the APOLLO_GRAPH_REF environment variable or passing `new ApolloServer({apollo: {graphRef}})`.");if(t)try{let e=(0,a.validateSchema)((0,a.buildSchema)(t,{noLocation:!0}));if(e.length)throw Error(e.map(e=>e.message).join("\n"))}catch(e){throw Error(`The schema provided to overrideReportedSchema failed to parse or validate: ${e.message}`)}if((0,u.schemaIsSubgraph)(s))throw Error("Schema reporting is not yet compatible with Apollo Federation subgraphs. If you're interested in using schema reporting with subgraphs, please contact Apollo support. To set up managed federation, see https://go.apollo.dev/s/managed-federation");void 0!==r&&h.info(`Apollo schema reporting: schema reporting URL override: ${r}`);let v={bootId:p,graphRef:y,platform:process.env.APOLLO_SERVER_PLATFORM||"local",runtimeVersion:`node ${process.version}`,userVersion:process.env.APOLLO_SERVER_USER_VERSION,serverId:process.env.APOLLO_SERVER_ID||process.env.HOSTNAME||i.default.hostname(),libraryVersion:`@apollo/server@${c.packageVersion}`};return{schemaDidLoadOrUpdate({apiSchema:i,coreSupergraphSdl:o}){if(void 0!==t)if(f)return;else h.info("Apollo schema reporting: schema to report has been overridden");let s=t??o??(0,a.printSchema)(i),u=(0,d.computeCoreSchemaHash)(s),c={...v,coreSchemaHash:u};f?.stop(),(f=new l.SchemaReporter({schemaReport:c,coreSchema:s,apiKey:m,endpointUrl:r,logger:h,initialReportingDelayInMs:Math.floor(Math.random()*(e??1e4)),fallbackReportingDelayInMs:2e4,fetcher:n})).start(),h.info(`Apollo schema reporting: reporting a new schema to Studio! See your graph at https://studio.apollographql.com/graph/${encodeURI(y)}/ with server info ${JSON.stringify(c)}`)},async serverWillStop(){f?.stop()}}}})};let i=n(e.r(46786)),o=e.r(84182),s=e.r(4488),a=e.r(83391),l=e.r(2765),u=e.r(19172),c=e.r(75362),d=e.r(10437)},40103,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginInlineTrace=function(e=Object.create(null)){let t=!e.__onlyIfSchemaIsSubgraph||null;return(0,o.internalPlugin)({__internal_plugin_id__:"InlineTrace",__is_disabled_plugin__:!1,async serverWillStart({schema:e,logger:r}){null===t&&(t=(0,s.schemaIsSubgraph)(e))&&r.info("Enabling inline tracing for this subgraph. To disable, use ApolloServerPluginInlineTraceDisabled.")},async requestDidStart({request:{http:r},metrics:o}){if(!t)return;let s=new i.TraceTreeBuilder({maskedBy:"ApolloServerPluginInlineTrace",sendErrors:e.includeErrors});if(r?.headers.get("apollo-federation-include-trace")==="ftv1"&&!1!==o.captureTraces)return o.captureTraces=!0,s.startTiming(),{executionDidStart:async()=>({willResolveField:({info:e})=>s.willResolveField(e)}),async didEncounterErrors({errors:e}){s.didEncounterErrors(e)},async willSendResponse({response:e}){if(s.stopTiming(),"incremental"===e.body.kind)return;o.queryPlanTrace&&(s.trace.queryPlan=o.queryPlanTrace);let t=n.Trace.encode(s.trace).finish(),r=Buffer.from(t,t.byteOffset,t.byteLength),i=e.body.singleResult.extensions||(e.body.singleResult.extensions=Object.create(null));if(void 0!==i.ftv1)throw Error("The `ftv1` extension was already present.");i.ftv1=r.toString("base64")}}}})};let n=e.r(15589),i=e.r(90158),o=e.r(84182),s=e.r(19172)},68595,(e,t,r)=>{"use strict";function n(e){return JSON.stringify(e).replace("<","\\u003c").replace(">","\\u003e").replace("&","\\u0026").replace("'","\\u0027")}Object.defineProperty(r,"__esModule",{value:!0}),r.getEmbeddedSandboxHTML=r.getEmbeddedExplorerHTML=void 0,r.getEmbeddedExplorerHTML=(e,t,r,i)=>{let o={displayOptions:{},persistExplorerState:!1,runTelemetry:!0,..."boolean"==typeof t.embed?{}:t.embed},s={graphRef:t.graphRef,target:"#embeddableExplorer",initialState:{..."document"in t||"headers"in t||"variables"in t?{document:t.document,headers:t.headers,variables:t.variables}:{},..."collectionId"in t?{collectionId:t.collectionId,operationId:t.operationId}:{},displayOptions:{...o.displayOptions}},persistExplorerState:o.persistExplorerState,includeCookies:t.includeCookies,runtime:r,runTelemetry:o.runTelemetry,allowDynamicStyles:!1};return`
<div class="fallback">
  <h1>Welcome to Apollo Server</h1>
  <p>Apollo Explorer cannot be loaded; it appears that you might be offline.</p>
</div>
<style nonce=${i}>
  iframe {
    background-color: white;
    height: 100%;
    width: 100%;
    border: none;
  }
  #embeddableExplorer {
    width: 100vw;
    height: 100vh;
    position: absolute;
    top: 0;
  }
</style>
<div id="embeddableExplorer"></div>
<script nonce="${i}" src="https://embeddable-explorer.cdn.apollographql.com/${encodeURIComponent(e)}/embeddable-explorer.umd.production.min.js?runtime=${encodeURIComponent(r)}"></script>
<script nonce="${i}">
  var endpointUrl = window.location.href;
  var embeddedExplorerConfig = ${n(s)};
  new window.EmbeddedExplorer({
    ...embeddedExplorerConfig,
    endpointUrl,
  });
</script>
`},r.getEmbeddedSandboxHTML=(e,t,r,i)=>{let o={runTelemetry:!0,endpointIsEditable:!1,initialState:{},..."boolean"==typeof t.embed?{}:t.embed??{}},s={target:"#embeddableSandbox",initialState:{..."document"in t||"headers"in t||"variables"in t?{document:t.document,variables:t.variables,headers:t.headers}:{},..."collectionId"in t?{collectionId:t.collectionId,operationId:t.operationId}:{},includeCookies:t.includeCookies,...o.initialState},hideCookieToggle:!1,endpointIsEditable:o.endpointIsEditable,runtime:r,runTelemetry:o.runTelemetry,allowDynamicStyles:!1};return`
<div class="fallback">
  <h1>Welcome to Apollo Server</h1>
  <p>Apollo Sandbox cannot be loaded; it appears that you might be offline.</p>
</div>
<style nonce=${i}>
  iframe {
    background-color: white;
    height: 100%;
    width: 100%;
    border: none;
  }
  #embeddableSandbox {
    width: 100vw;
    height: 100vh;
    position: absolute;
    top: 0;
  }
</style>
<div id="embeddableSandbox"></div>
<script nonce="${i}" src="https://embeddable-sandbox.cdn.apollographql.com/${encodeURIComponent(e)}/embeddable-sandbox.umd.production.min.js?runtime=${encodeURIComponent(r)}"></script>
<script nonce="${i}">
  var initialEndpoint = window.location.href;
  var embeddedSandboxConfig = ${n(s)};
  new window.EmbeddedSandbox(
    {
      ...embeddedSandboxConfig,
      initialEndpoint,
    }
  );
</script>
`}},28771,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_APOLLO_SERVER_LANDING_PAGE_VERSION=r.DEFAULT_EMBEDDED_SANDBOX_VERSION=r.DEFAULT_EMBEDDED_EXPLORER_VERSION=void 0,r.ApolloServerPluginLandingPageLocalDefault=function(e={}){let{version:t,__internal_apolloStudioEnv__:r,...n}={embed:!0,...e};return l(t,{isProd:!1,apolloStudioEnv:r,...n})},r.ApolloServerPluginLandingPageProductionDefault=function(e={}){let{version:t,__internal_apolloStudioEnv__:r,...n}=e;return l(t,{isProd:!0,apolloStudioEnv:r,...n})};let n=e.r(68595),i=e.r(75362),o=e.r(84109),s=e.r(4488),a=(e,t,r,n)=>{let i=JSON.stringify(encodeURIComponent(JSON.stringify(t)));return`
 <div class="fallback">
  <h1>Welcome to Apollo Server</h1>
  <p>The full landing page cannot be loaded; it appears that you might be offline.</p>
</div>
<script nonce="${n}">window.landingPage = ${i};</script>
<script nonce="${n}" src="https://apollo-server-landing-page.cdn.apollographql.com/${encodeURIComponent(e)}/static/js/main.js?runtime=${r}"></script>`};function l(e,t){let l=e??r.DEFAULT_EMBEDDED_EXPLORER_VERSION,u=e??r.DEFAULT_EMBEDDED_SANDBOX_VERSION,c=e??r.DEFAULT_APOLLO_SERVER_LANDING_PAGE_VERSION,d=`@apollo/server@${i.packageVersion}`;return{__internal_installed_implicitly__:!1,serverWillStart:async()=>({async renderLandingPage(){let e=encodeURIComponent(c);return{html:async function(){let r=(0,o.createHash)("sha256").update((0,s.v4)()).digest("hex"),i=`script-src 'self' 'nonce-${r}' https://apollo-server-landing-page.cdn.apollographql.com https://embeddable-sandbox.cdn.apollographql.com https://embeddable-explorer.cdn.apollographql.com`,p=`style-src 'nonce-${r}' https://apollo-server-landing-page.cdn.apollographql.com https://embeddable-sandbox.cdn.apollographql.com https://embeddable-explorer.cdn.apollographql.com https://fonts.googleapis.com`;return`
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Security-Policy" content="${i}; ${p}; img-src https://apollo-server-landing-page.cdn.apollographql.com; manifest-src https://apollo-server-landing-page.cdn.apollographql.com; frame-src https://explorer.embed.apollographql.com https://sandbox.embed.apollographql.com https://embed.apollo.local:3000" />
    <link
      rel="icon"
      href="https://apollo-server-landing-page.cdn.apollographql.com/${e}/assets/favicon.png"
    />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"
      rel="stylesheet"
    />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Apollo server landing page" />
    <link
      rel="apple-touch-icon"
      href="https://apollo-server-landing-page.cdn.apollographql.com/${e}/assets/favicon.png"
    />
    <link
      rel="manifest"
      href="https://apollo-server-landing-page.cdn.apollographql.com/${e}/manifest.json"
    />
    <title>Apollo Server</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="react-root">
      <style nonce=${r}>
        body {
          margin: 0;
          overflow-x: hidden;
          overflow-y: hidden;
        }
        .fallback {
          opacity: 0;
          animation: fadeIn 1s 1s;
          animation-iteration-count: 1;
          animation-fill-mode: forwards;
          padding: 1em;
        }
        @keyframes fadeIn {
          0% {opacity:0;}
          100% {opacity:1; }
        }
      </style>
    ${t.embed?"graphRef"in t&&t.graphRef?(0,n.getEmbeddedExplorerHTML)(l,t,d,r):!("graphRef"in t)?(0,n.getEmbeddedSandboxHTML)(u,t,d,r):a(c,t,d,r):a(c,t,d,r)}
    </div>
  </body>
</html>
          `}}}})}}r.DEFAULT_EMBEDDED_EXPLORER_VERSION="v3",r.DEFAULT_EMBEDDED_SANDBOX_VERSION="v2",r.DEFAULT_APOLLO_SERVER_LANDING_PAGE_VERSION="_latest"},77287,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ApolloServerPluginDisableSuggestions=function(){return(0,n.internalPlugin)({__internal_plugin_id__:"DisableSuggestions",__is_disabled_plugin__:!1,requestDidStart:async()=>({validationDidStart:async()=>async e=>{e?.forEach(e=>{e.message=e.message.replace(/ ?Did you mean(.+?)\?$/,"")})}})})};let n=e.r(84182)},31559,(e,t,r)=>{"use strict";var n,i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t}),a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.MEDIA_TYPES=r.ApolloServer=void 0,r.internalExecuteOperation=R,r.isImplicitlyInstallablePlugin=D,r.chooseContentTypeForSingleResultResponse=L;let l=e.r(6220),u=e.r(46065),c=e.r(23934),d=a(e.r(65688)),p=e.r(83391),h=a(e.r(42788)),f=a(e.r(57978)),m=e.r(44571),y=e.r(65604),v=e.r(50404),g=e.r(47703),T=e.r(6999),E=e.r(84182),_=e.r(51742),S=e.r(51832),b=e.r(86231),P=e.r(31971),O=e.r(26579),I=e.r(10437),w=e.r(37645),A=e.r(52667),N=e.r(89962);class x{internals;cache;logger;constructor(e){let t;const r=e.nodeEnv??"production"??"";this.logger=e.logger??function(){let e=h.default.getLogger("apollo-server");return e.setLevel(h.default.levels.INFO),e}();const n=(0,y.determineApolloConfig)(e.apollo,this.logger);if(e.cache&&"bounded"!==e.cache&&u.PrefixingKeyValueCache.prefixesAreUnnecessaryForIsolation(e.cache))throw Error("You cannot pass a cache returned from `PrefixingKeyValueCache.cacheDangerouslyDoesNotNeedPrefixesForIsolation`to `new ApolloServer({ cache })`, because Apollo Server may use it for multiple features whose cache keys must be distinct from each other.");const i=e.gateway?{phase:"initialized",schemaManager:new A.SchemaManager({gateway:e.gateway,apolloConfig:n,schemaDerivedDataProvider:t=>x.generateSchemaDerivedData(t,e.documentStore),logger:this.logger})}:{phase:"initialized",schemaManager:new A.SchemaManager({apiSchema:x.constructSchema(e),schemaDerivedDataProvider:t=>x.generateSchemaDerivedData(t,e.documentStore),logger:this.logger})},o=e.introspection??"production"!==r,s=e.hideSchemaDetailsFromClientErrors??!1;this.cache=void 0===e.cache||"bounded"===e.cache?new u.InMemoryLRUCache:e.cache;const a=!0===e.maxRecursiveSelections?[(0,N.createMaxRecursiveSelectionsRule)(N.DEFAULT_MAX_RECURSIVE_SELECTIONS)]:"number"==typeof e.maxRecursiveSelections?[(0,N.createMaxRecursiveSelectionsRule)(e.maxRecursiveSelections)]:[],l=[...o?[]:[N.NoIntrospection],...a];a.length>0?t=e.validationRules:l.push(...e.validationRules??[]),this.internals={formatError:e.formatError,rootValue:e.rootValue,validationRules:l,laterValidationRules:t,hideSchemaDetailsFromClientErrors:s,dangerouslyDisableValidation:e.dangerouslyDisableValidation??!1,fieldResolver:e.fieldResolver,includeStacktraceInErrorResponses:e.includeStacktraceInErrorResponses??("production"!==r&&"test"!==r),persistedQueries:!1===e.persistedQueries?void 0:{...e.persistedQueries,cache:new u.PrefixingKeyValueCache(e.persistedQueries?.cache??this.cache,S.APQ_CACHE_PREFIX)},nodeEnv:r,allowBatchedHttpRequests:e.allowBatchedHttpRequests??!1,apolloConfig:n,plugins:e.plugins??[],parseOptions:e.parseOptions??{},state:i,stopOnTerminationSignals:e.stopOnTerminationSignals,gatewayExecutor:null,csrfPreventionRequestHeaders:!0===e.csrfPrevention||void 0===e.csrfPrevention?_.recommendedCsrfPreventionRequestHeaders:!1===e.csrfPrevention?null:e.csrfPrevention.requestHeaders??_.recommendedCsrfPreventionRequestHeaders,status400ForVariableCoercionErrors:e.status400ForVariableCoercionErrors??!0,__testing_incrementalExecutionResults:e.__testing_incrementalExecutionResults,stringifyResult:e.stringifyResult??b.prettyJSONStringify,legacyExperimentalExecuteIncrementally:e.legacyExperimentalExecuteIncrementally},this.warnAgainstDeprecatedConfigOptions(e)}warnAgainstDeprecatedConfigOptions(e){"status400ForVariableCoercionErrors"in e&&(!0===e.status400ForVariableCoercionErrors?this.logger.warn("The `status400ForVariableCoercionErrors: true` configuration option is now the default behavior and has no effect in Apollo Server v5. You can safely remove this option from your configuration."):this.logger.warn("The `status400ForVariableCoercionErrors: false` configuration option is deprecated and will be removed in Apollo Server v6. Apollo recommends removing any dependency on this behavior."))}async start(){return await this._start(!1)}startInBackgroundHandlingStartupErrorsByLoggingAndFailingAllRequests(){this._start(!0).catch(e=>this.logStartupError(e))}async _start(e){if("initialized"!==this.internals.state.phase)throw Error("You should only call 'start()' or 'startInBackgroundHandlingStartupErrorsByLoggingAndFailingAllRequests()' once on your ApolloServer.");let t=this.internals.state.schemaManager,r=(0,d.default)();this.internals.state={phase:"starting",barrier:r,schemaManager:t,startedInBackground:e};try{await this.addDefaultPlugins();let r=[],n=await t.start();n&&(this.internals.gatewayExecutor=n),r.push(async()=>{await t.stop()});let i=t.getSchemaDerivedData(),o={logger:this.logger,cache:this.cache,schema:i.schema,apollo:this.internals.apolloConfig,startedInBackground:e},s=(await Promise.all(this.internals.plugins.map(async e=>({serverListener:e.serverWillStart&&await e.serverWillStart(o),installedImplicitly:D(e)&&e.__internal_installed_implicitly__})))).filter(e=>"object"==typeof e.serverListener);s.forEach(({serverListener:{schemaDidLoadOrUpdate:e}})=>{e&&t.onSchemaLoadOrUpdate(e)});let a=s.map(e=>e.serverListener.serverWillStop).filter(w.isDefined);a.length&&r.push(async()=>{await Promise.all(a.map(e=>e()))});let l=s.map(e=>e.serverListener.drainServer).filter(w.isDefined),u=l.length?async()=>{await Promise.all(l.map(e=>e()))}:null,c=s.filter(e=>e.serverListener.renderLandingPage);c.length>1&&(c=c.filter(e=>!e.installedImplicitly));let d=null;if(c.length>1)throw Error("Only one plugin can implement renderLandingPage.");c.length&&(d=await c[0].serverListener.renderLandingPage());let p=this.maybeRegisterTerminationSignalHandlers(["SIGINT","SIGTERM"],e);this.internals.state={phase:"started",schemaManager:t,drainServers:u,landingPage:d,toDispose:r,toDisposeLast:p}}catch(t){let e=(0,v.ensureError)(t);try{await Promise.all(this.internals.plugins.map(async t=>t.startupDidFail?.({error:e})))}catch(e){this.logger.error(`startupDidFail hook threw: ${e}`)}throw this.internals.state={phase:"failed to start",error:e},e}finally{r.resolve()}}maybeRegisterTerminationSignalHandlers(e,t){let r=[];if(!1===this.internals.stopOnTerminationSignals||void 0===this.internals.stopOnTerminationSignals&&!(l.isNodeLike&&"test"!==this.internals.nodeEnv&&!t))return r;let n=!1,i=async e=>{if(!n){n=!0;try{await this.stop()}catch(t){this.logger.error(`stop() threw during ${e} shutdown`),this.logger.error(t),process.exit(1)}process.kill(process.pid,e)}};return e.forEach(e=>{process.on(e,i),r.push(async()=>{process.removeListener(e,i)})}),r}async _ensureStarted(){for(;;)switch(this.internals.state.phase){case"initialized":throw Error("You need to call `server.start()` before using your Apollo Server.");case"starting":await this.internals.state.barrier;break;case"failed to start":throw this.logStartupError(this.internals.state.error),Error("This data graph is missing a valid configuration. More details may be available in the server logs.");case"started":case"draining":return this.internals.state;case"stopping":case"stopped":throw this.logger.warn("A GraphQL operation was received during server shutdown. The operation will fail. Consider draining the HTTP server on shutdown; see https://go.apollo.dev/s/drain for details."),Error(`Cannot execute GraphQL operations ${"stopping"===this.internals.state.phase?"while the server is stopping":"after the server has stopped"}.'`);default:throw new O.UnreachableCaseError(this.internals.state)}}assertStarted(e){if("started"!==this.internals.state.phase&&"draining"!==this.internals.state.phase&&!("starting"===this.internals.state.phase&&this.internals.state.startedInBackground))throw Error("You must `await server.start()` before calling `"+e+"`")}logStartupError(e){this.logger.error("An error occurred during Apollo Server startup. All GraphQL requests will now fail. The startup error was: "+(e?.message||e))}static constructSchema(e){if(e.schema)return e.schema;let{typeDefs:t,resolvers:r}=e,n=Array.isArray(t)?t:[t];return(0,c.makeExecutableSchema)({typeDefs:n,resolvers:r})}static generateSchemaDerivedData(e,t){return(0,p.assertValidSchema)(e),{schema:e,documentStore:void 0===t?new u.InMemoryLRUCache:t,documentStoreKeyPrefix:t?`${(0,I.computeCoreSchemaHash)((0,p.printSchema)(e))}:`:""}}async stop(){switch(this.internals.state.phase){case"initialized":case"starting":case"failed to start":throw Error("apolloServer.stop() should only be called after `await apolloServer.start()` has succeeded");case"stopped":if(this.internals.state.stopError)throw this.internals.state.stopError;return;case"stopping":case"draining":{await this.internals.state.barrier;let e=this.internals.state;if("stopped"!==e.phase)throw Error(`Surprising post-stopping state ${e.phase}`);if(e.stopError)throw e.stopError;return}case"started":break;default:throw new O.UnreachableCaseError(this.internals.state)}let e=(0,d.default)(),{schemaManager:t,drainServers:r,landingPage:n,toDispose:i,toDisposeLast:o}=this.internals.state;this.internals.state={phase:"draining",barrier:e,schemaManager:t,landingPage:n};try{await r?.(),this.internals.state={phase:"stopping",barrier:e},await Promise.all([...i].map(e=>e())),await Promise.all([...o].map(e=>e()))}catch(t){throw this.internals.state={phase:"stopped",stopError:t},e.resolve(),t}this.internals.state={phase:"stopped",stopError:null}}async addDefaultPlugins(){let{plugins:t,apolloConfig:r,nodeEnv:n,hideSchemaDetailsFromClientErrors:i}=this.internals,o=e=>t.some(t=>(0,E.pluginIsInternal)(t)&&t.__internal_plugin_id__===e),a=new Map;for(let e of t)if((0,E.pluginIsInternal)(e)){let t=e.__internal_plugin_id__;a.has(t)||a.set(t,{sawDisabled:!1,sawNonDisabled:!1});let r=a.get(t);if(e.__is_disabled_plugin__?r.sawDisabled=!0:r.sawNonDisabled=!0,r.sawDisabled&&r.sawNonDisabled)throw Error(`You have tried to install both ApolloServerPlugin${t} and ApolloServerPlugin${t}Disabled in your server. Please choose whether or not you want to disable the feature and install the appropriate plugin for your use case.`)}if(!o("CacheControl")){let{ApolloServerPluginCacheControl:r}=await Promise.resolve().then(()=>s(e.r(80505)));t.push(r())}if(!o("UsageReporting")&&r.key)if(r.graphRef){let{ApolloServerPluginUsageReporting:r}=await Promise.resolve().then(()=>s(e.r(16451)));t.unshift(r({__onlyIfSchemaIsNotSubgraph:!0}))}else this.logger.warn("You have specified an Apollo key but have not specified a graph ref; usage reporting is disabled. To enable usage reporting, set the `APOLLO_GRAPH_REF` environment variable to `your-graph-id@your-graph-variant`. To disable this warning, install `ApolloServerPluginUsageReportingDisabled`.");{let n=o("SchemaReporting"),i="true"===process.env.APOLLO_SCHEMA_REPORTING;if(!n&&i)if(r.key){let{ApolloServerPluginSchemaReporting:r}=await Promise.resolve().then(()=>s(e.r(16333)));t.push(r())}else throw Error("You've enabled schema reporting by setting the APOLLO_SCHEMA_REPORTING environment variable to true, but you also need to provide your Apollo API key, via the APOLLO_KEY environment variable or via `new ApolloServer({apollo: {key})")}if(!o("InlineTrace")){let{ApolloServerPluginInlineTrace:r}=await Promise.resolve().then(()=>s(e.r(40103)));t.push(r({__onlyIfSchemaIsSubgraph:!0}))}if(!o("LandingPageDisabled")){let{ApolloServerPluginLandingPageLocalDefault:r,ApolloServerPluginLandingPageProductionDefault:i}=await Promise.resolve().then(()=>s(e.r(28771))),o="production"!==n?r():i();if(!D(o))throw Error("default landing page plugin should be implicitly installable?");o.__internal_installed_implicitly__=!0,t.push(o)}{let r=o("DisableSuggestions");if(i&&!r){let{ApolloServerPluginDisableSuggestions:r}=await Promise.resolve().then(()=>s(e.r(77287)));t.push(r())}}}addPlugin(e){if("initialized"!==this.internals.state.phase)throw Error("Can't add plugins after the server has started");this.internals.plugins.push(e)}async executeHTTPGraphQLRequest({httpGraphQLRequest:e,context:t}){try{let r,n;try{r=await this._ensureStarted()}catch(t){return await this.errorResponse(t,e)}if(r.landingPage&&this.prefersHTML(e)){let t;if("string"==typeof r.landingPage.html)t=r.landingPage.html;else try{t=await r.landingPage.html()}catch(r){let t=(0,v.ensureError)(r);return this.logger.error(`Landing page \`html\` function threw: ${t}`),await this.errorResponse(t,e)}return{headers:new P.HeaderMap([["content-type","text/html"]]),body:{kind:"complete",string:t}}}this.internals.csrfPreventionRequestHeaders&&(0,_.preventCsrf)(e.headers,this.internals.csrfPreventionRequestHeaders);try{n=await t()}catch(r){let t=(0,v.ensureError)(r);try{await Promise.all(this.internals.plugins.map(async e=>e.contextCreationDidFail?.({error:t})))}catch(e){this.logger.error(`contextCreationDidFail hook threw: ${e}`)}return await this.errorResponse((0,v.ensureGraphQLError)(t,"Context creation failed: "),e)}return await (0,T.runPotentiallyBatchedHttpQuery)(this,e,n,r.schemaManager.getSchemaDerivedData(),this.internals)}catch(t){if(t instanceof p.GraphQLError&&t.extensions.code===g.ApolloServerErrorCode.BAD_REQUEST)try{await Promise.all(this.internals.plugins.map(async e=>e.invalidRequestWasReceived?.({error:t})))}catch(e){this.logger.error(`invalidRequestWasReceived hook threw: ${e}`)}return await this.errorResponse(t,e)}}async errorResponse(e,t){let{formattedErrors:n,httpFromErrors:i}=(0,v.normalizeAndFormatErrors)([e],{includeStacktraceInErrorResponses:this.internals.includeStacktraceInErrorResponses,formatError:this.internals.formatError});return{status:i.status??500,headers:new P.HeaderMap([...i.headers,["content-type",L(t)??r.MEDIA_TYPES.APPLICATION_JSON]]),body:{kind:"complete",string:await this.internals.stringifyResult({errors:n})}}}prefersHTML(e){let t=e.headers.get("accept");return"GET"===e.method&&!!t&&new f.default({headers:{accept:t}}).mediaType([r.MEDIA_TYPES.APPLICATION_JSON,r.MEDIA_TYPES.APPLICATION_GRAPHQL_RESPONSE_JSON,r.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2,r.MEDIA_TYPES.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,r.MEDIA_TYPES.MULTIPART_MIXED_NO_DEFER_SPEC,r.MEDIA_TYPES.TEXT_HTML])===r.MEDIA_TYPES.TEXT_HTML}async executeOperation(e,t={}){"initialized"===this.internals.state.phase&&await this.start();let r=(await this._ensureStarted()).schemaManager.getSchemaDerivedData(),n={...e,query:e.query&&"string"!=typeof e.query?(0,p.print)(e.query):e.query};return await R({server:this,graphQLRequest:n,internals:this.internals,schemaDerivedData:r,sharedResponseHTTPGraphQLHead:null},t)}}async function R({server:e,graphQLRequest:t,internals:r,schemaDerivedData:n,sharedResponseHTTPGraphQLHead:i},o){var s;let a={logger:e.logger,cache:e.cache,schema:n.schema,request:t,response:{http:i??(0,b.newHTTPGraphQLHead)()},contextValue:Object.assign(Object.create(Object.getPrototypeOf(s=o?.contextValue??{})),s),metrics:{},overallCachePolicy:(0,m.newCachePolicy)(),requestIsBatched:null!==i};try{return await (0,S.processGraphQLRequest)(n,e,r,a)}catch(n){let t=(0,v.ensureError)(n);throw await Promise.all(r.plugins.map(async e=>e.unexpectedErrorProcessingRequest?.({requestContext:a,error:t}))),e.logger.error(`Unexpected error processing request: ${t}`),Error("Internal server error")}}function D(e){return"__internal_installed_implicitly__"in e}function L(e){if(!e.headers.get("accept"))return r.MEDIA_TYPES.APPLICATION_JSON;{let t=new f.default({headers:{accept:e.headers.get("accept")}}).mediaType([r.MEDIA_TYPES.APPLICATION_JSON,r.MEDIA_TYPES.APPLICATION_GRAPHQL_RESPONSE_JSON,r.MEDIA_TYPES.APPLICATION_JSON_GRAPHQL_CALLBACK]);return t||null}}r.ApolloServer=x,r.MEDIA_TYPES={APPLICATION_JSON:"application/json; charset=utf-8",APPLICATION_JSON_GRAPHQL_CALLBACK:"application/json; callbackSpec=1.0; charset=utf-8",APPLICATION_GRAPHQL_RESPONSE_JSON:"application/graphql-response+json; charset=utf-8",MULTIPART_MIXED_NO_DEFER_SPEC:"multipart/mixed",MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2:"multipart/mixed; deferSpec=20220824",MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9:"multipart/mixed; incrementalSpec=v0.2",TEXT_HTML:"text/html"}},38833,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},91795,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderMap=r.ApolloServer=void 0;var o=e.r(31559);Object.defineProperty(r,"ApolloServer",{enumerable:!0,get:function(){return o.ApolloServer}});var s=e.r(31971);Object.defineProperty(r,"HeaderMap",{enumerable:!0,get:function(){return s.HeaderMap}}),i(e.r(38833),r)},36391,(e,t,r)=>{"use strict";var n=e.e&&e.e.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=e.e&&e.e.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(r,"__esModule",{value:!0}),r.getHeaders=void 0;var o=e.r(79261),s=e.r(91795);r.getHeaders=function(e){var t,r,a=new s.HeaderMap;if((0,o.isNextApiRequest)(e))try{for(var l=n(Object.entries(e.headers)),u=l.next();!u.done;u=l.next()){var c=i(u.value,2),d=c[0],p=c[1];"string"==typeof p&&a.set(d,p)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}else e.headers.forEach(function(e,t){a.set(t,e)});return a}},35291,(e,t,r)=>{"use strict";var n=e.e&&e.e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=e.e&&e.e.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){var u=[a,l];if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,n=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},o=e.e&&e.e.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e.e&&e.e.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(r,"__esModule",{value:!0}),r.startServerAndCreateNextHandler=function(e,t){e.startInBackgroundHandlingStartupErrorsByLoggingAndFailingAllRequests();var r=(null==t?void 0:t.context)||p;return function(t,p){return n(this,void 0,void 0,function(){var h,f,m,y,v,g,T,E,_,S,b,P,O,I,w,A,N,x;return i(this,function(R){switch(R.label){case 0:return m=(f=e).executeHTTPGraphQLRequest,O={context:function(){return r(t,p)}},I={},[4,(0,a.getBody)(t)];case 1:return[4,m.apply(f,[(O.httpGraphQLRequest=(I.body=R.sent(),I.headers=(0,l.getHeaders)(t),I.method=t.method||"POST",I.search=t.url&&(0,d.parse)(t.url).search||"",I),O)])];case 2:if(h=R.sent(),(0,u.isNextApiRequest)(t)){if(!p)throw Error("API Routes require you to pass both the req and res object.");try{for(v=(y=o(h.headers)).next();!v.done;v=y.next())T=(g=s(v.value,2))[0],E=g[1],p.setHeader(T,E)}catch(e){w={error:e}}finally{try{v&&!v.done&&(A=y.return)&&A.call(y)}finally{if(w)throw w.error}}return p.statusCode=h.status||200,"complete"===h.body.kind?(p.send(h.body.string),p.end()):p.send(c.Readable.from(h.body.asyncIterator)),[2]}_={};try{for(b=(S=o(h.headers)).next();!b.done;b=S.next())T=(P=s(b.value,2))[0],E=P[1],_[T]=E}catch(e){N={error:e}}finally{try{b&&!b.done&&(x=S.return)&&x.call(S)}finally{if(N)throw N.error}}return[2,new Response("complete"===h.body.kind?h.body.string:new ReadableStream({pull:function(e){return n(this,void 0,void 0,function(){var t,r;return i(this,function(n){switch(n.label){case 0:if("chunked"!==h.body.kind)return[3,2];return[4,h.body.asyncIterator.next()];case 1:r=(t=n.sent()).value,t.done?e.close():e.enqueue(r),n.label=2;case 2:return[2]}})})}}),{headers:_,status:h.status||200})]}})})}};var a=e.r(3499),l=e.r(36391),u=e.r(79261),c=e.r(88947),d=e.r(92509),p=function(){return n(void 0,void 0,void 0,function(){return i(this,function(e){return[2,{}]})})}},17575,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e.r(35291),r)},45821,(e,t,r)=>{t.exports=e.x("firebase-admin-eb0b60e1adeb9409",()=>require("firebase-admin-eb0b60e1adeb9409"))},24836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},80091,(e,t,r)=>{t.exports=e.r(24361).inspect},88367,(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,T=String.prototype.replace,E=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,b=Array.prototype.concat,P=Array.prototype.join,O=Array.prototype.slice,I=Math.floor,w="function"==typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,x="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===x?"object":"symbol")?Symbol.toStringTag:null,D=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function C(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=g.call(t,i.length+1);return T.call(i,r,"$&_")+"."+T.call(T.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return T.call(t,r,"$&_")}var M=e.r(80091),k=M.custom,F=B(k)?k:null,j={__proto__:null,double:'"',single:"'"},U={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function G(e,t,r){var n=j[r.quoteStyle||t];return n+e+n}function q(e){return!R||!("object"==typeof e&&(R in e||void 0!==e[R]))}function K(e){return"[object Array]"===z(e)&&q(e)}function H(e){return"[object RegExp]"===z(e)&&q(e)}function B(e){if(x)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}t.exports=function t(r,n,i,a){var l,m,E,S,I,A=n||{};if(Q(A,"quoteStyle")&&!Q(j,A.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(Q(A,"maxStringLength")&&("number"==typeof A.maxStringLength?A.maxStringLength<0&&A.maxStringLength!==1/0:null!==A.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var k=!Q(A,"customInspect")||A.customInspect;if("boolean"!=typeof k&&"symbol"!==k)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(A,"indent")&&null!==A.indent&&"	"!==A.indent&&!(parseInt(A.indent,10)===A.indent&&A.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(A,"numericSeparator")&&"boolean"!=typeof A.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $=A.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(g.call(t,0,r.maxStringLength),r)+("... "+n)+" more character"+(n>1?"s":"")}var i=U[r.quoteStyle||"single"];return i.lastIndex=0,G(T.call(T.call(t,i,"\\$1"),/[\x00-\x1f]/g,Y),"single",r)}(r,A);if("number"==typeof r){if(0===r)return 1/0/r>0?"0":"-0";var et=String(r);return $?C(r,et):et}if("bigint"==typeof r){var er=String(r)+"n";return $?C(r,er):er}var en=void 0===A.depth?5:A.depth;if(void 0===i&&(i=0),i>=en&&en>0&&"object"==typeof r)return K(r)?"[Array]":"[Object]";var ei=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=P.call(Array(e.indent+1)," ")}return{base:r,prev:P.call(Array(t+1),r)}}(A,i);if(void 0===a)a=[];else if(V(a,r)>=0)return"[Circular]";function eo(e,r,n){if(r&&(a=O.call(a)).push(r),n){var o={depth:A.depth};return Q(A,"quoteStyle")&&(o.quoteStyle=A.quoteStyle),t(e,o,i+1,a)}return t(e,A,i+1,a)}if("function"==typeof r&&!H(r)){var es=function(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(r),ea=ee(r,eo);return"[Function"+(es?": "+es:" (anonymous)")+"]"+(ea.length>0?" { "+P.call(ea,", ")+" }":"")}if(B(r)){var el=x?T.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(r);return"object"!=typeof r||x?el:W(el)}if((eu=r)&&"object"==typeof eu&&("u">typeof HTMLElement&&eu instanceof HTMLElement||"string"==typeof eu.nodeName&&"function"==typeof eu.getAttribute)){for(var eu,ec,ed="<"+_.call(String(r.nodeName)),ep=r.attributes||[],eh=0;eh<ep.length;eh++){ed+=" "+ep[eh].name+"="+G((ec=ep[eh].value,T.call(String(ec),/"/g,"&quot;")),"double",A)}return ed+=">",r.childNodes&&r.childNodes.length&&(ed+="..."),ed+="</"+_.call(String(r.nodeName))+">"}if(K(r)){if(0===r.length)return"[]";var ef=ee(r,eo);return ei&&!function(e){for(var t=0;t<e.length;t++)if(V(e[t],"\n")>=0)return!1;return!0}(ef)?"["+Z(ef,ei)+"]":"[ "+P.call(ef,", ")+" ]"}if("[object Error]"===z(l=r)&&q(l)){var em=ee(r,eo);return"cause"in Error.prototype||!("cause"in r)||D.call(r,"cause")?0===em.length?"["+String(r)+"]":"{ ["+String(r)+"] "+P.call(em,", ")+" }":"{ ["+String(r)+"] "+P.call(b.call("[cause]: "+eo(r.cause),em),", ")+" }"}if("object"==typeof r&&k){if(F&&"function"==typeof r[F]&&M)return M(r,{depth:en-i});else if("symbol"!==k&&"function"==typeof r.inspect)return r.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(r)){var ey=[];return s&&s.call(r,function(e,t){ey.push(eo(t,r,!0)+" => "+eo(e,r))}),X("Map",o.call(r),ey,ei)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(r)){var ev=[];return c&&c.call(r,function(e){ev.push(eo(e,r))}),X("Set",u.call(r),ev,ei)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(r))return J("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(r))return J("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(r))return J("WeakRef");if("[object Number]"===z(m=r)&&q(m))return W(eo(Number(r)));if(function(e){if(!e||"object"!=typeof e||!w)return!1;try{return w.call(e),!0}catch(e){}return!1}(r))return W(eo(w.call(r)));if("[object Boolean]"===z(E=r)&&q(E))return W(f.call(r));if("[object String]"===z(S=r)&&q(S))return W(eo(String(r)));if("u">typeof globalThis&&r===globalThis||r===e.g)return"{ [object globalThis] }";if(!("[object Date]"===z(I=r)&&q(I))&&!H(r)){var eg=ee(r,eo),eT=L?L(r)===Object.prototype:r instanceof Object||r.constructor===Object,eE=r instanceof Object?"":"null prototype",e_=!eT&&R&&Object(r)===r&&R in r?g.call(z(r),8,-1):eE?"Object":"",eS=(eT||"function"!=typeof r.constructor?"":r.constructor.name?r.constructor.name+" ":"")+(e_||eE?"["+P.call(b.call([],e_||[],eE||[]),": ")+"] ":"");return 0===eg.length?eS+"{}":ei?eS+"{"+Z(eg,ei)+"}":eS+"{ "+P.call(eg,", ")+" }"}return String(r)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function Q(e,t){return $.call(e,t)}function z(e){return m.call(e)}function V(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function Y(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function W(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function X(e,t,r,n){return e+" ("+t+") {"+(n?Z(r,n):P.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+P.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r,n=K(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=Q(e,o)?t(e[o],e):""}var s="function"==typeof A?A(e):[];if(x){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var l in e)if(Q(e,l)&&(!n||String(Number(l))!==l||!(l<e.length)))if(x&&r["$"+l]instanceof Symbol)continue;else S.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e));if("function"==typeof A)for(var u=0;u<s.length;u++)D.call(e,s[u])&&i.push("["+t(s[u])+"]: "+t(e[s[u]],e));return i}},47068,(e,t,r)=>{"use strict";var n=e.r(88367),i=e.r(19864),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n},s=function(e,t){if(e){var r=o(e,t);return r&&r.value}},a=function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){if(e)return o(e,t,!0)};t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=l(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return s(e,t)},has:function(t){var r;return!!(r=e)&&!!o(r,t)},set:function(t,r){e||(e={next:void 0}),a(e,t,r)}};return t}},45810,(e,t,r)=>{"use strict";var n=e.r(8784),i=e.r(12106),o=e.r(88367),s=e.r(19864),a=n("%Map%",!0),l=i("Map.prototype.get",!0),u=i("Map.prototype.set",!0),c=i("Map.prototype.has",!0),d=i("Map.prototype.delete",!0),p=i("Map.prototype.size",!0);t.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=d(e,t);return 0===p(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,r){e||(e=new a),u(e,t,r)}};return t}},96259,(e,t,r)=>{"use strict";var n=e.r(8784),i=e.r(12106),o=e.r(88367),s=e.r(45810),a=e.r(19864),l=n("%WeakMap%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),p=i("WeakMap.prototype.delete",!0);t.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(s&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?u(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,n){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),c(e,r,n)):s&&(t||(t=s()),t.set(r,n))}};return r}:s},76475,(e,t,r)=>{"use strict";var n=e.r(19864),i=e.r(88367),o=e.r(47068),s=e.r(45810),a=e.r(96259)||s||o;t.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=a()),e.set(t,r)}};return t}},78795,(e,t,r)=>{"use strict";var n=String.prototype.replace,i=/%20/g,o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:o}},99112,(e,t,r)=>{"use strict";var n=e.r(78795),i=e.r(76475),o=Object.prototype.hasOwnProperty,s=Array.isArray,a=i(),l=function(e,t){return a.set(e,t),e},u=function(e){return a.has(e)},c=function(e){return a.get(e)},d=function(e,t){a.set(e,t)},p=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),h=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(s(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}},f=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};t.exports={arrayToObject:f,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t,r,n){if(u(e)){var i=c(e)+1;return e[i]=t,d(e,i),e}var o=[].concat(e,t);return o.length>r?l(f(o,{plainObjects:n}),o.length-1):o},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],u=o[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return h(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",l=0;l<s.length;l+=1024){for(var u=s.length>=1024?s.slice(l,l+1024):s,c=[],d=0;d<u.length;++d){var h=u.charCodeAt(d);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||o===n.RFC1738&&(40===h||41===h)){c[c.length]=u.charAt(d);continue}if(h<128){c[c.length]=p[h];continue}if(h<2048){c[c.length]=p[192|h>>6]+p[128|63&h];continue}if(h<55296||h>=57344){c[c.length]=p[224|h>>12]+p[128|h>>6&63]+p[128|63&h];continue}d+=1,h=65536+((1023&h)<<10|1023&u.charCodeAt(d)),c[c.length]=p[240|h>>18]+p[128|h>>12&63]+p[128|h>>6&63]+p[128|63&h]}a+=c.join("")}return a},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:u,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(s(t))t.push(r);else if(!t||"object"!=typeof t)return[t,r];else if(u(t)){var i=c(t)+1;t[i]=r,d(t,i)}else(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0);return t}if(!t||"object"!=typeof t){if(u(r)){for(var a=Object.keys(r),p=n&&n.plainObjects?{__proto__:null,0:t}:{0:t},h=0;h<a.length;h++)p[parseInt(a[h],10)+1]=r[a[h]];return l(p,c(r)+1)}return[t].concat(r)}var m=t;return(s(t)&&!s(r)&&(m=f(t,n)),s(t)&&s(r))?(r.forEach(function(r,i){if(o.call(t,i)){var s=t[i];s&&"object"==typeof s&&r&&"object"==typeof r?t[i]=e(s,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var s=r[i];return o.call(t,i)?t[i]=e(t[i],s,n):t[i]=s,t},m)}}},67535,(e,t,r)=>{"use strict";var n=e.r(76475),i=e.r(99112),o=e.r(78795),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,r,o,s,a,u,d,p,m,y,v,g,T,E,_,S,b,P){for(var O,I,w=t,A=P,N=0,x=!1;void 0!==(A=A.get(f))&&!x;){var R=A.get(t);if(N+=1,void 0!==R)if(R===N)throw RangeError("Cyclic object value");else x=!0;void 0===A.get(f)&&(N=0)}if("function"==typeof y?w=y(r,w):w instanceof Date?w=T(w):"comma"===o&&l(w)&&(w=i.maybeMap(w,function(e){return e instanceof Date?T(e):e})),null===w){if(u)return m&&!S?m(r,h.encoder,b,"key",E):r;w=""}if("string"==typeof(O=w)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||i.isBuffer(w))return m?[_(S?r:m(r,h.encoder,b,"key",E))+"="+_(m(w,h.encoder,b,"value",E))]:[_(r)+"="+_(String(w))];var D=[];if(void 0===w)return D;if("comma"===o&&l(w))S&&m&&(w=i.maybeMap(w,m)),I=[{value:w.length>0?w.join(",")||null:void 0}];else if(l(y))I=y;else{var L=Object.keys(w);I=v?L.sort(v):L}var C=p?String(r).replace(/\./g,"%2E"):String(r),M=s&&l(w)&&1===w.length?C+"[]":C;if(a&&l(w)&&0===w.length)return M+"[]";for(var k=0;k<I.length;++k){var F=I[k],j="object"==typeof F&&F&&void 0!==F.value?F.value:w[F];if(!d||null!==j){var U=g&&p?String(F).replace(/\./g,"%2E"):String(F),G=l(w)?"function"==typeof o?o(M,U):M:M+(g?"."+U:"["+U+"]");P.set(t,N);var q=n();q.set(f,P),c(D,e(j,G,o,s,a,u,d,p,"comma"===o&&S&&l(w)?null:m,y,v,g,T,E,_,S,b,q))}}return D},y=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");n=e.format}var i=o.formatters[n],u=h.filter;if(("function"==typeof e.filter||l(e.filter))&&(u=e.filter),t=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var c=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:c,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};t.exports=function(e,t){var r,i=e,o=y(t);"function"==typeof o.filter?i=(0,o.filter)("",i):l(o.filter)&&(r=o.filter);var s=[];if("object"!=typeof i||null===i)return"";var u=a[o.arrayFormat],d="comma"===u&&o.commaRoundTrip;r||(r=Object.keys(i)),o.sort&&r.sort(o.sort);for(var p=n(),h=0;h<r.length;++h){var f=r[h],v=i[f];o.skipNulls&&null===v||c(s,m(v,f,u,d,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}var g=s.join(o.delimiter),T=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),g.length>0?T+g:""}},60865,(e,t,r)=>{"use strict";var n=e.r(99112),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},l=function(e,t){var r={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;l=l.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=t.parameterLimit===1/0?void 0:t.parameterLimit,c=l.split(t.delimiter,t.throwOnLimitExceeded?u+1:u);if(t.throwOnLimitExceeded&&c.length>u)throw RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var d=-1,p=t.charset;if(t.charsetSentinel)for(h=0;h<c.length;++h)0===c[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[h]?p="utf-8":"utf8=%26%2310003%3B"===c[h]&&(p="iso-8859-1"),d=h,h=c.length);for(h=0;h<c.length;++h)if(h!==d){var h,f,m,y=c[h],v=y.indexOf("]="),g=-1===v?y.indexOf("="):v+1;if(-1===g?(f=t.decoder(y,s.decoder,p,"key"),m=t.strictNullHandling?null:""):null!==(f=t.decoder(y.slice(0,g),s.decoder,p,"key"))&&(m=n.maybeMap(a(y.slice(g+1),t,o(r[f])?r[f].length:0),function(e){return t.decoder(e,s.decoder,p,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===p&&(m=String(m).replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),y.indexOf("[]=")>-1&&(m=o(m)?[m]:m),null!==f){var T=i.call(r,f);T&&"combine"===t.duplicates?r[f]=n.combine(r[f],m,t.arrayLimit,t.plainObjects):T&&"last"!==t.duplicates||(r[f]=m)}}return r},u=function(e,t,r,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var s=e.slice(0,-1).join("");o=Array.isArray(t)&&t[s]?t[s].length:0}for(var l=i?t:a(t,r,o),u=e.length-1;u>=0;--u){var c,d=e[u];if("[]"===d&&r.parseArrays)c=n.isOverflow(l)?l:r.allowEmptyArrays&&(""===l||r.strictNullHandling&&null===l)?[]:n.combine([],l,r.arrayLimit,r.plainObjects);else{c=r.plainObjects?{__proto__:null}:{};var p="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,h=r.decodeDotInKeys?p.replace(/%2E/g,"."):p,f=parseInt(h,10);r.parseArrays||""!==h?!isNaN(f)&&d!==h&&String(f)===h&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(c=[])[f]=l:"__proto__"!==h&&(c[h]=l):c={0:l}}l=c}return l},c=function(e,t){var r=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&i.call(Object.prototype,r)&&!t.allowPrototypes)return;return[r]}var n=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),s=o?r.slice(0,o.index):r,a=[];if(s){if(!t.plainObjects&&i.call(Object.prototype,s)&&!t.allowPrototypes)return;a.push(s)}for(var l=0;null!==(o=n.exec(r))&&l<t.depth;){l+=1;var u=o[1].slice(1,-1);if(!t.plainObjects&&i.call(Object.prototype,u)&&!t.allowPrototypes)return;a.push(o[1])}if(o){if(!0===t.strictDepth)throw RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");a.push("["+r.slice(o.index)+"]")}return a},d=function(e,t,r,n){if(e){var i=c(e,r);if(i)return u(i,t,r,n)}},p=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?s.charset:e.charset,r=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}};t.exports=function(e,t){var r=p(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var i="string"==typeof e?l(e,r):e,o=r.plainObjects?{__proto__:null}:{},s=Object.keys(i),a=0;a<s.length;++a){var u=s[a],c=d(u,i[u],r,"string"==typeof e);o=n.merge(o,c,r)}return!0===r.allowSparse?o:n.compact(o)}},30348,(e,t,r)=>{"use strict";var n=e.r(67535),i=e.r(60865);t.exports={formats:e.r(78795),parse:i,stringify:n}},33405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},27931,e=>{"use strict";let t,r;var n,i,o,s,a,l,u,c,d,p=e.i(10228),h=e.i(30399),f=e.i(6120),m=e.i(14764),y=e.i(99561),v=e.i(24003),g=e.i(30756),T=e.i(88884),E=e.i(4713),_=e.i(96358),S=e.i(27407),b=e.i(43529),P=e.i(96896),O=e.i(79324),I=e.i(83974),w=e.i(93695);e.i(33093);var A=e.i(98023),N=e.i(6220),x=e.i(46065),R=e.i(8952),D=e.i(79399);let L=e=>Array.isArray(e)?e:e?[e]:[];function C(e){let t;return"alias"in e&&(t=e.alias?.value),null==t&&"name"in e&&(t=e.name?.value),null==t&&(t=e.kind),t}function M(e,t,r){let n=C(e),i=C(t);return"function"==typeof r?r(n,i):String(n)<String(i)?-1:+(String(n)>String(i))}function k(e){return null!=e}function F(e,t=!1,r=!1,n=!1){let i,o,s;if(0===e.length)return;if(1===e.length)return e[0];let a=!0,l=e.every(e=>{if(Array.isArray(e)){if(void 0===i)return i=e.length,!0;else if(i===e.length)return!0}else a=!1;return!1});if(n&&l)return Array(i).fill(null).map((i,o)=>F(e.map(e=>e[o]),t,r,n));if(a)return e.flat(1);for(let i of(t&&(s=e.find(e=>j(e)))&&(null==o&&(o={}),Object.setPrototypeOf(o,Object.create(Object.getPrototypeOf(s)))),e))if(null!=i)if(j(i)){if(s){let e=Object.getPrototypeOf(o),t=Object.getPrototypeOf(i);if(t)for(let r of Object.getOwnPropertyNames(t)){let n=Object.getOwnPropertyDescriptor(t,r);k(n)&&Object.defineProperty(e,r,n)}}for(let e in i)null==o&&(o={}),e in o?o[e]=F([o[e],i[e]],t,r,n):o[e]=i[e]}else o=Array.isArray(i)&&Array.isArray(o)?F([o,i],t,r,n):i;return o}function j(e){return e&&"object"==typeof e&&!Array.isArray(e)}function U(e,t){if(e&&t&&t!==e.extensions){if(!e.extensions){e.extensions=t;return}e.extensions=F([e.extensions,t],!1,!0)}}var G=e.i(9350),q=e.i(55984),K=e.i(12187),H=e.i(85234),B=e.i(73699),$=e.i(89927),Q=e.i(29481);function z(e){return V(e,[])}function V(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){var r,n;let i;if(null===e)return"null";if(e instanceof Error)return"AggregateError"===e.name?Y(e)+"\n"+W(e.errors,t):Y(e);if(t.includes(e))return"[Circular]";let o=[...t,e];if("function"==typeof e.toJSON){let t=e.toJSON();if(t!==e)return"string"==typeof t?t:V(t,o)}else if(Array.isArray(e))return W(e,o);return r=e,n=o,0===(i=Object.entries(r)).length?"{}":n.length>3?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(r)+"]":"{ "+i.map(([e,t])=>e+": "+V(t,n)).join(", ")+" }"}(e,t);default:return String(e)}}function Y(e){return e.name="GraphQLError",e.toString()}function W(e,t){if(0===e.length)return"[]";if(t.length>3)return"[Array]";let r=e.length,n=[];for(let i=0;i<r;++i)n.push(V(e[i],t));return"["+n.join(", ")+"]"}function J(e){if((0,B.isNonNullType)(e)){let t=J(e.ofType);if(t.kind===q.Kind.NON_NULL_TYPE)throw Error(`Invalid type node ${z(e)}. Inner type of non-null type cannot be a non-null type.`);return{kind:q.Kind.NON_NULL_TYPE,type:t}}return(0,B.isListType)(e)?{kind:q.Kind.LIST_TYPE,type:J(e.ofType)}:{kind:q.Kind.NAMED_TYPE,name:{kind:q.Kind.NAME,value:e.name}}}function X(e){if(null===e)return{kind:q.Kind.NULL};if(void 0===e)return null;if(Array.isArray(e)){let t=[];for(let r of e){let e=X(r);null!=e&&t.push(e)}return{kind:q.Kind.LIST,values:t}}if("object"==typeof e){if(e?.toJSON)return X(e.toJSON());let t=[];for(let r in e){let n=X(e[r]);n&&t.push({kind:q.Kind.OBJECT_FIELD,name:{kind:q.Kind.NAME,value:r},value:n})}return{kind:q.Kind.OBJECT,fields:t}}if("boolean"==typeof e)return{kind:q.Kind.BOOLEAN,value:e};if("bigint"==typeof e)return{kind:q.Kind.INT,value:String(e)};if("number"==typeof e&&isFinite(e)){let t=String(e);return Z.test(t)?{kind:q.Kind.INT,value:t}:{kind:q.Kind.FLOAT,value:t}}if("string"==typeof e)return{kind:q.Kind.STRING,value:e};throw TypeError(`Cannot convert value to AST: ${e}.`)}let Z=/^-?(?:0|[1-9][0-9]*)$/;function ee(e,t){if((0,B.isNonNullType)(t)){let r=ee(e,t.ofType);return r?.kind===q.Kind.NULL?null:r}if(null===e)return{kind:q.Kind.NULL};if(void 0===e)return null;if((0,B.isListType)(t)){let r=t.ofType;if(null!=e&&"object"==typeof e&&Symbol.iterator in e){let t=[];for(let n of e){let e=ee(n,r);null!=e&&t.push(e)}return{kind:q.Kind.LIST,values:t}}return ee(e,r)}if((0,B.isInputObjectType)(t)){if("object"!=typeof e||null===e)return null;let r=[];for(let n of Object.values(t.getFields())){let t=ee(e[n.name],n.type);t&&r.push({kind:q.Kind.OBJECT_FIELD,name:{kind:q.Kind.NAME,value:n.name},value:t})}return{kind:q.Kind.OBJECT,fields:r}}if((0,B.isLeafType)(t)){let r=t.serialize(e);return null==r?null:(0,B.isEnumType)(t)?{kind:q.Kind.ENUM,value:r}:"ID"===t.name&&"string"==typeof r&&et.test(r)?{kind:q.Kind.INT,value:r}:X(r)}console.assert(!1,"Unexpected input type: "+z(t))}Symbol.for("@whatwg-node/promise-helpers/FakePromise");let et=/^-?(?:0|[1-9][0-9]*)$/;function er(e){return e.astNode?.description?{...e.astNode.description,block:!0}:e.description?{kind:q.Kind.STRING,value:e.description,block:!0}:void 0}var en=e.i(97740),ei=e.i(70337),eo=e.i(4255),es=e.i(99002),ea=e.i(70818);let el=["message","locations","path","nodes","source","positions","originalError","name","stack","extensions","coordinate"];function eu(e,t){var r;t?.originalError&&!(t.originalError instanceof Error)&&null!=(r=t.originalError)&&"object"==typeof r&&Object.keys(r).every(e=>el.includes(e))&&(t.originalError=eu(t.originalError.message,t.originalError));let n=es.GraphQLError,i=ea.versionInfo.major>=16?new n(e,t):new n(e,t?.nodes,t?.source,t?.positions,t?.path,t?.originalError,t?.extensions);return t?.coordinate&&null==i.coordinate&&Object.defineProperties(i,{coordinate:{value:t.coordinate,enumerable:!0,configurable:!0}}),i}function ec(e){let t=new WeakMap;return function(r){let n=t.get(r);if(void 0===n){let n=e(r);return t.set(r,n),n}return n}}function ed(e,t=["directives"]){return Object.entries(function(e,t,r=["directives"]){let n={};if(e.extensions){let t=e.extensions;for(let e of r)t=t?.[e];if(null!=t)for(let e in t){let r=t[e];if(Array.isArray(r))for(let t of r){let r=n[e];r||(r=[],n[e]=r),r.push(t)}else{let t=n[e];t||(t=[],n[e]=t),t.push(r)}}}let i=ec(e=>JSON.stringify(e)),o=[];for(let r of(e.astNode&&o.push(e.astNode),e.extensionASTNodes&&o.push(...e.extensionASTNodes),o))if(r.directives?.length)for(let e of r.directives){let r=e.name.value,s=n[r];s||(s=[],n[r]=s);let a=t?.getDirective(r),l={};if(a&&(l=function(e,t,r={}){let n={},i=(t.arguments??[]).reduce((e,t)=>({...e,[t.name.value]:t}),{});for(let{name:o,type:s,defaultValue:a}of e.args){let e=i[o];if(!e){if(void 0!==a)n[o]=a;else if((0,B.isNonNullType)(s))throw eu(`Argument "${o}" of required type "${z(s)}" was not provided.`,{nodes:[t]});continue}let l=e.value,u=l.kind===q.Kind.NULL;if(l.kind===q.Kind.VARIABLE){let e=l.name.value;if(null==r||!Object.prototype.hasOwnProperty.call(r,e)){if(void 0!==a)n[o]=a;else if((0,B.isNonNullType)(s))throw eu(`Argument "${o}" of required type "${z(s)}" was provided the variable "$${e}" which was not provided a runtime value.`,{nodes:[l]});continue}u=null==r[e]}if(u&&(0,B.isNonNullType)(s))throw eu(`Argument "${o}" of non-null type "${z(s)}" must not be null.`,{nodes:[l]});let c=(0,en.valueFromAST)(l,s,r);if(void 0===c)throw eu(`Argument "${o}" has invalid value ${(0,eo.print)(l)}.`,{nodes:[l]});n[o]=c}return n}(a,e)),e.arguments)for(let t of e.arguments){let e=t.name.value;if(null==l[e]){let r=a?.args.find(t=>t.name===e);r&&(l[e]=(0,en.valueFromAST)(t.value,r.type))}null==l[e]&&(l[e]=(0,ei.valueFromASTUntyped)(t.value))}if(o.length>0&&s.length>0){let e=i(l);if(s.some(t=>i(t)===e))continue}s.push(l)}return n}(e,void 0,t)).map(([e,t])=>t?.map(t=>({name:e,args:t}))).flat(1/0).filter(Boolean)}ec(function(e){return new Set([...ep(e)].map(e=>e.name))});let ep=ec(function(e){return new Set(eh(e).values())}),eh=ec(function(e){let t=new Map,r=e.getQueryType();r&&t.set("query",r);let n=e.getMutationType();n&&t.set("mutation",n);let i=e.getSubscriptionType();return i&&t.set("subscription",i),t});function ef(e,t,r){let n,i=[],o=ed(e,r);null!=o&&(n=eg(t,o));let s=null,a=null,l=null;(null!=n&&(i=n.filter(e=>H.specifiedDirectives.every(t=>t.name!==e.name.value)),s=n.find(e=>"deprecated"===e.name.value),a=n.find(e=>"specifiedBy"===e.name.value),l=n.find(e=>"oneOf"===e.name.value)),null!=e.deprecationReason&&null==s&&(s=ev("deprecated",{reason:e.deprecationReason},H.GraphQLDeprecatedDirective)),null!=e.specifiedByUrl||null!=e.specifiedByURL&&null==a)&&(a=ev("specifiedBy",{url:e.specifiedByUrl||e.specifiedByURL}));return e.isOneOf&&null==l&&(l=ev("oneOf")),null!=s&&i.push(s),null!=a&&i.push(a),null!=l&&i.push(l),i}function em(e,t,r){return{kind:q.Kind.INPUT_VALUE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},type:J(e.type),defaultValue:void 0!==e.defaultValue?ee(e.defaultValue,e.type)??void 0:void 0,directives:ef(e,t,r)}}function ey(e,t,r){return{kind:q.Kind.FIELD_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},arguments:e.args.map(e=>em(e,t,r)),type:J(e.type),directives:ef(e,t,r)}}function ev(e,t,r){let n=[];for(let e in t){let i,o=t[e];if(null!=r){let t=r.args.find(t=>t.name===e);t&&(i=ee(o,t.type))}null==i&&(i=X(o)),null!=i&&n.push({kind:q.Kind.ARGUMENT,name:{kind:q.Kind.NAME,value:e},value:i})}return{kind:q.Kind.DIRECTIVE,name:{kind:q.Kind.NAME,value:e},arguments:n}}function eg(e,t){let r=[];for(let{name:n,args:i}of t){let t=e?.getDirective(n);r.push(ev(n,i,t))}return r}var eT=e.i(65224),eE=e.i(46131);let e_={};function eS(e,t,r,n){let i=function(e){let t=function(e){let t=e.loc;if(!t)return;let r=[],n=t.startToken.prev;for(;null!=n&&n.kind===eT.TokenKind.COMMENT&&null!=n.next&&null!=n.prev&&n.line+1===n.next.line&&n.line!==n.prev.line;){let e=String(n.value);r.push(e),n=n.prev}return r.length>0?r.reverse().join("\n"):void 0}(e);if(void 0!==t)return function(e){let t=e.split(/\r\n|[\n\r]/g),r=function(e){let t=null;for(let r=1;r<e.length;r++){let n=e[r],i=eR(n);if(i!==n.length&&(null===t||i<t)&&0===(t=i))break}return null===t?0:t}(t);if(0!==r)for(let e=1;e<t.length;e++)t[e]=t[e].slice(r);for(;t.length>0&&eD(t[0]);)t.shift();for(;t.length>0&&eD(t[t.length-1]);)t.pop();return t.join("\n")}(`
${t}`)}(e);if("string"!=typeof i||0===i.length)return;let o=[t];r&&(o.push(r),n&&o.push(n));let s=o.join(".");e_[s]||(e_[s]=[]),e_[s].push(i)}function eb(e){return"\n# "+e.replace(/\n/g,"\n# ")}function eP(e,t){return e?e.filter(e=>e).join(t||""):""}function eO(e){return e?.some(e=>e.includes("\n"))??!1}function eI(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function ew(e){return e&&0!==e.length?`{
${eI(eP(e,"\n"))}
}`:""}function eA(e,t,r){return t?e+t+(r||""):""}let eN={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>eP(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{let t=eA("(",eP(e.variableDefinitions,", "),")");return eP([e.operation,eP([e.name,t]),eP(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+eA(" = ",r)+eA(" ",eP(n," "))},SelectionSet:{leave:({selections:e})=>ew(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){let o=eA("",e,": ")+t,s=o+eA("(",eP(r,", "),")");return s.length>80&&(s=o+eA("(\n",eI(eP(r,"\n")),"\n)")),eP([s,eP(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+eA(" ",eP(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>eP(["...",eA("on ",e),eP(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${eA("(",eP(r,", "),")")} on ${t} ${eA("",eP(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){let r=e.replace(/\\/g,"\\\\").replace(/"""/g,'\\"""');return(" "===e[0]||"	"===e[0])&&-1===e.indexOf("\n")?`"""${r.replace(/"$/,'"\n')}"""`:`"""
${t?r:eI(r)}
"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+eP(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+eP(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+eA("(",eP(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>eP(["schema",eP(e," "),ew(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>eP(["scalar",e,eP(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eP(["type",e,eA("implements ",eP(t," & ")),eP(r," "),ew(n)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:r,directives:n})=>e+(eO(t)?eA("(\n",eI(eP(t,"\n")),"\n)"):eA("(",eP(t,", "),")"))+": "+r+eA(" ",eP(n," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:r,directives:n})=>eP([e+": "+t,eA("= ",r),eP(n," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eP(["interface",e,eA("implements ",eP(t," & ")),eP(r," "),ew(n)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:r})=>eP(["union",e,eP(t," "),eA("= ",eP(r," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:r})=>eP(["enum",e,eP(t," "),ew(r)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>eP([e,eP(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:r})=>eP(["input",e,eP(t," "),ew(r)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:r,locations:n})=>"directive @"+e+(eO(t)?eA("(\n",eI(eP(t,"\n")),"\n)"):eA("(",eP(t,", "),")"))+(r?" repeatable":"")+" on "+eP(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>eP(["extend schema",eP(e," "),ew(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>eP(["extend scalar",e,eP(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eP(["extend type",e,eA("implements ",eP(t," & ")),eP(r," "),ew(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>eP(["extend interface",e,eA("implements ",eP(t," & ")),eP(r," "),ew(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>eP(["extend union",e,eP(t," "),eA("= ",eP(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>eP(["extend enum",e,eP(t," "),ew(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>eP(["extend input",e,eP(t," "),ew(r)]," ")}},ex=Object.keys(eN).reduce((e,t)=>{var r;return{...e,[t]:{leave:(r=eN[t].leave,(e,t,n,i,o)=>{let s=[],a=i.reduce((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&s.push(e.name.value),e[t]),o[0]),l=[...s,a?.name?.value].filter(Boolean).join("."),u=[];return e.kind.includes("Definition")&&e_[l]&&u.push(...e_[l]),eP([...u.map(eb),e.description,r(e,t,n,i,o)],"\n")})}}},{});function eR(e){let t=0;for(;t<e.length&&(" "===e[t]||"	"===e[t]);)t++;return t}function eD(e){return eR(e)===e.length}function eL(e){return e.as??e.url.name}function eC(e,t){var r,n;if(e.url.name&&t===`@${e.url.name}`){let t;return((t=eL(e))&&`@${t}`).substring(1)}let i=e.imports.find(e=>e.name===t),o=i?.as??i?.name??(r=eL(e),n=t,r?.length?n.startsWith("@")?`@${r}__${n.substring(1)}`:`${r}__${n}`:n);return o.startsWith("@")?o.substring(1):o}let eM=/v(\d{1,3})\.(\d{1,4})/i;function ek(e){let t=new URL(e),r=t.pathname.split("/").filter(Boolean),n=r[r.length-1];if(n){if(eM.test(n)){let e=r[r.length-2];return{identity:t.origin+(e?`/${r.slice(0,r.length-1).join("/")}`:""),name:e??null,version:n}}return{identity:`${t.origin}/${r.join("/")}`,name:n,version:null}}return{identity:t.origin,name:null,version:null}}function eF(e,t){return t.some(({value:t})=>t===e.value)}let ej=(e,t)=>{if(e.kind===t.kind)switch(e.kind){case q.Kind.LIST:return e.values.length===t.values.length&&e.values.every(e=>t.values.find(t=>ej(e,t)));case q.Kind.VARIABLE:case q.Kind.NULL:return!0;case q.Kind.OBJECT:return e.fields.length===t.fields.length&&e.fields.every(e=>t.fields.find(t=>e.name.value===t.name.value&&ej(e.value,t.value)));default:return e.value===t.value}return!1},eU=e=>"link"===e.name.value,eG=e=>{let t=eU(e)?e.arguments?.find(e=>"url"===e.name.value)?.value:void 0;return t?.kind==="StringValue"?t.value:void 0},eq=(e,t)=>!!(e.name.value===t.name.value&&(e.arguments===t.arguments||e.arguments?.length===t.arguments?.length&&e.arguments?.every(e=>t.arguments?.find(t=>e.name.value===t.name.value&&e.value.kind===t.value.kind&&ej(e.value,t.value)))));function eK(e=[],t=[],r,n){let i=r&&r.reverseDirectives,o=[];for(let a of[...i?e:t,...i?t:e]){var s;if(s=r?.repeatableLinkImports,n?.[a.name.value]?.repeatable??s?.has(a.name.value))o.find(e=>eq(a,e))||o.push(a);else{let e=o.findIndex(e=>e.name.value===a.name.value);if(-1===e)o.push(a);else{if(eU(a)&&eU(o[e])){let t=eG(a),r=eG(o[e]);if(t&&r&&t!==r){o.push(a);continue}}let t=function(e,t){let r=[];for(let n of[...t,...e]){let e=r.findIndex(e=>e.name.value===n.name.value);if(-1===e)r.push(n);else{let t=r[e];if("ListValue"===t.value.kind){let e=t.value.values,r=n.value.values;t.value={...t.value,values:eH(e,r,(e,t)=>{let r=e.value;return!r||!t.some(e=>e.value===r)})}}else t.value=n.value}}return r}(a.arguments??[],o[e].arguments??[]);o[e]={...o[e],arguments:0===t.length?void 0:t}}}}return o}function eH(e,t,r){return e.concat(t.filter(t=>r(t,e)))}var eB=e.i(24576);function e$(e){let t=e;for(;t.kind===q.Kind.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t}function eQ(e){return e.kind!==q.Kind.NAMED_TYPE}function ez(e){return e.kind===q.Kind.LIST_TYPE}function eV(e){return e.kind===q.Kind.NON_NULL_TYPE}function eY(e){return ez(e)?`[${eY(e.type)}]`:eV(e)?`${eY(e.type)}!`:e.name.value}function eW(e,t){return null==e&&null==t?l.A_EQUALS_B:null==e?l.A_SMALLER_THAN_B:null==t?l.A_GREATER_THAN_B:e<t?l.A_SMALLER_THAN_B:e>t?l.A_GREATER_THAN_B:l.A_EQUALS_B}function eJ(e,t,r,n,i){let o=[];if(null!=r&&o.push(...r),null!=t)for(let r of t){let[t,s]=function(e,t){let r=e.findIndex(e=>e.name.value===t.name.value);return[r>-1?e[r]:null,r]}(o,r);if(t&&!n?.ignoreFieldConflicts){let a=n?.onFieldTypeConflict&&n.onFieldTypeConflict(t,r,e,n?.throwOnConflict)||function(e,t,r,n=!1){let i=eY(t.type),o=eY(r.type);if(i!==o){let s=e$(t.type),a=e$(r.type);if(s.name.value!==a.name.value)throw Error(`Field "${r.name.value}" already defined with a different type. Declared as "${s.name.value}", but you tried to override with "${a.name.value}"`);if(!function e(t,r,n=!1){return eQ(t)||eQ(r)?eV(r)?e(eV(t)?t.type:t,r.type):eV(t)?e(r,t,n):!!ez(t)&&(ez(r)&&e(t.type,r.type)||eV(r)&&e(t,r.type)):t.toString()===r.toString()}(t.type,r.type,!n))throw Error(`Field '${e.name.value}.${t.name.value}' changed type from '${i}' to '${o}'`)}return eV(r.type)&&!eV(t.type)&&(t.type=r.type),t}(e,t,r,n?.throwOnConflict);a.arguments=function(e,t,r){let n=function(e,t){return e.reduce((e,r)=>{let n=e.findIndex(e=>e.name.value===r.name.value);return -1===n?e.concat([r]):(t?.reverseArguments||(e[n]=r),e)},[])}([...t,...e].filter(k),r);return r&&r.sort&&n.sort(M),n}(r.arguments||[],t.arguments||[],n),a.directives=eK(r.directives,t.directives,n,i),a.description=r.description||t.description,o[s]=a}else o.push(r)}if(n&&n.sort&&o.sort(M),n&&n.exclusions){let t=n.exclusions;return o.filter(r=>!t.includes(`${e.name.value}.${r.name.value}`))}return o}function eX(e=[],t=[],r={}){let n=[...t,...e.filter(e=>!t.find(t=>t.name.value===e.name.value))];return r&&r.sort&&n.sort(M),n}(n=l||(l={}))[n.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",n[n.A_EQUALS_B=0]="A_EQUALS_B",n[n.A_GREATER_THAN_B=1]="A_GREATER_THAN_B";let eZ={query:"Query",mutation:"Mutation",subscription:"Subscription"},e0="SCHEMA_DEF_SYMBOL";function e1(e,t,r={}){var n,i,o,s,a;for(let l of e)if("name"in l){let e=l.name?.value;if(t?.commentDescriptions&&function(e){let t=e.name?.value;if(null!=t)switch(eS(e,t),e.kind){case"EnumTypeDefinition":if(e.values)for(let r of e.values)eS(r,t,r.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields){for(let r of e.fields)if(eS(r,t,r.name.value),"FieldDefinition"===r.kind&&r.arguments)for(let e of r.arguments)eS(e,t,r.name.value,e.name.value)}}}(l),null==e)continue;if(t?.exclusions?.includes(e+".*")||t?.exclusions?.includes(e))delete r[e];else switch(l.kind){case q.Kind.OBJECT_TYPE_DEFINITION:case q.Kind.OBJECT_TYPE_EXTENSION:r[e]=function(e,t,r,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:eJ(e,e.fields,t.fields,r,n),directives:eK(e.directives,t.directives,r,n),interfaces:eX(e.interfaces,t.interfaces,r)}}catch(t){throw Error(`Unable to merge GraphQL type "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:q.Kind.OBJECT_TYPE_DEFINITION}:e}(l,r[e],t,r);break;case q.Kind.ENUM_TYPE_DEFINITION:case q.Kind.ENUM_TYPE_EXTENSION:r[e]=(n=r[e],n?{name:l.name,description:l.description||n.description,kind:t?.convertExtensions||"EnumTypeDefinition"===l.kind||"EnumTypeDefinition"===n.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:l.loc,directives:eK(l.directives,n.directives,t,r),values:function(e,t,r,n){if(r?.consistentEnumMerge){let r=[];e&&r.push(...e),e=t,t=r}let i=new Map;if(e)for(let t of e)i.set(t.name.value,t);if(t)for(let e of t){let t=e.name.value;if(i.has(t)){let r=i.get(t);r.description=e.description||r.description,r.directives=eK(e.directives,r.directives,void 0)}else i.set(t,e)}let o=[...i.values()];return r&&r.sort&&o.sort(M),o}(l.values,n.values,t)}:t?.convertExtensions?{...l,kind:q.Kind.ENUM_TYPE_DEFINITION}:l);break;case q.Kind.UNION_TYPE_DEFINITION:case q.Kind.UNION_TYPE_EXTENSION:r[e]=(i=r[e],i?{name:l.name,description:l.description||i.description,directives:eK(l.directives,i.directives,t,r),kind:t?.convertExtensions||"UnionTypeDefinition"===l.kind||"UnionTypeDefinition"===i.kind?q.Kind.UNION_TYPE_DEFINITION:q.Kind.UNION_TYPE_EXTENSION,loc:l.loc,types:eX(l.types,i.types,t)}:t?.convertExtensions?{...l,kind:q.Kind.UNION_TYPE_DEFINITION}:l);break;case q.Kind.SCALAR_TYPE_DEFINITION:case q.Kind.SCALAR_TYPE_EXTENSION:r[e]=(o=r[e],o?{name:l.name,description:l.description||o.description,kind:t?.convertExtensions||"ScalarTypeDefinition"===l.kind||"ScalarTypeDefinition"===o.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:l.loc,directives:eK(l.directives,o.directives,t,r)}:t?.convertExtensions?{...l,kind:q.Kind.SCALAR_TYPE_DEFINITION}:l);break;case q.Kind.INPUT_OBJECT_TYPE_DEFINITION:case q.Kind.INPUT_OBJECT_TYPE_EXTENSION:r[e]=function(e,t,r,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:eJ(e,e.fields,t.fields,r),directives:eK(e.directives,t.directives,r,n)}}catch(t){throw Error(`Unable to merge GraphQL input type "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:q.Kind.INPUT_OBJECT_TYPE_DEFINITION}:e}(l,r[e],t,r);break;case q.Kind.INTERFACE_TYPE_DEFINITION:case q.Kind.INTERFACE_TYPE_EXTENSION:r[e]=function(e,t,r,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:r?.convertExtensions||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:eJ(e,e.fields,t.fields,r,n),directives:eK(e.directives,t.directives,r,n),interfaces:e.interfaces?eX(e.interfaces,t.interfaces,r):void 0}}catch(t){throw Error(`Unable to merge GraphQL interface "${e.name.value}": ${t.message}`)}return r?.convertExtensions?{...e,kind:q.Kind.INTERFACE_TYPE_DEFINITION}:e}(l,r[e],t,r);break;case q.Kind.DIRECTIVE_DEFINITION:r[e]&&e in{}&&!(null!=(s=r[e])&&"object"==typeof s&&"kind"in s&&"string"==typeof s.kind)&&(r[e]=void 0),r[e]=function(e,t){return t?{...e,arguments:eH(t.arguments||[],e.arguments||[],(e,t)=>!eF(e.name,t.map(e=>e.name))),locations:[...t.locations,...e.locations.filter(e=>!eF(e,t.locations))]}:e}(l,r[e])}}else{(l.kind===q.Kind.SCHEMA_DEFINITION||l.kind===q.Kind.SCHEMA_EXTENSION)&&(r[e0]=(a=r[e0],a?{kind:l.kind===q.Kind.SCHEMA_DEFINITION||a.kind===q.Kind.SCHEMA_DEFINITION?q.Kind.SCHEMA_DEFINITION:q.Kind.SCHEMA_EXTENSION,description:l.description||a.description,directives:eK(l.directives,a.directives,t,void 0),operationTypes:function(e=[],t=[]){let r=[];for(let n in eZ){let i=e.find(e=>e.operation===n)||t.find(e=>e.operation===n);i&&r.push(i)}return r}(l.operationTypes,a.operationTypes)}:t?.convertExtensions?{...l,kind:q.Kind.SCHEMA_DEFINITION}:l))}return r}function e2(e,t){let r;e_={};let n={kind:q.Kind.DOCUMENT,definitions:function(e,t){e_={};let{allDirectives:r,allNodes:n,repeatableLinkImports:i}=function e(t,r,n=[],i=[],o=new Set,s=new Set){let a=e=>{s.add(e)};if(t&&!o.has(t))if(o.add(t),"function"==typeof t)e(t(),r,n,i,o,s);else if(Array.isArray(t))for(let a of t)e(a,r,n,i,o,s);else if((0,D.isSchema)(t))e(function(e,t={}){let r=t.pathToDirectivesInExtensions,n=e.getTypeMap(),i=function(e,t){let r=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),n=[];if(null!=e.astNode&&n.push(e.astNode),null!=e.extensionASTNodes)for(let t of e.extensionASTNodes)n.push(t);for(let e of n)if(e.operationTypes)for(let t of e.operationTypes)r.set(t.operation,t);let i=eh(e);for(let[e,t]of r){let n=i.get(e);if(null!=n){let i=J(n);null!=t?t.type=i:r.set(e,{kind:q.Kind.OPERATION_TYPE_DEFINITION,operation:e,type:i})}}let o=[...r.values()].filter(k),s=ef(e,e,t);if(!o.length&&!s.length)return null;let a={kind:o.length?q.Kind.SCHEMA_DEFINITION:q.Kind.SCHEMA_EXTENSION,operationTypes:o,directives:s},l=er(e);return l&&(a.description=l),a}(e,r),o=null!=i?[i]:[];for(let t of e.getDirectives())(0,H.isSpecifiedDirective)(t)||o.push(function(e,t,r){return{kind:q.Kind.DIRECTIVE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},arguments:e.args?.map(e=>em(e,t,r)),repeatable:e.isRepeatable,locations:e.locations?.map(e=>({kind:q.Kind.NAME,value:e}))||[]}}(t,e,r));for(let t in n){let i=n[t],u=(0,Q.isSpecifiedScalarType)(i),c=(0,$.isIntrospectionType)(i);if(!u&&!c)if((0,B.isObjectType)(i))o.push(function(e,t,r){return{kind:q.Kind.OBJECT_TYPE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>ey(e,t,r)),interfaces:Object.values(e.getInterfaces()).map(e=>J(e)),directives:ef(e,t,r)}}(i,e,r));else if((0,B.isInterfaceType)(i))o.push(function(e,t,r){let n={kind:q.Kind.INTERFACE_TYPE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>ey(e,t,r)),directives:ef(e,t,r)};return"getInterfaces"in e&&(n.interfaces=Object.values(e.getInterfaces()).map(e=>J(e))),n}(i,e,r));else if((0,B.isUnionType)(i)){var s,a,l;o.push((s=i,a=e,l=r,{kind:q.Kind.UNION_TYPE_DEFINITION,description:er(s),name:{kind:q.Kind.NAME,value:s.name},directives:ef(s,a,l),types:s.getTypes().map(e=>J(e))}))}else if((0,B.isInputObjectType)(i))o.push(function(e,t,r){return{kind:q.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},fields:Object.values(e.getFields()).map(e=>{var n,i,o;return n=e,i=t,o=r,{kind:q.Kind.INPUT_VALUE_DEFINITION,description:er(n),name:{kind:q.Kind.NAME,value:n.name},type:J(n.type),directives:ef(n,i,o),defaultValue:ee(n.defaultValue,n.type)??void 0}}),directives:ef(e,t,r)}}(i,e,r));else if((0,B.isEnumType)(i))o.push(function(e,t,r){return{kind:q.Kind.ENUM_TYPE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},values:Object.values(e.getValues()).map(e=>{var n,i,o;return n=e,i=t,o=r,{kind:q.Kind.ENUM_VALUE_DEFINITION,description:er(n),name:{kind:q.Kind.NAME,value:n.name},directives:ef(n,i,o)}}),directives:ef(e,t,r)}}(i,e,r));else if((0,B.isScalarType)(i))o.push(function(e,t,r){let n=eg(t,ed(e,r)),i=e.specifiedByUrl||e.specifiedByURL;return i&&!n.some(e=>"specifiedBy"===e.name.value)&&n.push(ev("specifiedBy",{url:i})),{kind:q.Kind.SCALAR_TYPE_DEFINITION,description:er(e),name:{kind:q.Kind.NAME,value:e.name},directives:n}}(i,e,r));else throw Error(`Unknown type ${i}.`)}return{kind:q.Kind.DOCUMENT,definitions:o}}(t,r).definitions,r,n,i,o,s);else if("string"==typeof t||t instanceof eB.Source)e((0,K.parse)(t,r).definitions,r,n,i,o,s);else if("object"==typeof t&&(0,G.isDefinitionNode)(t)){let e=function(e){let t=[];for(let r of e.definitions)if(r.kind===q.Kind.SCHEMA_EXTENSION||r.kind===q.Kind.SCHEMA_DEFINITION){let e=r.directives?.filter(e=>"link"===e.name.value),n=e?.map(e=>(function(e){let t,r,n=[];for(let o of e)switch(o.name.value){case"url":o.value.kind===q.Kind.STRING&&(t=ek(o.value.value));break;case"import":var i;n=(i=o.value).kind===q.Kind.LIST?i.values.map(e=>{let t;if(e.kind===q.Kind.STRING)t={name:e.value};else if(e.kind===q.Kind.OBJECT){let r,n="";for(let t of e.fields)"name"===t.name.value?t.value.kind===q.Kind.STRING&&(n=t.value.value):"as"===t.name.value&&t.value.kind===q.Kind.STRING&&(r=t.value.value);t={name:n,as:r}}return t}).filter(e=>void 0!==e):[];break;case"as":o.value.kind===q.Kind.STRING&&(r=o.value.value??void 0)}if(void 0!==t)return{url:t,as:r,imports:n}})(e.arguments??[])).filter(e=>void 0!==e)??[];t=t.concat(n);let i=r.directives?.filter(({name:e})=>"core"===e.value),o=i?.map(e=>(function(e){let t=e.find(({name:e,value:t})=>"feature"===e.value&&t.kind===q.Kind.STRING);if(t)return{url:ek(t.value.value),imports:[]}})(e.arguments??[])).filter(e=>void 0!==e);o&&(t=t.concat(...o))}return t}({definitions:[t],kind:q.Kind.DOCUMENT}),r=e.find(e=>"https://specs.apollo.dev/federation"===e.url.identity);r&&(a(eC(r,"@composeDirective")),a(eC(r,"@key")));let o=e.find(e=>"https://specs.apollo.dev/link"===e.url.identity);o&&a(eC(o,"@link")),t.kind===q.Kind.DIRECTIVE_DEFINITION?n.push(t):i.push(t)}else if(t&&"object"==typeof t&&"kind"in t&&t.kind===q.Kind.DOCUMENT)e(t.definitions,r,n,i,o,s);else throw Error(`typeDefs must contain only strings, documents, schemas, or functions, got ${typeof t}`);return{allDirectives:n,allNodes:i,repeatableLinkImports:s}}(e,t),o=e1(r,t);t.repeatableLinkImports=i;let s=e1(n,t,o);if(t?.useSchemaDefinition){let e=s[e0]||{kind:q.Kind.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(let e in eZ)if(!t.find(t=>t.operation===e)){let r=s[eZ[e]];null!=r&&null!=r.name&&t.push({kind:q.Kind.OPERATION_TYPE_DEFINITION,type:{kind:q.Kind.NAMED_TYPE,name:r.name},operation:e})}e?.operationTypes?.length!=null&&e.operationTypes.length>0&&(s[e0]=e)}t?.forceSchemaDefinition&&!s[e0]?.operationTypes?.length&&(s[e0]={kind:q.Kind.SCHEMA_DEFINITION,operationTypes:[{kind:q.Kind.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:q.Kind.NAMED_TYPE,name:{kind:q.Kind.NAME,value:"Query"}}}]});let a=Object.values(s);if(t?.sort){let e="function"==typeof t.sort?t.sort:eW;a.sort((t,r)=>e(t.name?.value,r.name?.value))}return a}(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};if(t?.commentDescriptions)r=(0,eE.visit)(n,ex);else r=n;return e_={},r}function e8(e,t){let r=e.getTypeMap();for(let e in r){let n=r[e];if(!(0,B.getNamedType)(n).name.startsWith("__")){if((0,B.isObjectType)(n)){let e=n.getFields();for(let r in e)for(let n of e[r].args)n.defaultValue=t(n.type,n.defaultValue)}else if((0,B.isInputObjectType)(n)){let e=n.getFields();for(let r in e){let n=e[r];n.defaultValue=t(n.type,n.defaultValue)}}}}}function e3(e,t){let r=e.getTypeMap();for(let e in r){let n=r[e];if(!(0,B.getNamedType)(n).name.startsWith("__")&&(0,B.isObjectType)(n)){let r=n.getFields();for(let n in r)t(r[n],e,n)}}}function e4(e,t){if(t){let r=e[t.name];if((0,B.isObjectType)(r))return r}}function e9(e,t,r=null,n=null){if(null==t)return t;let i=(0,B.getNullableType)(e);if((0,B.isLeafType)(i))return null!=r?r(i,t):t;if((0,B.isListType)(i))return L(t).map(e=>e9(i.ofType,e,r,n));if((0,B.isInputObjectType)(i)){let e=i.getFields(),o={};for(let i in t){let s=e[i];null!=s&&(o[i]=e9(s.type,t[i],r,n))}return null!=n?n(i,o):o}}function e5(e,t){return e9(e,t,(e,t)=>{try{return e.serialize(t)}catch{return t}})}function e6(e,t){return e9(e,t,(e,t)=>{try{return e.parseValue(t)}catch{return t}})}function e7(e,t={}){var r,n;let i,o,s=to(ti(tt(tr((r=tt(tr(e.getTypeMap(),e,e5),e,t,e=>(0,B.isLeafType)(e)),n=e,(o=null!=(i=t[u.ENUM_VALUE])?i:null)?tt(r,n,{[u.ENUM_TYPE]:e=>{let t=e.toConfig(),r=t.values,i={};for(let t in r){let s=r[t],a=o(s,e.name,n,t);if(void 0===a)i[t]=s;else if(Array.isArray(a)){let[e,t]=a;i[e]=void 0===t?s:t}else null!==a&&(i[t]=a)}return ts(new B.GraphQLEnumType({...t,values:i}))}},e=>(0,B.isEnumType)(e)):r),e,e6),e,t,e=>!(0,B.isLeafType)(e)),e,t),e,t),{typeMap:a,directives:l}=function(e,t){let r=Object.create(null);for(let t in e)r[t]=e[t];let n=Object.create(null);for(let e in r){let t=r[e];if(null==t||e.startsWith("__"))continue;let i=t.name;if(!i.startsWith("__")){if(null!=n[i]){console.warn(`Duplicate schema type name ${i} found; keeping the existing one found in the schema`);continue}n[i]=t}}for(let e in n)n[e]=o(n[e]);return{typeMap:n,directives:t.map(e=>(function(e){if((0,H.isSpecifiedDirective)(e))return e;let t=e.toConfig();return t.args=i(t.args),new H.GraphQLDirective(t)})(e))};function i(e){let t={};for(let r in e){let n=e[r],i=l(n.type);null!=i&&(n.type=i,t[r]=n)}return t}function o(e){if((0,B.isObjectType)(e)){let t=e.toConfig(),r={...t,fields:()=>s(t.fields),interfaces:()=>a(t.interfaces)};return new B.GraphQLObjectType(r)}if((0,B.isInterfaceType)(e)){let t=e.toConfig(),r={...t,fields:()=>s(t.fields)};return"interfaces"in r&&(r.interfaces=()=>a(t.interfaces)),new B.GraphQLInterfaceType(r)}if((0,B.isUnionType)(e)){let t=e.toConfig(),r={...t,types:()=>a(t.types)};return new B.GraphQLUnionType(r)}if((0,B.isInputObjectType)(e)){let t=e.toConfig(),r={...t,fields:()=>(function(e){let t={};for(let r in e){let n=e[r],i=l(n.type);null!=i&&(n.type=i,t[r]=n)}return t})(t.fields)};return new B.GraphQLInputObjectType(r)}if((0,B.isEnumType)(e)){let t=e.toConfig();return new B.GraphQLEnumType(t)}else if((0,B.isScalarType)(e)){if((0,Q.isSpecifiedScalarType)(e))return e;let t=e.toConfig();return new B.GraphQLScalarType(t)}throw Error(`Unexpected schema type: ${e}`)}function s(e){let t={};for(let r in e){let n=e[r],o=l(n.type);null!=o&&n.args&&(n.type=o,n.args=i(n.args),t[r]=n)}return t}function a(e){let t=[];for(let r of e){let e=l(r);null!=e&&t.push(e)}return t}function l(e){if((0,B.isListType)(e)){let t=l(e.ofType);return null!=t?new B.GraphQLList(t):null}if((0,B.isNonNullType)(e)){let t=l(e.ofType);return null!=t?new B.GraphQLNonNull(t):null}if((0,B.isNamedType)(e)){let t=r[e.name];return void 0===t&&(n[(t=!function(e){if("getFields"in e){let t=e.getFields();for(let e in t)return"_fake"===t[e].name}return!1}(e)?o(e):function(e){switch(e.name){case Q.GraphQLInt.name:return Q.GraphQLInt;case Q.GraphQLFloat.name:return Q.GraphQLFloat;case Q.GraphQLString.name:return Q.GraphQLString;case Q.GraphQLBoolean.name:return Q.GraphQLBoolean;case Q.GraphQLID.name:return Q.GraphQLID;default:return e}}(e)).name]=r[e.name]=t),null!=t?n[t.name]:null}return null}}(s,function(e,t,r){let n,i=null!=(n=r[u.DIRECTIVE])?n:null;if(null==i)return e.slice();let o=[];for(let r of e){let e=i(r,t);void 0===e?o.push(r):null!==e&&o.push(e)}return o}(e.getDirectives(),e,t));return new D.GraphQLSchema({...e.toConfig(),query:e4(a,e4(s,e.getQueryType())),mutation:e4(a,e4(s,e.getMutationType())),subscription:e4(a,e4(s,e.getSubscriptionType())),types:Object.values(a),directives:l})}(i=u||(u={})).TYPE="MapperKind.TYPE",i.SCALAR_TYPE="MapperKind.SCALAR_TYPE",i.ENUM_TYPE="MapperKind.ENUM_TYPE",i.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",i.OBJECT_TYPE="MapperKind.OBJECT_TYPE",i.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",i.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",i.UNION_TYPE="MapperKind.UNION_TYPE",i.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",i.ROOT_OBJECT="MapperKind.ROOT_OBJECT",i.QUERY="MapperKind.QUERY",i.MUTATION="MapperKind.MUTATION",i.SUBSCRIPTION="MapperKind.SUBSCRIPTION",i.DIRECTIVE="MapperKind.DIRECTIVE",i.FIELD="MapperKind.FIELD",i.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",i.OBJECT_FIELD="MapperKind.OBJECT_FIELD",i.ROOT_FIELD="MapperKind.ROOT_FIELD",i.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",i.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",i.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",i.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",i.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",i.ARGUMENT="MapperKind.ARGUMENT",i.ENUM_VALUE="MapperKind.ENUM_VALUE";let te=["String","ID","Int","Float","Boolean"];function tt(e,t,r,n=()=>!0){let i={};for(let o in e)if(!o.startsWith("__")&&!te.includes(o)){let s=e[o];if(null==s||!n(s)){i[o]=s;continue}let a=function(e,t,r){let n,i,o,s=[...(i=e.getType(r),o=[u.TYPE],(0,B.isObjectType)(i)?(o.push(u.COMPOSITE_TYPE,u.OBJECT_TYPE),r===e.getQueryType()?.name?o.push(u.ROOT_OBJECT,u.QUERY):r===e.getMutationType()?.name?o.push(u.ROOT_OBJECT,u.MUTATION):r===e.getSubscriptionType()?.name&&o.push(u.ROOT_OBJECT,u.SUBSCRIPTION)):(0,B.isInputObjectType)(i)?o.push(u.INPUT_OBJECT_TYPE):(0,B.isInterfaceType)(i)?o.push(u.COMPOSITE_TYPE,u.ABSTRACT_TYPE,u.INTERFACE_TYPE):(0,B.isUnionType)(i)?o.push(u.COMPOSITE_TYPE,u.ABSTRACT_TYPE,u.UNION_TYPE):(0,B.isEnumType)(i)?o.push(u.ENUM_TYPE):(0,B.isScalarType)(i)&&o.push(u.SCALAR_TYPE),o)];for(;!n&&s.length>0;)n=t[s.pop()];return null!=n?n:null}(t,r,o);if(null==a){i[o]=s;continue}let l=a(s,t);if(void 0===l){i[o]=s;continue}i[o]=l}return i}function tr(e,t,r){let n=to(e,t,{[u.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;let n=tn(e,t.type);if(null!=n)return{...t,defaultValue:r(n,t.defaultValue)}}});return ti(n,t,{[u.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;let t=tn(n,e.type);if(null!=t)return{...e,defaultValue:r(t,e.defaultValue)}}})}function tn(e,t){if((0,B.isListType)(t)){let r=tn(e,t.ofType);return null!=r?new B.GraphQLList(r):null}if((0,B.isNonNullType)(t)){let r=tn(e,t.ofType);return null!=r?new B.GraphQLNonNull(r):null}if((0,B.isNamedType)(t)){let r=e[t.name];return null!=r?r:null}return null}function ti(e,t,r){let n={};for(let i in e)if(!i.startsWith("__")){let o=e[i];if(!(0,B.isObjectType)(o)&&!(0,B.isInterfaceType)(o)&&!(0,B.isInputObjectType)(o)){n[i]=o;continue}let s=function(e,t,r){let n,i,o,s=[...(i=e.getType(r),o=[u.FIELD],(0,B.isObjectType)(i)?(o.push(u.COMPOSITE_FIELD,u.OBJECT_FIELD),r===e.getQueryType()?.name?o.push(u.ROOT_FIELD,u.QUERY_ROOT_FIELD):r===e.getMutationType()?.name?o.push(u.ROOT_FIELD,u.MUTATION_ROOT_FIELD):r===e.getSubscriptionType()?.name&&o.push(u.ROOT_FIELD,u.SUBSCRIPTION_ROOT_FIELD)):(0,B.isInterfaceType)(i)?o.push(u.COMPOSITE_FIELD,u.INTERFACE_FIELD):(0,B.isInputObjectType)(i)&&o.push(u.INPUT_OBJECT_FIELD),o)];for(;!n&&s.length>0;)n=t[s.pop()];return n??null}(t,r,i);if(null==s){n[i]=o;continue}let a=o.toConfig(),l=a.fields,c={};for(let e in l){let r=l[e],n=s(r,e,i,t);if(void 0===n)c[e]=r;else if(Array.isArray(n)){let[e,t]=n;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),c[e]=void 0===t?r:t}else null!==n&&(c[e]=n)}(0,B.isObjectType)(o)?n[i]=ts(new B.GraphQLObjectType({...a,fields:c})):(0,B.isInterfaceType)(o)?n[i]=ts(new B.GraphQLInterfaceType({...a,fields:c})):n[i]=ts(new B.GraphQLInputObjectType({...a,fields:c}))}return n}function to(e,t,r){let n={};for(let i in e)if(!i.startsWith("__")){let o=e[i];if(!(0,B.isObjectType)(o)&&!(0,B.isInterfaceType)(o)){n[i]=o;continue}let s=function(e){let t=e[u.ARGUMENT];return null!=t?t:null}(r);if(null==s){n[i]=o;continue}let a=o.toConfig(),l=a.fields,c={};for(let e in l){let r=l[e],n=r.args;if(null==n){c[e]=r;continue}let o=Object.keys(n);if(!o.length){c[e]=r;continue}let a={};for(let r of o){let o=n[r],l=s(o,e,i,t);if(void 0===l)a[r]=o;else if(Array.isArray(l)){let[e,t]=l;a[e]=t}else null!==l&&(a[r]=l)}c[e]={...r,args:a}}(0,B.isObjectType)(o)?n[i]=new B.GraphQLObjectType({...a,fields:c}):(0,B.isInterfaceType)(o)?n[i]=new B.GraphQLInterfaceType({...a,fields:c}):n[i]=new B.GraphQLInputObjectType({...a,fields:c})}return n}function ts(e){if((0,B.isObjectType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:q.Kind.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:q.Kind.OBJECT_TYPE_EXTENSION,fields:void 0}))),new B.GraphQLObjectType(t)}if((0,B.isInterfaceType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:q.Kind.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:q.Kind.INTERFACE_TYPE_EXTENSION,fields:void 0}))),new B.GraphQLInterfaceType(t)}if((0,B.isInputObjectType)(e)){let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.fields){let n=t.fields[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,kind:q.Kind.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,kind:q.Kind.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0}))),new B.GraphQLInputObjectType(t)}{if(!(0,B.isEnumType)(e))return e;let t=e.toConfig();if(null!=t.astNode){let e=[];for(let r in t.values){let n=t.values[r];null!=n.astNode&&e.push(n.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map(e=>({...e,values:void 0}))),new B.GraphQLEnumType(t)}}function ta(e,t){for(let r in t)e[r]=t[r]}function tl(e,t,r,n,i){if(!r.resolve){let r=`Resolver missing for "${n}.${i}".
To disable this validator, use:
  resolverValidationOptions: {
    ${e}: 'ignore'
  }`;if("error"===t)throw Error(r);"warn"===t&&console.warn(r);return}if("function"!=typeof r.resolve)throw Error(`Resolver "${n}.${i}" must be a function`)}let tu=()=>{let e,t,r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r};var tc=e.i(5960),td=e.i(73983),tp=e.i(42788),th=e.i(57978),tf=e.i(58383),tm=e.i(84109);(o=c||(c={})).INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",o.GRAPHQL_PARSE_FAILED="GRAPHQL_PARSE_FAILED",o.GRAPHQL_VALIDATION_FAILED="GRAPHQL_VALIDATION_FAILED",o.PERSISTED_QUERY_NOT_FOUND="PERSISTED_QUERY_NOT_FOUND",o.PERSISTED_QUERY_NOT_SUPPORTED="PERSISTED_QUERY_NOT_SUPPORTED",o.BAD_USER_INPUT="BAD_USER_INPUT",o.OPERATION_RESOLUTION_FAILURE="OPERATION_RESOLUTION_FAILURE",o.BAD_REQUEST="BAD_REQUEST",(s=d||(d={})).INTROSPECTION_DISABLED="INTROSPECTION_DISABLED",s.MAX_RECURSIVE_SELECTIONS_EXCEEDED="MAX_RECURSIVE_SELECTIONS_EXCEEDED";var ty=es;class tv extends Map{__identity=Symbol("HeaderMap");set(e,t){return super.set(e.toLowerCase(),t)}get(e){return super.get(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}}class tg extends ty.GraphQLError{constructor(e,t,r){super(e,{...r,extensions:{...r?.extensions,code:t}}),this.name=this.constructor.name}}class tT extends tg{constructor(e){super(e.message,c.GRAPHQL_PARSE_FAILED,{source:e.source,positions:e.positions,extensions:{http:tM(400),...e.extensions},originalError:e})}}class tE extends tg{constructor(e){super(e.message,c.GRAPHQL_VALIDATION_FAILED,{nodes:e.nodes,extensions:{http:tM(400),...e.extensions},originalError:e.originalError??e})}}let t_=()=>({status:200,headers:new tv([["cache-control","private, no-cache, must-revalidate"]])});class tS extends tg{constructor(){super("PersistedQueryNotFound",c.PERSISTED_QUERY_NOT_FOUND,{extensions:{http:t_()}})}}class tb extends tg{constructor(){super("PersistedQueryNotSupported",c.PERSISTED_QUERY_NOT_SUPPORTED,{extensions:{http:t_()}})}}class tP extends tg{constructor(e){super(e.message,c.BAD_USER_INPUT,{nodes:e.nodes,originalError:e.originalError??e,extensions:e.extensions})}}class tO extends tg{constructor(e){super(e.message,c.OPERATION_RESOLUTION_FAILURE,{nodes:e.nodes,originalError:e.originalError??e,extensions:{http:tM(400),...e.extensions}})}}class tI extends tg{constructor(e,t){super(e,c.BAD_REQUEST,{...t,extensions:{http:tM(400),...t?.extensions}})}}function tw(e,t){let r=e[t];if("string"==typeof r)return r}function tA(e,t){let r=e.getAll(t);switch(r.length){case 0:return;case 1:return r[0];default:throw new tI(`The '${t}' search parameter may only be specified once.`)}}function tN(e,t){let r,n=tA(e,t);if(void 0!==n){try{r=JSON.parse(n)}catch{throw new tI(`The ${t} search parameter contains invalid JSON.`)}if(!tR(r))throw new tI(`The ${t} search parameter should contain a JSON-encoded object.`);return r}}function tx(e,t){let r=e[t];if(tR(r))return r}function tR(e){return!!e&&"object"==typeof e&&!Buffer.isBuffer(e)&&!Array.isArray(e)}async function tD({server:e,httpRequest:t,contextValue:r,schemaDerivedData:n,internals:i,sharedResponseHTTPGraphQLHead:o}){let s;switch(t.method){case"POST":if(!(tR(l=t.body)&&Object.keys(l).length>0))throw new tI("POST body missing, invalid Content-Type, or JSON object has no keys.");var a,l,u=t.body.query;if(u&&"string"!=typeof u)if(u.kind===q.Kind.DOCUMENT)throw new tI("GraphQL queries must be strings. It looks like you're sending the internal graphql-js representation of a parsed query in your request instead of a request in the GraphQL query language. You can convert an AST to a string using the `print` function from `graphql`, or use a client like `apollo-client` which converts the internal representation to a string for you.");else throw new tI("GraphQL queries must be strings.");if("string"==typeof t.body.variables)throw new tI("`variables` in a POST body should be provided as an object, not a recursively JSON-encoded string.");if("string"==typeof t.body.extensions)throw new tI("`extensions` in a POST body should be provided as an object, not a recursively JSON-encoded string.");if("extensions"in t.body&&null!==t.body.extensions&&!tR(t.body.extensions))throw new tI("`extensions` in a POST body must be an object if provided.");if("variables"in t.body&&null!==t.body.variables&&!tR(t.body.variables))throw new tI("`variables` in a POST body must be an object if provided.");if("operationName"in t.body&&null!==t.body.operationName&&"string"!=typeof t.body.operationName)throw new tI("`operationName` in a POST body must be a string if provided.");s={query:tw(t.body,"query"),operationName:tw(t.body,"operationName"),variables:tx(t.body,"variables"),extensions:tx(t.body,"extensions"),http:t};break;case"GET":{let e=new URLSearchParams(t.search);s={query:tA(e,"query"),operationName:tA(e,"operationName"),variables:tN(e,"variables"),extensions:tN(e,"extensions"),http:t};break}default:throw new tI("Apollo Server supports only GET/POST requests.",{extensions:{http:{status:405,headers:new tv([["allow","GET, POST"]])}}})}let c=await rs({server:e,graphQLRequest:s,internals:i,schemaDerivedData:n,sharedResponseHTTPGraphQLHead:o},{contextValue:r});if("single"===c.body.kind){if(!c.http.headers.get("content-type")){let e=ru(t);if(null===e)throw new tI(`An 'accept' header was provided for this request which does not accept ${rl.APPLICATION_JSON} or ${rl.APPLICATION_GRAPHQL_RESPONSE_JSON}`,{extensions:{http:{status:406}}});c.http.headers.set("content-type",e)}return{...c.http,body:{kind:"complete",string:await i.stringifyResult({errors:(a=c.body.singleResult).errors,data:a.data,extensions:a.extensions})}}}let d=t.headers.get("accept"),p=new th.default({headers:{accept:d}}).mediaType([rl.MULTIPART_MIXED_NO_DEFER_SPEC,rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2]);if(!d||p!==rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2&&p!==rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9)throw new tI(`Apollo server received an operation that uses incremental delivery (@defer or @stream), but the client does not accept multipart/mixed HTTP responses. To enable incremental delivery support, add the HTTP header 'Accept: ${rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9}' if your client supports the current incremental format or 'Accept: ${rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2}' if your client supports the legacy incremental format`,{extensions:{http:{status:406}}});return c.http.headers.set("content-type",`multipart/mixed; boundary="-"; ${p.replace("multipart/mixed; ","")}`),{...c.http,body:{kind:"chunked",asyncIterator:tL(c.body.initialResult,c.body.subsequentResults)}}}async function*tL(e,t){for await(let r of(yield`\r
---\r
content-type: application/json; charset=utf-8\r
\r
${JSON.stringify(e)}\r
---${e.hasNext?"":"--"}\r
`,t))yield`content-type: application/json; charset=utf-8\r
\r
${JSON.stringify(r)}\r
---${r.hasNext?"":"--"}\r
`}function tC(e){return JSON.stringify(e)+"\n"}function tM(e){return{status:e,headers:new tv}}function tk(e,t){if(t.status&&(e.status=t.status),t.headers)for(let[r,n]of t.headers)e.headers.set(r,n)}function tF(e,t={}){let r=t.formatError??(e=>e),n=tM();return{httpFromErrors:n,formattedErrors:e.map(e=>{try{return r(i(e),e)}catch(e){if(t.includeStacktraceInErrorResponses)return i(e);return{message:"Internal server error",extensions:{code:c.INTERNAL_SERVER_ERROR}}}})};function i(e){var r;let i=tU(e),o={...i.extensions,code:i.extensions.code??c.INTERNAL_SERVER_ERROR};return(r=o.http)&&"object"==typeof r&&(!("status"in r)||"number"==typeof r.status)&&(!("headers"in r)||r.headers instanceof Map)&&(tk(n,{headers:new tv,...o.http}),delete o.http),t.includeStacktraceInErrorResponses&&(o.stacktrace=i.stack?.split("\n")),{...i.toJSON(),extensions:o}}}function tj(e){return e instanceof Error?e:new es.GraphQLError("Unexpected error value: "+String(e))}function tU(e,t=""){let r=tj(e);return r instanceof es.GraphQLError?r:new es.GraphQLError(t+r.message,{originalError:r})}async function tG({server:e,batchRequest:t,body:r,contextValue:n,schemaDerivedData:i,internals:o}){if(0===r.length)throw new tI("No operations found in request.");let s=tM(),a=await Promise.all(r.map(async r=>{let a={...t,body:r},l=await tD({server:e,httpRequest:a,contextValue:n,schemaDerivedData:i,internals:o,sharedResponseHTTPGraphQLHead:s});if("chunked"===l.body.kind)throw Error("Incremental delivery is not implemented for batch requests");return l.body.string}));return{...s,body:{kind:"complete",string:`[${a.join(",")}]`}}}async function tq(e,t,r,n,i){if(!("POST"===t.method&&Array.isArray(t.body)))return await tD({server:e,httpRequest:t,contextValue:r,schemaDerivedData:n,internals:i,sharedResponseHTTPGraphQLHead:null});if(i.allowBatchedHttpRequests)return await tG({server:e,batchRequest:t,body:t.body,contextValue:r,schemaDerivedData:n,internals:i});throw new tI("Operation batching disabled.")}var tK=e.i(89434),tH=e.i(87003);let tB=["x-apollo-operation-name","apollo-require-preflight"],t$=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var tQ=e.i(47834),tz=e.i(2476),tV=e.i(3626),tY=e.i(91490);let tW=Symbol("apolloServerExecutionDispatcherWillResolveField"),tJ=Symbol("apolloServerUserFieldResolver"),tX=Symbol("apolloServerPluginsEnabled");function tZ(e){return e&&"function"==typeof e.then}function t0(e){return null!=e}async function t1(e,t){let r=(await Promise.all(e.map(e=>t(e)))).filter(t0);return r.reverse(),async(...e)=>{for(let t of r)t(...e)}}async function t2(e,t){for(let r of e){let e=await t(r);if(null!=e)return e}return null}class t8{map;constructor(e){this.map=e}append(e,t){this.map.has(e)?this.map.set(e,this.map.get(e)+", "+t):this.map.set(e,t)}delete(e){this.map.delete(e)}get(e){return this.map.get(e)??null}has(e){return this.map.has(e)}set(e,t){this.map.set(e,t)}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}[Symbol.iterator](){return this.map.entries()}}async function t3(){if(void 0!==t)return;let r=await e.A(32761);t="17.0.0-alpha.9"===r.version&&"experimentalExecuteIncrementally"in r?r.experimentalExecuteIncrementally:null}async function t4({useLegacyIncremental:e,legacyExperimentalExecuteIncrementally:r,...n}){if(await t3(),e){if(r)return r(n);if(t)throw new tI(`Apollo Server received an operation that uses incremental delivery (@defer or @stream) with the legacy incremental format, but the server does not support the legacy incremental delivery format. Add the HTTP header: 'Accept: ${rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9}' to use the current incremental delivery format`,{extensions:{http:{status:406}}})}return t?t(n):(0,tY.execute)(n)}function t9(e){return(0,tm.createHash)("sha256").update(e).digest("hex")}async function t5(e,t,r,n){let i,o=(await Promise.all(r.plugins.map(e=>e.requestDidStart?.(n)))).filter(t0),s=n.request,{query:a,extensions:l}=s;if(n.metrics.persistedQueryHit=!1,n.metrics.persistedQueryRegister=!1,l?.persistedQuery){if(!r.persistedQueries)return await v([new tb]);if(1!==l.persistedQuery.version)return await v([new es.GraphQLError("Unsupported persisted query version",{extensions:{http:tM(400)}})]);if(i=l.persistedQuery.sha256Hash,void 0===a){if(!(a=await r.persistedQueries.cache.get(i)))return await v([new tS]);n.metrics.persistedQueryHit=!0}else{if(i!==t9(a))return await v([new es.GraphQLError("provided sha does not match query",{extensions:{http:tM(400)}})]);n.metrics.persistedQueryRegister=!0}}else{if(!a)return await v([new tI("GraphQL operations must contain a non-empty `query` or a `persistedQuery` extension.")]);i=t9(a)}if(n.queryHash=i,n.source=a,await Promise.all(o.map(e=>e.didResolveSource?.(n))),e.documentStore)try{n.document=await e.documentStore.get(e.documentStoreKeyPrefix+i)}catch(e){t.logger.warn("An error occurred while attempting to read from the documentStore. "+tj(e).message)}if(!n.document){let s=await t1(o,async e=>e.parsingDidStart?.(n));try{n.document=(0,K.parse)(a,r.parseOptions)}catch(t){let e=tj(t);return await s(e),await v([new tT(tU(e))])}if(await s(),!0!==r.dangerouslyDisableValidation){let t=await t1(o,async e=>e.validationDidStart?.(n)),i=(0,tV.validate)(e.schema,n.document,[...tQ.specifiedRules,...r.validationRules]);if(0===i.length&&r.laterValidationRules&&(i=(0,tV.validate)(e.schema,n.document,r.laterValidationRules)),0!==i.length)return await t(i),await v(i.map(e=>new tE(e)));await t()}e.documentStore&&Promise.resolve(e.documentStore.set(e.documentStoreKeyPrefix+i,n.document)).catch(e=>t.logger.warn("Could not store validated document. "+e?.message))}let u=(0,tz.getOperationAST)(n.document,s.operationName);if(n.operation=u||void 0,n.operationName=u?.name?.value||null,s.http?.method==="GET"&&u?.operation&&"query"!==u.operation)return await v([new tI(`GET requests only support query operations, not ${u.operation} operations`,{extensions:{http:{status:405,headers:new tv([["allow","POST"]])}}})]);try{await Promise.all(o.map(e=>e.didResolveOperation?.(n)))}catch(e){return await v([tU(e)])}if(n.metrics.persistedQueryRegister&&r.persistedQueries){let e=r.persistedQueries?.ttl;Promise.resolve(r.persistedQueries.cache.set(i,a,void 0!==e?{ttl:r.persistedQueries?.ttl}:void 0)).catch(t.logger.warn.bind(t.logger))}let c=await t2(o,async e=>await e.responseForOperation?.(n));if(null!==c)n.response.body=c.body,tk(n.response.http,c.http);else{let t=(await Promise.all(o.map(e=>e.executionDidStart?.(n)))).filter(t0);if(t.reverse(),t.some(e=>e.willResolveField)){var d;Object.defineProperty(n.contextValue,tW,{value:(...e)=>{var r;let n;return r=t=>t.willResolveField?.(...e),(n=t.map(e=>r(e)).filter(t0)).reverse(),(...e)=>{for(let t of n)t(...e)}}}),r.fieldResolver&&Object.defineProperty(n.contextValue,tJ,{value:r.fieldResolver}),(d=e.schema)[tX]||(Object.defineProperty(d,tX,{value:!0}),Object.values(d.getTypeMap()).forEach(e=>{!(0,B.getNamedType)(e).name.startsWith("__")&&e instanceof B.GraphQLObjectType&&Object.values(e.getFields()).forEach(e=>{var t;let r;r=(t=e).resolve,t.resolve=(e,t,n,i)=>{let o=n?.[tW],s=n?.[tJ],a="function"==typeof o&&o({source:e,args:t,contextValue:n,info:i}),l=r||s||tY.defaultFieldResolver;try{let r=l(e,t,n,i);return"function"==typeof a&&function e(t,r){tZ(t)?t.then(t=>e(t,r),e=>r(e)):Array.isArray(t)&&t.some(tZ)?Promise.all(t).then(e=>r(null,e),e=>r(e)):r(null,t)}(r,a),r}catch(e){throw"function"==typeof a&&a(e),e}}})}))}try{let e=await p({...n,useLegacyIncremental:new th.default({headers:{accept:s.http?.headers.get("accept")}}).mediaType([rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2])===rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2}),t="singleResult"in e?e.singleResult:e.initialResult;if(!n.operation){if(!t.errors?.length)throw Error("Unexpected error: Apollo Server did not resolve an operation but execute did not return errors");throw new tO(t.errors[0])}let i=t.errors?.map(e=>e.nodes?.length===1&&e.nodes[0].kind===q.Kind.VARIABLE_DEFINITION&&(e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" has invalid value`)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" got invalid value `)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" of required type `)||e.message.startsWith(`Variable "$${e.nodes[0].variable.name.value}" of non-null type `))&&e.extensions?.code==null?new tP(e):e);i&&await y(i);let{formattedErrors:o,httpFromErrors:a}=i?g(i):{formattedErrors:void 0,httpFromErrors:tM()};r.status400ForVariableCoercionErrors&&i?.length&&void 0===t.data&&!a.status&&(a.status=400),tk(n.response.http,a),"singleResult"in e?n.response.body={kind:"single",singleResult:{...t,errors:o}}:n.response.body={kind:"incremental",initialResult:{...e.initialResult,errors:o},subsequentResults:e.subsequentResults}}catch(r){let e=tj(r);return await Promise.all(t.map(t=>t.executionDidEnd?.(e))),await v([tU(e)])}await Promise.all(t.map(e=>e.executionDidEnd?.()))}if(await m(),!n.response.body)throw Error("got to end of processGraphQLRequest without setting body?");return n.response;async function p({useLegacyIncremental:n,...i}){let{request:o,document:s}=i;if(r.__testing_incrementalExecutionResults)return r.__testing_incrementalExecutionResults;if(r.gatewayExecutor)return{singleResult:await r.gatewayExecutor(function(e,t,r){let n={};if("query"in e.request&&(n.query=e.request.query),"operationName"in e.request&&(n.operationName=e.request.operationName),"variables"in e.request&&(n.variables=e.request.variables),"extensions"in e.request&&(n.extensions=e.request.extensions),e.request.http){let t=e.request.http,r=""!==t.search&&!t.search.startsWith("?");n.http={method:t.method,url:`https://unknown-url.invalid/${r?"?":""}${t.search}`,headers:new t8(t.headers)}}return{request:n,response:{http:{headers:new t8(e.response.http.headers),get status(){return e.response.http.status},set status(newStatus){e.response.http.status=newStatus}}},logger:t.logger,schema:e.schema,schemaHash:"schemaHash no longer exists since Apollo Server 4",context:e.contextValue,cache:t.cache,queryHash:e.queryHash,document:e.document,source:e.source,operationName:e.operationName,operation:e.operation,errors:e.errors,metrics:e.metrics,debug:r.includeStacktraceInErrorResponses,overallCachePolicy:e.overallCachePolicy,requestIsBatched:e.requestIsBatched}}(i,t,r))};{let t=await t4({schema:e.schema,document:s,rootValue:"function"==typeof r.rootValue?r.rootValue(s):r.rootValue,contextValue:i.contextValue,variableValues:o.variables,operationName:o.operationName,fieldResolver:r.fieldResolver,useLegacyIncremental:n,legacyExperimentalExecuteIncrementally:r.legacyExperimentalExecuteIncrementally});return"initialResult"in t?{initialResult:t.initialResult,subsequentResults:"pending"in t.initialResult?f(t.subsequentResults):h(t.subsequentResults)}:{singleResult:t}}}async function*h(e){for await(let t of e){let e=t.incremental?{...t,incremental:await t6(t.incremental,async e=>{let{errors:t}=e;return t?(await Promise.all(o.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:g(t).formattedErrors}):e})}:t;await Promise.all(o.map(t=>t.willSendSubsequentPayload?.(n,e))),yield e}}async function*f(e){for await(let t of e){let e=t.incremental?{...t,incremental:await t6(t.incremental,async e=>{let{errors:t}=e;return t?(await Promise.all(o.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:g(t).formattedErrors}):e})}:t;t.completed&&(e.completed=await t6(t.completed,async e=>{let{errors:t}=e;return t?(await Promise.all(o.map(e=>e.didEncounterSubsequentErrors?.(n,t))),{...e,errors:g(t).formattedErrors}):e})),await Promise.all(o.map(t=>t.willSendSubsequentPayload?.(n,e))),yield e}}async function m(){await Promise.all(o.map(e=>e.willSendResponse?.(n)))}async function y(e){return n.errors=e,await Promise.all(o.map(e=>e.didEncounterErrors?.(n)))}async function v(e){await y(e);let{formattedErrors:t,httpFromErrors:r}=g(e);return n.response.body={kind:"single",singleResult:{errors:t}},tk(n.response.http,r),n.response.http.status||(n.response.http.status=500),await m(),n.response}function g(e){return tF(e,{formatError:r.formatError,includeStacktraceInErrorResponses:r.includeStacktraceInErrorResponses})}}async function t6(e,t){let r=[];for(let n of e){let e=await t(n);r.push(e)}return r}var t7=e.i(48536),re=e.i(82564);class rt{logger;schemaDerivedDataProvider;onSchemaLoadOrUpdateListeners=new Set;isStopped=!1;schemaDerivedData;schemaContext;modeSpecificState;constructor(e){this.logger=e.logger,this.schemaDerivedDataProvider=e.schemaDerivedDataProvider,"gateway"in e?this.modeSpecificState={mode:"gateway",gateway:e.gateway,apolloConfig:e.apolloConfig}:this.modeSpecificState={mode:"schema",apiSchema:e.apiSchema,schemaDerivedData:e.schemaDerivedDataProvider(e.apiSchema)}}async start(){if("gateway"!==this.modeSpecificState.mode)return this.processSchemaLoadOrUpdateEvent({apiSchema:this.modeSpecificState.apiSchema},this.modeSpecificState.schemaDerivedData),null;{let e=this.modeSpecificState.gateway;if(e.onSchemaLoadOrUpdate)this.modeSpecificState.unsubscribeFromGateway=e.onSchemaLoadOrUpdate(e=>{this.processSchemaLoadOrUpdateEvent(e)});else throw Error("Unexpectedly couldn't find onSchemaLoadOrUpdate on gateway");return(await this.modeSpecificState.gateway.load({apollo:this.modeSpecificState.apolloConfig})).executor}}onSchemaLoadOrUpdate(e){if(!this.schemaContext)throw Error("You must call start() before onSchemaLoadOrUpdate()");if(!this.isStopped)try{e(this.schemaContext)}catch(e){throw Error(`An error was thrown from an 'onSchemaLoadOrUpdate' listener: ${e.message}`)}return this.onSchemaLoadOrUpdateListeners.add(e),()=>{this.onSchemaLoadOrUpdateListeners.delete(e)}}getSchemaDerivedData(){if(!this.schemaDerivedData)throw Error("You must call start() before getSchemaDerivedData()");return this.schemaDerivedData}async stop(){this.isStopped=!0,"gateway"===this.modeSpecificState.mode&&(this.modeSpecificState.unsubscribeFromGateway?.(),await this.modeSpecificState.gateway.stop?.())}processSchemaLoadOrUpdateEvent(e,t){this.isStopped||(this.schemaDerivedData=t??this.schemaDerivedDataProvider(e.apiSchema),this.schemaContext=e,this.onSchemaLoadOrUpdateListeners.forEach(t=>{try{t(e)}catch(e){this.logger.error("An error was thrown from an 'onSchemaLoadOrUpdate' listener"),this.logger.error(e)}}))}}let rr=e=>({Field(t){("__schema"===t.name.value||"__type"===t.name.value)&&e.reportError(new es.GraphQLError("GraphQL introspection is not allowed by Apollo Server, but the query contained __schema or __type. To enable introspection, pass introspection: true to ApolloServer in production",{nodes:[t],extensions:{validationErrorCode:d.INTROSPECTION_DISABLED}}))}});class rn{selectionCountLimit;context;fragmentInfo=new Map;operationInfo=new Map;currentFragment;currentOperation;fragmentRecursiveSelectionCount=new Map;constructor(e,t){this.selectionCountLimit=e,this.context=t}getExecutionDefinitionInfo(){if(void 0!==this.currentFragment){let e=this.fragmentInfo.get(this.currentFragment);return e||(e={selectionCount:0,fragmentSpreads:new Map},this.fragmentInfo.set(this.currentFragment,e)),e}if(void 0!==this.currentOperation){let e=this.operationInfo.get(this.currentOperation);return e||(e={selectionCount:0,fragmentSpreads:new Map},this.operationInfo.set(this.currentOperation,e)),e}}processSelection(e){let t=this.getExecutionDefinitionInfo();if(t&&(t.selectionCount++,void 0!==e)){let r=(t.fragmentSpreads.get(e)??0)+1;t.fragmentSpreads.set(e,r)}}enterFragment(e){this.currentFragment=e}leaveFragment(){this.currentFragment=void 0}enterOperation(e){this.currentOperation=e}leaveOperation(){this.currentOperation=void 0}computeFragmentRecursiveSelectionsCount(e){let t=this.fragmentRecursiveSelectionCount.get(e);if(null===t)return 0;if(void 0!==t)return t;this.fragmentRecursiveSelectionCount.set(e,null);let r=this.fragmentInfo.get(e),n=0;if(r)for(let[e,t]of(n=r.selectionCount,r.fragmentSpreads))n+=t*this.computeFragmentRecursiveSelectionsCount(e);return this.fragmentRecursiveSelectionCount.set(e,n),n}reportError(e){let t=e?`Operation "${e}"`:"Anonymous operation";this.context.reportError(new es.GraphQLError(`${t} recursively requests too many selections.`,{nodes:[],extensions:{validationErrorCode:d.MAX_RECURSIVE_SELECTIONS_EXCEEDED}}))}checkLimitExceeded(){for(let[e,t]of this.operationInfo){let r=t.selectionCount;for(let[e,n]of t.fragmentSpreads)r+=n*this.computeFragmentRecursiveSelectionsCount(e);r>this.selectionCountLimit&&this.reportError(e)}}}function ri(e){return t=>{let r=new rn(e,t);return{Field(){r.processSelection()},InlineFragment(){r.processSelection()},FragmentSpread(e){r.processSelection(e.name.value)},FragmentDefinition:{enter(e){r.enterFragment(e.name.value)},leave(){r.leaveFragment()}},OperationDefinition:{enter(e){r.enterOperation(e.name?.value??null)},leave(){r.leaveOperation()}},Document:{leave(){r.checkLimitExceeded()}}}}}class ro{internals;cache;logger;constructor(e){let t;const r=e.nodeEnv??"production"??"";this.logger=e.logger??function(){let e=tp.default.getLogger("apollo-server");return e.setLevel(tp.default.levels.INFO),e}();const n=function(e,t){let r={},{APOLLO_KEY:n,APOLLO_GRAPH_REF:i,APOLLO_GRAPH_ID:o,APOLLO_GRAPH_VARIANT:s}=process.env;e?.key?r.key=e.key.trim():n&&(r.key=n.trim()),(e?.key??n)!==r.key&&t.warn("The provided API key has unexpected leading or trailing whitespace. Apollo Server will trim the key value before use."),r.key&&function(e){let t=/[^\t\x20-\x7e\x80-\xff]/g;if(t.test(e)){let r=e.match(t);throw Error(`The API key provided to Apollo Server contains characters which are invalid as HTTP header values. The following characters found in the key are invalid: ${r.join(", ")}. Valid header values may only contain ASCII visible characters. If you think there is an issue with your key, please contact Apollo support.`)}}(r.key),r.key&&(r.keyHash=(0,tm.createHash)("sha512").update(r.key).digest("hex")),e?.graphRef?r.graphRef=e.graphRef:i&&(r.graphRef=i);let a=e?.graphId??o,l=e?.graphVariant??s;if(r.graphRef){if(a)throw Error("Cannot specify both graph ref and graph ID. Please use `apollo.graphRef` or `APOLLO_GRAPH_REF` without also setting the graph ID.");if(l)throw Error("Cannot specify both graph ref and graph variant. Please use `apollo.graphRef` or `APOLLO_GRAPH_REF` without also setting the graph variant.")}else a&&(r.graphRef=l?`${a}@${l}`:a);return r}(e.apollo,this.logger);if(e.cache&&"bounded"!==e.cache&&x.PrefixingKeyValueCache.prefixesAreUnnecessaryForIsolation(e.cache))throw Error("You cannot pass a cache returned from `PrefixingKeyValueCache.cacheDangerouslyDoesNotNeedPrefixesForIsolation`to `new ApolloServer({ cache })`, because Apollo Server may use it for multiple features whose cache keys must be distinct from each other.");const i=e.gateway?{phase:"initialized",schemaManager:new rt({gateway:e.gateway,apolloConfig:n,schemaDerivedDataProvider:t=>ro.generateSchemaDerivedData(t,e.documentStore),logger:this.logger})}:{phase:"initialized",schemaManager:new rt({apiSchema:ro.constructSchema(e),schemaDerivedDataProvider:t=>ro.generateSchemaDerivedData(t,e.documentStore),logger:this.logger})},o=e.introspection??"production"!==r,s=e.hideSchemaDetailsFromClientErrors??!1;this.cache=void 0===e.cache||"bounded"===e.cache?new x.InMemoryLRUCache:e.cache;const a=!0===e.maxRecursiveSelections?[ri(1e7)]:"number"==typeof e.maxRecursiveSelections?[ri(e.maxRecursiveSelections)]:[],l=[...o?[]:[rr],...a];a.length>0?t=e.validationRules:l.push(...e.validationRules??[]),this.internals={formatError:e.formatError,rootValue:e.rootValue,validationRules:l,laterValidationRules:t,hideSchemaDetailsFromClientErrors:s,dangerouslyDisableValidation:e.dangerouslyDisableValidation??!1,fieldResolver:e.fieldResolver,includeStacktraceInErrorResponses:e.includeStacktraceInErrorResponses??("production"!==r&&"test"!==r),persistedQueries:!1===e.persistedQueries?void 0:{...e.persistedQueries,cache:new x.PrefixingKeyValueCache(e.persistedQueries?.cache??this.cache,"apq:")},nodeEnv:r,allowBatchedHttpRequests:e.allowBatchedHttpRequests??!1,apolloConfig:n,plugins:e.plugins??[],parseOptions:e.parseOptions??{},state:i,stopOnTerminationSignals:e.stopOnTerminationSignals,gatewayExecutor:null,csrfPreventionRequestHeaders:!0===e.csrfPrevention||void 0===e.csrfPrevention?tB:!1===e.csrfPrevention?null:e.csrfPrevention.requestHeaders??tB,status400ForVariableCoercionErrors:e.status400ForVariableCoercionErrors??!0,__testing_incrementalExecutionResults:e.__testing_incrementalExecutionResults,stringifyResult:e.stringifyResult??tC,legacyExperimentalExecuteIncrementally:e.legacyExperimentalExecuteIncrementally},this.warnAgainstDeprecatedConfigOptions(e)}warnAgainstDeprecatedConfigOptions(e){"status400ForVariableCoercionErrors"in e&&(!0===e.status400ForVariableCoercionErrors?this.logger.warn("The `status400ForVariableCoercionErrors: true` configuration option is now the default behavior and has no effect in Apollo Server v5. You can safely remove this option from your configuration."):this.logger.warn("The `status400ForVariableCoercionErrors: false` configuration option is deprecated and will be removed in Apollo Server v6. Apollo recommends removing any dependency on this behavior."))}async start(){return await this._start(!1)}startInBackgroundHandlingStartupErrorsByLoggingAndFailingAllRequests(){this._start(!0).catch(e=>this.logStartupError(e))}async _start(e){if("initialized"!==this.internals.state.phase)throw Error("You should only call 'start()' or 'startInBackgroundHandlingStartupErrorsByLoggingAndFailingAllRequests()' once on your ApolloServer.");let t=this.internals.state.schemaManager,r=tu();this.internals.state={phase:"starting",barrier:r,schemaManager:t,startedInBackground:e};try{await this.addDefaultPlugins();let r=[],n=await t.start();n&&(this.internals.gatewayExecutor=n),r.push(async()=>{await t.stop()});let i=t.getSchemaDerivedData(),o={logger:this.logger,cache:this.cache,schema:i.schema,apollo:this.internals.apolloConfig,startedInBackground:e},s=(await Promise.all(this.internals.plugins.map(async e=>({serverListener:e.serverWillStart&&await e.serverWillStart(o),installedImplicitly:ra(e)&&e.__internal_installed_implicitly__})))).filter(e=>"object"==typeof e.serverListener);s.forEach(({serverListener:{schemaDidLoadOrUpdate:e}})=>{e&&t.onSchemaLoadOrUpdate(e)});let a=s.map(e=>e.serverListener.serverWillStop).filter(t0);a.length&&r.push(async()=>{await Promise.all(a.map(e=>e()))});let l=s.map(e=>e.serverListener.drainServer).filter(t0),u=l.length?async()=>{await Promise.all(l.map(e=>e()))}:null,c=s.filter(e=>e.serverListener.renderLandingPage);c.length>1&&(c=c.filter(e=>!e.installedImplicitly));let d=null;if(c.length>1)throw Error("Only one plugin can implement renderLandingPage.");c.length&&(d=await c[0].serverListener.renderLandingPage());let p=this.maybeRegisterTerminationSignalHandlers(["SIGINT","SIGTERM"],e);this.internals.state={phase:"started",schemaManager:t,drainServers:u,landingPage:d,toDispose:r,toDisposeLast:p}}catch(t){let e=tj(t);try{await Promise.all(this.internals.plugins.map(async t=>t.startupDidFail?.({error:e})))}catch(e){this.logger.error(`startupDidFail hook threw: ${e}`)}throw this.internals.state={phase:"failed to start",error:e},e}finally{r.resolve()}}maybeRegisterTerminationSignalHandlers(e,t){let r=[];if(!1===this.internals.stopOnTerminationSignals||void 0===this.internals.stopOnTerminationSignals&&!(N.isNodeLike&&"test"!==this.internals.nodeEnv&&!t))return r;let n=!1,i=async e=>{if(!n){n=!0;try{await this.stop()}catch(t){this.logger.error(`stop() threw during ${e} shutdown`),this.logger.error(t),process.exit(1)}process.kill(process.pid,e)}};return e.forEach(e=>{process.on(e,i),r.push(async()=>{process.removeListener(e,i)})}),r}async _ensureStarted(){for(;;)switch(this.internals.state.phase){case"initialized":throw Error("You need to call `server.start()` before using your Apollo Server.");case"starting":await this.internals.state.barrier;break;case"failed to start":throw this.logStartupError(this.internals.state.error),Error("This data graph is missing a valid configuration. More details may be available in the server logs.");case"started":case"draining":return this.internals.state;case"stopping":case"stopped":throw this.logger.warn("A GraphQL operation was received during server shutdown. The operation will fail. Consider draining the HTTP server on shutdown; see https://go.apollo.dev/s/drain for details."),Error(`Cannot execute GraphQL operations ${"stopping"===this.internals.state.phase?"while the server is stopping":"after the server has stopped"}.'`);default:throw new t7.UnreachableCaseError(this.internals.state)}}assertStarted(e){if("started"!==this.internals.state.phase&&"draining"!==this.internals.state.phase&&!("starting"===this.internals.state.phase&&this.internals.state.startedInBackground))throw Error("You must `await server.start()` before calling `"+e+"`")}logStartupError(e){this.logger.error("An error occurred during Apollo Server startup. All GraphQL requests will now fail. The startup error was: "+(e?.message||e))}static constructSchema(e){if(e.schema)return e.schema;let{typeDefs:t,resolvers:r}=e;return function({typeDefs:e,resolvers:t={},resolverValidationOptions:r={},inheritResolversFromInterfaces:n=!1,updateResolversInPlace:i=!1,schemaExtensions:o,defaultFieldResolver:s,...a}){let l;if("object"!=typeof r)throw Error("Expected `resolverValidationOptions` to be an object");if(!e)throw Error("Must provide typeDefs");if((0,D.isSchema)(e))l=e;else if(a?.commentDescriptions){let t=e2(e,{...a,commentDescriptions:!0});l=(0,R.buildSchema)(t,a)}else{let t=e2(e,a);l=(0,R.buildASTSchema)(t,a)}if(l=function({schema:e,resolvers:t,defaultFieldResolver:r,resolverValidationOptions:n={},inheritResolversFromInterfaces:i=!1,updateResolversInPlace:o=!1}){var s,a,l;let{requireResolversToMatchSchema:c="error",requireResolversForResolveType:d}=n,p=i?function(e,t){let r={},n=e.getTypeMap();for(let e in n){let i=n[e];if("getInterfaces"in i){for(let n of(r[e]={},i.getInterfaces()))if(t[n.name])for(let i in t[n.name])"__isTypeOf"!==i&&i.startsWith("__")||(r[e][i]=t[n.name][i]);let n=t[e];r[e]={...r[e],...n}}else{let n=t[e];null!=n&&(r[e]=n)}}return r}(e,t):t;for(let t in p){let r=p[t];if("object"!=typeof r)throw Error(`"${t}" defined in resolvers, but has invalid value "${r}". The resolver's value must be of type object.`);let n=e.getType(t);if(null==n){let e=`"${t}" defined in resolvers, but not in schema`;if(c&&"error"!==c){"warn"===c&&console.warn(e);continue}throw Error(e)}if((0,Q.isSpecifiedScalarType)(n))for(let e in r)e.startsWith("__")?n[e.substring(2)]=r[e]:n[e]=r[e];else if((0,B.isEnumType)(n)){let e=n.getValues();for(let t in r)if(!t.startsWith("__")&&!e.some(e=>e.name===t)&&c&&"ignore"!==c){let e=`${n.name}.${t} was defined in resolvers, but not present within ${n.name}`;if("error"===c)throw Error(e);console.warn(e)}}else if((0,B.isUnionType)(n)){for(let e in r)if(!e.startsWith("__")&&c&&"ignore"!==c){let t=`${n.name}.${e} was defined in resolvers, but ${n.name} is not an object or interface type`;if("error"===c)throw Error(t);console.warn(t)}}else if((0,B.isObjectType)(n)||(0,B.isInterfaceType)(n)){for(let e in r)if(!e.startsWith("__"))if(null==n.getFields()[e]){if(c&&"ignore"!==c){let r=`${t}.${e} defined in resolvers, but not in schema`;if("error"===c)throw Error(r);console.error(r)}}else{let n=r[e];if("function"!=typeof n&&"object"!=typeof n)throw Error(`Resolver ${t}.${e} must be object or function`)}}}return e=o?function(e,t,r){let n=e.getTypeMap();for(let r in t){let i=e.getType(r),o=t[r];if((0,B.isScalarType)(i))for(let e in o)e.startsWith("__")?i[e.substring(2)]=o[e]:"astNode"===e&&null!=i.astNode?i.astNode={...i.astNode,description:o?.astNode?.description??i.astNode.description,directives:(i.astNode.directives??[]).concat(o?.astNode?.directives??[])}:"extensionASTNodes"===e&&null!=i.extensionASTNodes?i.extensionASTNodes=i.extensionASTNodes.concat(o?.extensionASTNodes??[]):"extensions"===e&&null!=i.extensions&&null!=o.extensions?i.extensions=Object.assign(Object.create(null),i.extensions,o.extensions):i[e]=o[e];else if((0,B.isEnumType)(i)){let e=i.toConfig(),t=e.values;for(let r in o)r.startsWith("__")?e[r.substring(2)]=o[r]:"astNode"===r&&null!=e.astNode?e.astNode={...e.astNode,description:o?.astNode?.description??e.astNode.description,directives:(e.astNode.directives??[]).concat(o?.astNode?.directives??[])}:"extensionASTNodes"===r&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(o?.extensionASTNodes??[]):"extensions"===r&&null!=i.extensions&&null!=o.extensions?i.extensions=Object.assign(Object.create(null),i.extensions,o.extensions):t[r]&&(t[r].value=o[r]);n[r]=new B.GraphQLEnumType(e)}else if((0,B.isUnionType)(i))for(let e in o)e.startsWith("__")&&(i[e.substring(2)]=o[e]);else if((0,B.isObjectType)(i)||(0,B.isInterfaceType)(i))for(let e in o){if(e.startsWith("__")){i[e.substring(2)]=o[e];continue}let t=i.getFields()[e];if(null!=t){let r=o[e];"function"==typeof r?t.resolve=r.bind(o):ta(t,r)}}}return e8(e,e5),function(e,t){let r=Object.create(null);for(let t in e){let n=e[t];if(null==n||t.startsWith("__"))continue;let i=n.name;if(!i.startsWith("__")){if(null!=r[i]){console.warn(`Duplicate schema type name ${i} found; keeping the existing one found in the schema`);continue}r[i]=n}}for(let t in r){let n=r[t];e[t]=n}for(let e of t)e.args=e.args.filter(e=>(e.type=o(e.type),null!==e.type));for(let t in e){let s=e[t];!t.startsWith("__")&&t in r&&null!=s&&function(e){if((0,B.isObjectType)(e)){n(e),i(e);return}if((0,B.isInterfaceType)(e)){n(e),"getInterfaces"in e&&i(e);return}if((0,B.isUnionType)(e))return function(e){let t=e.getTypes();t.push(...t.splice(0).map(e=>o(e)).filter(Boolean))}(e);if((0,B.isInputObjectType)(e))return function(e){let t=e.getFields();for(let[e,r]of Object.entries(t))r.type=o(r.type),null===r.type&&delete t[e]}(e);if(!(0,B.isLeafType)(e))throw Error(`Unexpected schema type: ${e}`)}(s)}for(let t in e)t.startsWith("__")||t in r||delete e[t];function n(e){let t=e.getFields();for(let[e,r]of Object.entries(t))r.args.map(e=>(e.type=o(e.type),null===e.type?null:e)).filter(Boolean),r.type=o(r.type),null===r.type&&delete t[e]}function i(e){if("getInterfaces"in e){let t=e.getInterfaces();t.push(...t.splice(0).map(e=>o(e)).filter(Boolean))}}function o(t){if((0,B.isListType)(t)){let e=o(t.ofType);return null!=e?new B.GraphQLList(e):null}if((0,B.isNonNullType)(t)){let e=o(t.ofType);return null!=e?new B.GraphQLNonNull(e):null}if((0,B.isNamedType)(t)){let r=e[t.name];if(r&&t!==r)return r}return t}}(e.getTypeMap(),e.getDirectives()),e8(e,e6),null!=r&&e3(e,e=>{e.resolve||(e.resolve=r)}),e}(e,p,r):(s=e,a=p,l=r,s=e7(s,{[u.SCALAR_TYPE]:e=>{let t=e.toConfig(),r=a[e.name];if(!(0,Q.isSpecifiedScalarType)(e)&&null!=r){for(let n in r)n.startsWith("__")?t[n.substring(2)]=r[n]:"astNode"===n&&null!=t.astNode?t.astNode={...t.astNode,description:r?.astNode?.description??t.astNode.description,directives:(t.astNode.directives??[]).concat(r?.astNode?.directives??[])}:"extensionASTNodes"===n&&null!=t.extensionASTNodes?t.extensionASTNodes=t.extensionASTNodes.concat(r?.extensionASTNodes??[]):"extensions"===n&&null!=t.extensions&&null!=r.extensions?t.extensions=Object.assign(Object.create(null),e.extensions,r.extensions):t[n]=r[n];return new B.GraphQLScalarType(t)}},[u.ENUM_TYPE]:e=>{let t=a[e.name],r=e.toConfig(),n=r.values;if(null!=t){for(let i in t)i.startsWith("__")?r[i.substring(2)]=t[i]:"astNode"===i&&null!=r.astNode?r.astNode={...r.astNode,description:t?.astNode?.description??r.astNode.description,directives:(r.astNode.directives??[]).concat(t?.astNode?.directives??[])}:"extensionASTNodes"===i&&null!=r.extensionASTNodes?r.extensionASTNodes=r.extensionASTNodes.concat(t?.extensionASTNodes??[]):"extensions"===i&&null!=r.extensions&&null!=t.extensions?r.extensions=Object.assign(Object.create(null),e.extensions,t.extensions):n[i]&&(n[i].value=t[i]);return new B.GraphQLEnumType(r)}},[u.UNION_TYPE]:e=>{let t=a[e.name];if(null!=t){let r=e.toConfig();return t.__resolveType&&(r.resolveType=t.__resolveType),new B.GraphQLUnionType(r)}},[u.OBJECT_TYPE]:e=>{let t=a[e.name];if(null!=t){let r=e.toConfig();return t.__isTypeOf&&(r.isTypeOf=t.__isTypeOf),new B.GraphQLObjectType(r)}},[u.INTERFACE_TYPE]:e=>{let t=a[e.name];if(null!=t){let r=e.toConfig();return t.__resolveType&&(r.resolveType=t.__resolveType),new B.GraphQLInterfaceType(r)}},[u.COMPOSITE_FIELD]:(e,t,r)=>{let n=a[r];if(null!=n){let r=n[t];if(null!=r){let t={...e};return"function"==typeof r?t.resolve=r.bind(n):ta(t,r),t}}}}),null!=l&&(s=e7(s,{[u.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:l})})),s),d&&"ignore"!==d&&e7(e,{[u.ABSTRACT_TYPE]:e=>{if(!e.resolveType){let t=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===d)throw Error(t);"warn"===d&&console.warn(t)}}}),e}({schema:l,resolvers:function e(t,r){if(!t||Array.isArray(t)&&0===t.length)return{};if(!Array.isArray(t))return t;if(1===t.length)return t[0]||{};let n=[];for(let r of t)Array.isArray(r)&&(r=e(r)),"object"==typeof r&&r&&n.push(r);let i=F(n,!0);if(r?.exclusions)for(let e of r.exclusions){let[t,r]=e.split(".");!(["__proto__","constructor","prototype"].includes(t)||["__proto__","constructor","prototype"].includes(r))&&(r&&"*"!==r?i[t]&&delete i[t][r]:delete i[t])}return i}(t),resolverValidationOptions:r,inheritResolversFromInterfaces:n,updateResolversInPlace:i,defaultFieldResolver:s}),Object.keys(r).length>0&&function(e,t={}){let{requireResolversForArgs:r,requireResolversForNonScalar:n,requireResolversForAllFields:i}=t;if(i&&(r||n))throw TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");e3(e,(e,t,o)=>{i&&tl("requireResolversForAllFields",i,e,t,o),r&&e.args.length>0&&tl("requireResolversForArgs",r,e,t,o),"ignore"===n||(0,B.isScalarType)((0,B.getNamedType)(e.type))||tl("requireResolversForNonScalar",n,e,t,o)})}(l,r),o)for(let e of L(o)){var c=l,d=e;for(let[e,t]of(U(c,d.schemaExtensions),Object.entries(d.types||{}))){let r=c.getType(e);if(r){if(U(r,t.extensions),"object"===t.type||"interface"===t.type)for(let[e,n]of Object.entries(t.fields)){let t=r.getFields()[e];if(t)for(let[e,r]of(U(t,n.extensions),Object.entries(n.arguments)))U(t.args.find(t=>t.name===e),r)}else if("input"===t.type)for(let[e,n]of Object.entries(t.fields))U(r.getFields()[e],n.extensions);else if("enum"===t.type)for(let[e,n]of Object.entries(t.values))U(r.getValue(e),n)}}}return l}({typeDefs:Array.isArray(t)?t:[t],resolvers:r})}static generateSchemaDerivedData(e,t){return(0,tc.assertValidSchema)(e),{schema:e,documentStore:void 0===t?new x.InMemoryLRUCache:t,documentStoreKeyPrefix:t?`${(0,re.computeCoreSchemaHash)((0,td.printSchema)(e))}:`:""}}async stop(){switch(this.internals.state.phase){case"initialized":case"starting":case"failed to start":throw Error("apolloServer.stop() should only be called after `await apolloServer.start()` has succeeded");case"stopped":if(this.internals.state.stopError)throw this.internals.state.stopError;return;case"stopping":case"draining":{await this.internals.state.barrier;let e=this.internals.state;if("stopped"!==e.phase)throw Error(`Surprising post-stopping state ${e.phase}`);if(e.stopError)throw e.stopError;return}case"started":break;default:throw new t7.UnreachableCaseError(this.internals.state)}let e=tu(),{schemaManager:t,drainServers:r,landingPage:n,toDispose:i,toDisposeLast:o}=this.internals.state;this.internals.state={phase:"draining",barrier:e,schemaManager:t,landingPage:n};try{await r?.(),this.internals.state={phase:"stopping",barrier:e},await Promise.all([...i].map(e=>e())),await Promise.all([...o].map(e=>e()))}catch(t){throw this.internals.state={phase:"stopped",stopError:t},e.resolve(),t}this.internals.state={phase:"stopped",stopError:null}}async addDefaultPlugins(){let{plugins:t,apolloConfig:r,nodeEnv:n,hideSchemaDetailsFromClientErrors:i}=this.internals,o=e=>t.some(t=>(0,tK.pluginIsInternal)(t)&&t.__internal_plugin_id__===e),s=new Map;for(let e of t)if((0,tK.pluginIsInternal)(e)){let t=e.__internal_plugin_id__;s.has(t)||s.set(t,{sawDisabled:!1,sawNonDisabled:!1});let r=s.get(t);if(e.__is_disabled_plugin__?r.sawDisabled=!0:r.sawNonDisabled=!0,r.sawDisabled&&r.sawNonDisabled)throw Error(`You have tried to install both ApolloServerPlugin${t} and ApolloServerPlugin${t}Disabled in your server. Please choose whether or not you want to disable the feature and install the appropriate plugin for your use case.`)}if(!o("CacheControl")){let{ApolloServerPluginCacheControl:r}=await e.A(65440);t.push(r())}if(!o("UsageReporting")&&r.key)if(r.graphRef){let{ApolloServerPluginUsageReporting:r}=await e.A(73844);t.unshift(r({__onlyIfSchemaIsNotSubgraph:!0}))}else this.logger.warn("You have specified an Apollo key but have not specified a graph ref; usage reporting is disabled. To enable usage reporting, set the `APOLLO_GRAPH_REF` environment variable to `your-graph-id@your-graph-variant`. To disable this warning, install `ApolloServerPluginUsageReportingDisabled`.");{let n=o("SchemaReporting"),i="true"===process.env.APOLLO_SCHEMA_REPORTING;if(!n&&i)if(r.key){let{ApolloServerPluginSchemaReporting:r}=await e.A(76842);t.push(r())}else throw Error("You've enabled schema reporting by setting the APOLLO_SCHEMA_REPORTING environment variable to true, but you also need to provide your Apollo API key, via the APOLLO_KEY environment variable or via `new ApolloServer({apollo: {key})")}if(!o("InlineTrace")){let{ApolloServerPluginInlineTrace:r}=await e.A(41082);t.push(r({__onlyIfSchemaIsSubgraph:!0}))}if(!o("LandingPageDisabled")){let{ApolloServerPluginLandingPageLocalDefault:r,ApolloServerPluginLandingPageProductionDefault:i}=await e.A(80557),o="production"!==n?r():i();if(!ra(o))throw Error("default landing page plugin should be implicitly installable?");o.__internal_installed_implicitly__=!0,t.push(o)}{let r=o("DisableSuggestions");if(i&&!r){let{ApolloServerPluginDisableSuggestions:r}=await e.A(33010);t.push(r())}}}addPlugin(e){if("initialized"!==this.internals.state.phase)throw Error("Can't add plugins after the server has started");this.internals.plugins.push(e)}async executeHTTPGraphQLRequest({httpGraphQLRequest:e,context:t}){try{let r,n;try{r=await this._ensureStarted()}catch(t){return await this.errorResponse(t,e)}if(r.landingPage&&this.prefersHTML(e)){let t;if("string"==typeof r.landingPage.html)t=r.landingPage.html;else try{t=await r.landingPage.html()}catch(r){let t=tj(r);return this.logger.error(`Landing page \`html\` function threw: ${t}`),await this.errorResponse(t,e)}return{headers:new tv([["content-type","text/html"]]),body:{kind:"complete",string:t}}}this.internals.csrfPreventionRequestHeaders&&function(e,t){let r=e.get("content-type");if(void 0!==r){let e=tH.default.parse(r);if(null===e||!t$.includes(e.essence))return}if(!t.some(t=>{let r=e.get(t);return void 0!==r&&r.length>0}))throw new tI(`This operation has been blocked as a potential Cross-Site Request Forgery (CSRF). Please either specify a 'content-type' header (with a type that is not one of ${t$.join(", ")}) or provide a non-empty value for one of the following headers: ${t.join(", ")}
`)}(e.headers,this.internals.csrfPreventionRequestHeaders);try{n=await t()}catch(r){let t=tj(r);try{await Promise.all(this.internals.plugins.map(async e=>e.contextCreationDidFail?.({error:t})))}catch(e){this.logger.error(`contextCreationDidFail hook threw: ${e}`)}return await this.errorResponse(tU(t,"Context creation failed: "),e)}return await tq(this,e,n,r.schemaManager.getSchemaDerivedData(),this.internals)}catch(t){if(t instanceof es.GraphQLError&&t.extensions.code===c.BAD_REQUEST)try{await Promise.all(this.internals.plugins.map(async e=>e.invalidRequestWasReceived?.({error:t})))}catch(e){this.logger.error(`invalidRequestWasReceived hook threw: ${e}`)}return await this.errorResponse(t,e)}}async errorResponse(e,t){let{formattedErrors:r,httpFromErrors:n}=tF([e],{includeStacktraceInErrorResponses:this.internals.includeStacktraceInErrorResponses,formatError:this.internals.formatError});return{status:n.status??500,headers:new tv([...n.headers,["content-type",ru(t)??rl.APPLICATION_JSON]]),body:{kind:"complete",string:await this.internals.stringifyResult({errors:r})}}}prefersHTML(e){let t=e.headers.get("accept");return"GET"===e.method&&!!t&&new th.default({headers:{accept:t}}).mediaType([rl.APPLICATION_JSON,rl.APPLICATION_GRAPHQL_RESPONSE_JSON,rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2,rl.MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9,rl.MULTIPART_MIXED_NO_DEFER_SPEC,rl.TEXT_HTML])===rl.TEXT_HTML}async executeOperation(e,t={}){"initialized"===this.internals.state.phase&&await this.start();let r=(await this._ensureStarted()).schemaManager.getSchemaDerivedData(),n={...e,query:e.query&&"string"!=typeof e.query?(0,eo.print)(e.query):e.query};return await rs({server:this,graphQLRequest:n,internals:this.internals,schemaDerivedData:r,sharedResponseHTTPGraphQLHead:null},t)}}async function rs({server:e,graphQLRequest:t,internals:r,schemaDerivedData:n,sharedResponseHTTPGraphQLHead:i},o){var s;let a={logger:e.logger,cache:e.cache,schema:n.schema,request:t,response:{http:i??tM()},contextValue:Object.assign(Object.create(Object.getPrototypeOf(s=o?.contextValue??{})),s),metrics:{},overallCachePolicy:(0,tf.newCachePolicy)(),requestIsBatched:null!==i};try{return await t5(n,e,r,a)}catch(n){let t=tj(n);throw await Promise.all(r.plugins.map(async e=>e.unexpectedErrorProcessingRequest?.({requestContext:a,error:t}))),e.logger.error(`Unexpected error processing request: ${t}`),Error("Internal server error")}}function ra(e){return"__internal_installed_implicitly__"in e}let rl={APPLICATION_JSON:"application/json; charset=utf-8",APPLICATION_JSON_GRAPHQL_CALLBACK:"application/json; callbackSpec=1.0; charset=utf-8",APPLICATION_GRAPHQL_RESPONSE_JSON:"application/graphql-response+json; charset=utf-8",MULTIPART_MIXED_NO_DEFER_SPEC:"multipart/mixed",MULTIPART_MIXED_EXPERIMENTAL_ALPHA_2:"multipart/mixed; deferSpec=20220824",MULTIPART_MIXED_EXPERIMENTAL_ALPHA_9:"multipart/mixed; incrementalSpec=v0.2",TEXT_HTML:"text/html"};function ru(e){if(!e.headers.get("accept"))return rl.APPLICATION_JSON;{let t=new th.default({headers:{accept:e.headers.get("accept")}}).mediaType([rl.APPLICATION_JSON,rl.APPLICATION_GRAPHQL_RESPONSE_JSON,rl.APPLICATION_JSON_GRAPHQL_CALLBACK]);return t||null}}var rc=e.i(17575),rd=e.i(99434),rp=new Map,rh=new Map,rf=!0,rm=!1;function ry(e){return e.replace(/[\s,]+/g," ").trim()}function rv(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach(function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]}),function(e){var t=ry(e);if(!rp.has(t)){var r,n,i,o,s,a=(0,K.parse)(e,{experimentalFragmentVariables:rm,allowLegacyFragmentVariables:rm});if(!a||"Document"!==a.kind)throw Error("Not a valid GraphQL document.");rp.set(t,((o=new Set((r=new Set,n=[],a.definitions.forEach(function(e){if("FragmentDefinition"===e.kind){var t,i=e.name.value,o=ry((t=e.loc).source.body.substring(t.start,t.end)),s=rh.get(i);s&&!s.has(o)?rf&&console.warn("Warning: fragment with name "+i+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):s||rh.set(i,s=new Set),s.add(o),r.has(o)||(r.add(o),n.push(e))}else n.push(e)}),i=(0,rd.__assign)((0,rd.__assign)({},a),{definitions:n})).definitions)).forEach(function(e){e.loc&&delete e.loc,Object.keys(e).forEach(function(t){var r=e[t];r&&"object"==typeof r&&o.add(r)})}),(s=i.loc)&&(delete s.startToken,delete s.endToken),i))}return rp.get(t)}(n)}var rg=rv;(a=rv||(rv={})).gql=rg,a.resetCaches=function(){rp.clear(),rh.clear()},a.disableFragmentWarnings=function(){rf=!1},a.enableExperimentalFragmentVariables=function(){rm=!0},a.disableExperimentalFragmentVariables=function(){rm=!1},rv.default=rv;let rT=rv`
  scalar DateTime
  scalar JSON

  enum Role {
    OWNER
    ADMIN
    MEMBER
    VIEWER
  }

  enum LeadStatus {
    NEW
    CONTACTED
    QUALIFIED
    DISQUALIFIED
    CONVERTED
  }

  enum ScanStatus {
    QUEUED
    RUNNING
    COMPLETED
    FAILED
  }

  enum DisputeStatus {
    DRAFT
    SENT
    IN_PROGRESS
    RESOLVED
    REJECTED
    CANCELED
  }

  enum OrderStatus {
    CREATED
    PAID
    PARTIALLY_REFUNDED
    REFUNDED
    CANCELED
  }

  enum PaymentStatus {
    REQUIRES_ACTION
    PROCESSING
    SUCCEEDED
    FAILED
    CANCELED
  }

  enum ProductType {
    ONE_TIME
    SUBSCRIPTION
    ADD_ON
    UPGRADE
  }

  enum EventType {
    AUTH_LOGIN
    AUTH_LOGOUT
    USER_UPDATED
    ORG_CREATED
    ORG_UPDATED
    MEMBER_INVITED
    MEMBER_ROLE_CHANGED
    LEAD_CREATED
    LEAD_UPDATED
    SCAN_CREATED
    SCAN_STATUS_CHANGED
    DISPUTE_CREATED
    DISPUTE_UPDATED
    ORDER_CREATED
    ORDER_PAID
    PAYMENT_STATUS_CHANGED
    DOC_UPLOADED
    DOC_DELETED
    NOTE_CREATED
    NOTE_DELETED
  }

  """
  Viewer context is derived from the auth token.
  uid is the canonical user id (Firebase auth uid).
  """
  type Viewer {
    uid: ID!
    user: User!
    orgs: [Organization!]!
    activeOrg: Organization
  }

  type User {
    id: ID!
    uid: ID!
    email: String!
    phone: String
    displayName: String
    photoUrl: String
    createdAt: DateTime!
    updatedAt: DateTime!
  }

  type Organization {
    id: ID!
    ownerUid: ID!
    name: String!
    slug: String!
    createdAt: DateTime!
    updatedAt: DateTime!
    members: [OrgMember!]!
  }

  type OrgMember {
    id: ID!
    orgId: ID!
    uid: ID!
    role: Role!
    createdAt: DateTime!
  }

  type Invite {
    id: ID!
    orgId: ID!
    email: String!
    role: Role!
    token: String!
    createdAt: DateTime!
    expiresAt: DateTime!
    acceptedAt: DateTime
  }

  type Lead {
    id: ID!
    orgId: ID!
    createdByUid: ID!
    status: LeadStatus!
    firstName: String
    lastName: String
    email: String
    phone: String
    source: String
    tags: [String!]!
    notesCount: Int!
    lastContactedAt: DateTime
    createdAt: DateTime!
    updatedAt: DateTime!
  }

  type Note {
    id: ID!
    orgId: ID!
    entityType: String!
    entityId: ID!
    createdByUid: ID!
    body: String!
    createdAt: DateTime!
  }

  type Document {
    id: ID!
    orgId: ID!
    ownerUid: ID!
    entityType: String!
    entityId: ID!
    filename: String!
    mimeType: String!
    sizeBytes: Int!
    storagePath: String!
    sha256: String
    createdAt: DateTime!
  }

  """
  Scan represents a RevolvIQ underwriting/credit scan request.
  """
  type Scan {
    id: ID!
    orgId: ID!
    ownerUid: ID!
    leadId: ID
    status: ScanStatus!
    input: JSON
    result: JSON
    score: Int
    riskFlags: [String!]!
    createdAt: DateTime!
    updatedAt: DateTime!
    completedAt: DateTime
    errorMessage: String
  }

  type Report {
    id: ID!
    orgId: ID!
    ownerUid: ID!
    scanId: ID!
    summary: String!
    sections: [ReportSection!]!
    createdAt: DateTime!
  }

  type ReportSection {
    key: String!
    title: String!
    body: String!
    data: JSON
  }

  type Dispute {
    id: ID!
    orgId: ID!
    ownerUid: ID!
    leadId: ID
    scanId: ID
    status: DisputeStatus!
    bureau: String
    disputeItems: [DisputeItem!]!
    letterHtml: String
    letterPdfDocId: ID
    createdAt: DateTime!
    updatedAt: DateTime!
    sentAt: DateTime
  }

  type DisputeItem {
    id: ID!
    type: String!
    creditor: String
    accountNumberMasked: String
    reason: String!
    evidenceDocIds: [ID!]!
    metadata: JSON
  }

  type Product {
    id: ID!
    orgId: ID!
    name: String!
    description: String
    type: ProductType!
    active: Boolean!
    currency: String!
    amountCents: Int!
    stripePriceId: String
    stripeProductId: String
    metadata: JSON
    createdAt: DateTime!
    updatedAt: DateTime!
  }

  type Order {
    id: ID!
    orgId: ID!
    buyerUid: ID!
    status: OrderStatus!
    currency: String!
    subtotalCents: Int!
    totalCents: Int!
    items: [OrderItem!]!
    stripeCheckoutSessionId: String
    createdAt: DateTime!
    updatedAt: DateTime!
  }

  type OrderItem {
    id: ID!
    productId: ID!
    name: String!
    quantity: Int!
    amountCents: Int!
    metadata: JSON
  }

  type Payment {
    id: ID!
    orgId: ID!
    buyerUid: ID!
    orderId: ID!
    status: PaymentStatus!
    currency: String!
    amountCents: Int!
    stripePaymentIntentId: String
    stripeCustomerId: String
    createdAt: DateTime!
    updatedAt: DateTime!
  }

  type Upgrade {
    id: ID!
    orgId: ID!
    buyerUid: ID!
    fromProductId: ID!
    toProductId: ID!
    deltaCents: Int!
    currency: String!
    orderId: ID
    createdAt: DateTime!
  }

  type AuditEvent {
    id: ID!
    orgId: ID!
    actorUid: ID!
    type: EventType!
    entityType: String
    entityId: ID
    detail: JSON
    createdAt: DateTime!
  }

  input PaginationInput {
    limit: Int = 25
    cursor: String
  }

  type PageInfo {
    nextCursor: String
    hasNextPage: Boolean!
  }

  type LeadConnection {
    nodes: [Lead!]!
    pageInfo: PageInfo!
  }

  type ScanConnection {
    nodes: [Scan!]!
    pageInfo: PageInfo!
  }

  type DisputeConnection {
    nodes: [Dispute!]!
    pageInfo: PageInfo!
  }

  type Query {
    viewer: Viewer!

    organization(id: ID!): Organization
    organizations: [Organization!]!

    lead(id: ID!): Lead
    leads(status: LeadStatus, tag: String, pagination: PaginationInput): LeadConnection!

    scan(id: ID!): Scan
    scans(status: ScanStatus, leadId: ID, pagination: PaginationInput): ScanConnection!

    reportByScan(scanId: ID!): Report

    dispute(id: ID!): Dispute
    disputes(status: DisputeStatus, leadId: ID, pagination: PaginationInput): DisputeConnection!

    products(active: Boolean): [Product!]!
    order(id: ID!): Order
    orders(pagination: PaginationInput): [Order!]!

    payments(orderId: ID): [Payment!]!

    auditEvents(entityType: String, entityId: ID, pagination: PaginationInput): [AuditEvent!]!
  }

  input CreateOrganizationInput {
    name: String!
    slug: String!
  }

  input UpdateOrganizationInput {
    name: String
    slug: String
  }

  input InviteMemberInput {
    orgId: ID!
    email: String!
    role: Role!
  }

  input AcceptInviteInput {
    token: String!
  }

  input UpdateMemberRoleInput {
    orgId: ID!
    uid: ID!
    role: Role!
  }

  input CreateLeadInput {
    orgId: ID!
    firstName: String
    lastName: String
    email: String
    phone: String
    source: String
    tags: [String!]
  }

  input UpdateLeadInput {
    status: LeadStatus
    firstName: String
    lastName: String
    email: String
    phone: String
    source: String
    tags: [String!]
    lastContactedAt: DateTime
  }

  input CreateNoteInput {
    orgId: ID!
    entityType: String!
    entityId: ID!
    body: String!
  }

  input UploadDocumentInput {
    orgId: ID!
    entityType: String!
    entityId: ID!
    filename: String!
    mimeType: String!
    sizeBytes: Int!
    sha256: String
  }

  type UploadDocumentResult {
    doc: Document!
    signedUploadUrl: String!
  }

  input CreateScanInput {
    orgId: ID!
    leadId: ID
    input: JSON
  }

  input UpdateScanStatusInput {
    id: ID!
    status: ScanStatus!
    result: JSON
    score: Int
    riskFlags: [String!]
    errorMessage: String
  }

  input CreateDisputeInput {
    orgId: ID!
    leadId: ID
    scanId: ID
    bureau: String
    disputeItems: [CreateDisputeItemInput!]!
  }

  input CreateDisputeItemInput {
    type: String!
    creditor: String
    accountNumberMasked: String
    reason: String!
    evidenceDocIds: [ID!]
    metadata: JSON
  }

  input UpdateDisputeInput {
    status: DisputeStatus
    bureau: String
    disputeItems: [CreateDisputeItemInput!]
    letterHtml: String
    letterPdfDocId: ID
    sentAt: DateTime
  }

  input CreateProductInput {
    orgId: ID!
    name: String!
    description: String
    type: ProductType!
    active: Boolean = true
    currency: String!
    amountCents: Int!
    stripePriceId: String
    stripeProductId: String
    metadata: JSON
  }

  input UpdateProductInput {
    name: String
    description: String
    active: Boolean
    amountCents: Int
    stripePriceId: String
    stripeProductId: String
    metadata: JSON
  }

  input CreateOrderInput {
    orgId: ID!
    items: [CreateOrderItemInput!]!
    successUrl: String!
    cancelUrl: String!
  }

  input CreateOrderItemInput {
    productId: ID!
    quantity: Int! = 1
  }

  type CreateOrderResult {
    order: Order!
    stripeCheckoutUrl: String!
  }

  input CreateUpgradeInput {
    orgId: ID!
    fromProductId: ID!
    toProductId: ID!
    successUrl: String!
    cancelUrl: String!
  }

  type CreateUpgradeResult {
    upgrade: Upgrade!
    stripeCheckoutUrl: String!
  }

  type Mutation {
    """
    Upserts the current user profile using auth claims as source of truth.
    """
    syncViewer: Viewer!

    createOrganization(input: CreateOrganizationInput!): Organization!
    updateOrganization(id: ID!, input: UpdateOrganizationInput!): Organization!

    inviteMember(input: InviteMemberInput!): Invite!
    acceptInvite(input: AcceptInviteInput!): Viewer!
    updateMemberRole(input: UpdateMemberRoleInput!): OrgMember!

    createLead(input: CreateLeadInput!): Lead!
    updateLead(id: ID!, input: UpdateLeadInput!): Lead!
    deleteLead(id: ID!): Boolean!

    createNote(input: CreateNoteInput!): Note!
    deleteNote(id: ID!): Boolean!

    uploadDocument(input: UploadDocumentInput!): UploadDocumentResult!
    deleteDocument(id: ID!): Boolean!

    createScan(input: CreateScanInput!): Scan!
    updateScanStatus(input: UpdateScanStatusInput!): Scan!

    createDispute(input: CreateDisputeInput!): Dispute!
    updateDispute(id: ID!, input: UpdateDisputeInput!): Dispute!
    deleteDispute(id: ID!): Boolean!

    createProduct(input: CreateProductInput!): Product!
    updateProduct(id: ID!, input: UpdateProductInput!): Product!
    deleteProduct(id: ID!): Boolean!

    createOrder(input: CreateOrderInput!): CreateOrderResult!
    cancelOrder(id: ID!): Order!

    createUpgrade(input: CreateUpgradeInput!): CreateUpgradeResult!
  }

  type Subscription {
    scanUpdated(orgId: ID!): Scan!
    disputeUpdated(orgId: ID!): Dispute!
    orderUpdated(orgId: ID!): Order!
  }
`;var rE=e.i(45821);if(!rE.apps.length)try{rE.initializeApp({credential:rE.credential.applicationDefault(),projectId:"revolv-80ee0"})}catch(e){console.warn("Firebase Admin: using insecure/mock auth for build/dev due to missing credentials."),rE.apps.length||rE.initializeApp({projectId:"revolv-80ee0"})}let r_=rE.auth(),rS=rE.firestore(),rb=rE.storage();var rP=e.i(54799),rO=e.i(27699);class rI{computeHMACSignature(e,t){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw Error("computeSHA256 not implemented.")}}class rw extends Error{}class rA extends rI{computeHMACSignature(e,t){return rP.createHmac("sha256",t).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){return await this.computeHMACSignature(e,t)}async computeSHA256Async(e){return new Uint8Array(await rP.createHash("sha256").update(e).digest())}}var rN=e.i(21517),rx=e.i(24836);class rR{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,t,r,n,i,o,s,a){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(rR.TIMEOUT_ERROR_CODE);return e.code=rR.TIMEOUT_ERROR_CODE,e}}rR.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],rR.TIMEOUT_ERROR_CODE="ETIMEDOUT";class rD{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}}let rL=rN.default||rN,rC=rx.default||rx,rM=new rL.Agent({keepAlive:!0}),rk=new rC.Agent({keepAlive:!0});class rF extends rR{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,r,n,i,o,s,a){let l="http"===s,u=this._agent;return u||(u=l?rM:rk),new Promise((s,c)=>{let d=(l?rL:rC).request({host:e,port:t,path:r,method:n,agent:u,headers:i,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});d.setTimeout(a,()=>{d.destroy(rR.makeTimeoutError())}),d.on("response",e=>{s(new rj(e))}),d.on("error",e=>{c(e)}),d.once("socket",e=>{e.connecting?e.once(l?"connect":"secureConnect",()=>{d.write(o),d.end()}):(d.write(o),d.end())})})}}class rj extends rD{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",e=>{r+=e}),this._res.once("end",()=>{try{e(JSON.parse(r))}catch(e){t(e)}})})}}var rU=e.i(30348);let rG=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function rq(e){return e&&"object"==typeof e&&rG.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function rK(e,t){return rU.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let rH=(r={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"},e=>{let t=e.replace(/["\n\r\u2028\u2029]/g,e=>r[e]);return e=>t.replace(/\{([\s\S]+?)\}/g,(t,r)=>{let n=e[r];return["number","string","boolean"].includes(typeof n)?encodeURIComponent(n):""})});function rB(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!rq(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(e=>rG.includes(e));return r.length>0&&r.length!==t.length&&rV(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function r$(e){let t={host:null,headers:{},settings:{},streaming:!1};if(e.length>0){let r=e[e.length-1];if("string"==typeof r)t.authenticator=rW(e.pop());else if(rq(r)){let r=Object.assign({},e.pop()),n=Object.keys(r).filter(e=>!rG.includes(e));if(n.length&&rV(`Invalid options found (${n.join(", ")}); ignoring.`),r.apiKey&&(t.authenticator=rW(r.apiKey)),r.idempotencyKey&&(t.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(t.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(t.headers["Stripe-Account"])throw Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(t.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(t.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(t.settings.timeout=r.timeout),r.host&&(t.host=r.host),r.authenticator){if(r.apiKey)throw Error("Can't specify both apiKey and authenticator.");if("function"!=typeof r.authenticator)throw Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=r.authenticator}r.additionalHeaders&&(t.headers=r.additionalHeaders),r.streaming&&(t.streaming=!0)}}return t}function rQ(e){if("object"!=typeof e)throw Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(null!=e[r]&&(t[r]=e[r]),t),{})}function rz(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function rV(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function rY(e,t,r){if(!Number.isInteger(t))if(void 0!==r)return r;else throw Error(`${e} must be an integer`);return t}function rW(e){let t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function rJ(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function rX(e){return e&&e.startsWith("/v2")?"v2":"v1"}function rZ(e){return Array.isArray(e)?e.join(", "):String(e)}class r0 extends rR{constructor(e){if(super(),!e){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=r0.makeFetchWithAbortTimeout(e):this._fetchFn=r0.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,r,n)=>{let i,o=new Promise((e,t)=>{i=setTimeout(()=>{i=null,t(rR.makeTimeoutError())},n)});return Promise.race([e(t,r),o]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return async(t,r,n)=>{let i=new AbortController,o=setTimeout(()=>{o=null,i.abort(rR.makeTimeoutError())},n);try{return await e(t,Object.assign(Object.assign({},r),{signal:i.signal}))}catch(e){if("AbortError"===e.name)throw rR.makeTimeoutError();throw e}finally{o&&clearTimeout(o)}}}getClientName(){return"fetch"}async makeRequest(e,t,r,n,i,o,s,a){let l=new URL(r,`${"http"===s?"http":"https"}://${e}`);l.port=t;let u="POST"==n||"PUT"==n||"PATCH"==n;return new r1(await this._fetchFn(l.toString(),{method:n,headers:Object.entries(i).map(([e,t])=>[e,rZ(t)]),body:o||(u?"":void 0)},a))}}class r1 extends rD{constructor(e){super(e.status,r1._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let t={};for(let r of e){if(!Array.isArray(r)||2!=r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}}class r2 extends rI{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new rw("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){let r=new TextEncoder,n=await this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=new Uint8Array(await this.subtleCrypto.sign("hmac",n,r.encode(e))),o=Array(i.length);for(let e=0;e<i.length;e++)o[e]=r8[i[e]];return o.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}let r8=Array(256);for(let e=0;e<r8.length;e++)r8[e]=e.toString(16).padStart(2,"0");class r3{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;let r=e.length,n=0;for(let i=0;i<r;++i)n|=e.charCodeAt(i)^t.charCodeAt(i);return 0===n}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new r0(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new r2(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}}let r4=e=>{switch(e.type){case"card_error":return new r6(e);case"invalid_request_error":return new r7(e);case"api_error":return new ne(e);case"authentication_error":return new nt(e);case"rate_limit_error":return new nn(e);case"idempotency_error":return new ns(e);case"invalid_grant":return new na(e);default:return new nl(e)}},r9=e=>"temporary_session_expired"===e.type?new nu(e):"invalid_fields"===e.code?new r7(e):r4(e);class r5 extends Error{constructor(e={},t=null){var r;super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=null!=(r=e.message)?r:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}r5.generate=r4;class r6 extends r5{constructor(e={}){super(e,"StripeCardError")}}class r7 extends r5{constructor(e={}){super(e,"StripeInvalidRequestError")}}class ne extends r5{constructor(e={}){super(e,"StripeAPIError")}}class nt extends r5{constructor(e={}){super(e,"StripeAuthenticationError")}}class nr extends r5{constructor(e={}){super(e,"StripePermissionError")}}class nn extends r5{constructor(e={}){super(e,"StripeRateLimitError")}}class ni extends r5{constructor(e={}){super(e,"StripeConnectionError")}}class no extends r5{constructor(e,t,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class ns extends r5{constructor(e={}){super(e,"StripeIdempotencyError")}}class na extends r5{constructor(e={}){super(e,"StripeInvalidGrantError")}}class nl extends r5{constructor(e={}){super(e,"StripeUnknownError")}}class nu extends r5{constructor(e={}){super(e,"TemporarySessionExpiredError")}}e.s(["StripeAPIError",()=>ne,"StripeAuthenticationError",()=>nt,"StripeCardError",()=>r6,"StripeConnectionError",()=>ni,"StripeError",()=>r5,"StripeIdempotencyError",()=>ns,"StripeInvalidGrantError",()=>na,"StripeInvalidRequestError",()=>r7,"StripePermissionError",()=>nr,"StripeRateLimitError",()=>nn,"StripeSignatureVerificationError",()=>no,"StripeUnknownError",()=>nl,"TemporarySessionExpiredError",()=>nu,"generateV1Error",0,r4,"generateV2Error",0,r9],67068);var nc=e.i(33405);class nd extends r5{}var np=e.i(67068);class nh{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_normalizeStripeContext(e,t){return e?e.toString()||null:(null==t?void 0:t.toString())||null}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,r){let n=Date.now(),i=n-e.request_start_time;return rQ({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(r),elapsed:i,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,r){return n=>{let i=n.getHeaders(),o=()=>{let r=this._makeResponseEvent(e,n.getStatusCode(),i);this._stripe._emitter.emit("response",r),this._recordRequestMetrics(this._getRequestId(i),r.elapsed,t)},s=n.toStream(o);return this._addHeadersDirectlyToObject(s,i),r(null,s)}}_jsonResponseHandler(e,t,r,n){return i=>{let o=i.getHeaders(),s=this._getRequestId(o),a=i.getStatusCode(),l=this._makeResponseEvent(e,a,o);this._stripe._emitter.emit("response",l),i.toJSON().then(e=>{if(e.error)throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=o,e.error.statusCode=a,e.error.requestId=s,401===a?new nt(e.error):403===a?new nr(e.error):429===a?new nn(e.error):"v2"===t?r9(e.error):r4(e.error);return e},e=>{throw new ne({message:"Invalid JSON received from the Stripe API",exception:e,requestId:o["request-id"]})}).then(e=>{this._recordRequestMetrics(s,l.elapsed,r);let t=i.getRawResponse();this._addHeadersDirectlyToObject(t,o),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),n(null,e)},e=>n(e,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,t,r,n){return!!(n&&0===t&&rR.CONNECTION_CLOSED_ERROR_CODES.includes(n.code))||!(t>=r)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&!!("true"===e.getHeaders()["stripe-should-retry"]||409===e.getStatusCode()||e.getStatusCode()>=500))}_getSleepTimeInMS(e,t=null){let r=this._stripe.getInitialNetworkRetryDelay(),n=Math.min(r*Math.pow(2,e-1),this._stripe.getMaxNetworkRetryDelay());return n*=.5*(1+Math.random()),n=Math.max(r,n),Number.isInteger(t)&&t<=60&&(n=Math.max(n,t)),1e3*n}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,r){let n=this._getMaxNetworkRetries(t),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===r){if("POST"===e||"DELETE"===e)return i()}else if("v1"===r&&"POST"===e&&n>0)return i();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:r,clientUserAgent:n,method:i,userSuppliedHeaders:o,userSuppliedSettings:s,stripeAccount:a,stripeContext:l,apiMode:u}){let c={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(u),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":a,"Stripe-Context":l,"Idempotency-Key":this._defaultIdempotencyKey(i,s,u)},d="POST"==i||"PUT"==i||"PATCH"==i;return(d||t)&&(d||rV(`${i} method had non-zero contentLength but no payload is expected for this verb`),c["Content-Length"]=t),Object.assign(rQ(c),o&&"object"==typeof o?Object.keys(o).reduce((e,t)=>(e[t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")]=o[t],e),{}):o)}_getUserAgentString(e){let t=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${t} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0)return JSON.stringify({last_request_metrics:this._stripe._prevRequestMetrics.shift()})}_recordRequestMetrics(e,t,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)rV("Request metrics buffer is full, dropping telemetry message.");else{let n={request_id:e,request_duration_ms:t};r&&r.length>0&&(n.usage=r),this._stripe._prevRequestMetrics.push(n)}}_rawRequest(e,t,r,n,i){return new Promise((o,s)=>{let a;try{let o=e.toUpperCase();if("POST"!==o&&r&&0!==Object.keys(r).length)throw Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let s=[].slice.call([r,n]),l=rB(s),u="POST"===o?Object.assign({},l):null,c=r$(s),d=c.headers,p=c.authenticator;a={requestMethod:o,requestPath:t,bodyData:u,queryData:{},authenticator:p,headers:d,host:c.host,streaming:!!c.streaming,settings:{},usage:i||["raw_request"]}}catch(e){s(e);return}let{headers:l,settings:u}=a,c=a.authenticator;this._request(a.requestMethod,a.host,t,a.bodyData,c,{headers:l,settings:u,streaming:a.streaming},a.usage,function(e,t){e?s(e):o(t)})})}_getContentLength(e){return"string"==typeof e?new TextEncoder().encode(e).length:e.length}_request(e,t,r,n,i,o,s=[],a,l=null){var u;let c;i=null!=(u=null!=i?i:this._stripe._authenticator)?u:null;let d=rX(r),p=(e,t,r,n,i)=>setTimeout(e,this._getSleepTimeInMS(n,i),t,r,n+1),h=(n,l,u)=>{let f=o.settings&&o.settings.timeout&&Number.isInteger(o.settings.timeout)&&o.settings.timeout>=0?o.settings.timeout:this._stripe.getApiField("timeout"),m={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},l),body:c,protocol:this._stripe.getApiField("protocol")};i(m).then(()=>{let t=this._stripe.getApiField("httpClient").makeRequest(m.host,m.port,m.path,m.method,m.headers,m.body,m.protocol,f),i=Date.now(),c=rQ({api_version:n,account:rZ(l["Stripe-Account"]),idempotency_key:rZ(l["Idempotency-Key"]),method:e,path:r,request_start_time:i}),y=u||0,v=this._getMaxNetworkRetries(o.settings||{});this._stripe._emitter.emit("request",c),t.then(e=>{if(nh._shouldRetry(e,y,v)){var t;return p(h,n,l,y,Number(Array.isArray(t=e.getHeaders()["retry-after"])?t[0]:t))}return o.streaming&&400>e.getStatusCode()?this._streamingResponseHandler(c,s,a)(e):this._jsonResponseHandler(c,d,s,a)(e)}).catch(e=>nh._shouldRetry(null,y,v,e)?p(h,n,l,y,null):a(new ni({message:e.code&&e.code===rR.TIMEOUT_ERROR_CODE?`Request aborted due to timeout being reached (${f}ms)`:nh._generateConnectionErrorMessage(y),detail:e})))}).catch(e=>{throw new r5({message:"Unable to authenticate the request",exception:e})})},f=(t,r)=>{if(t)return a(t);c=r,this._stripe.getClientUserAgent(t=>{var n,i,s;let a=this._stripe.getApiField("version"),l=this._makeHeaders({contentType:"v2"==d?"application/json":"application/x-www-form-urlencoded",contentLength:this._getContentLength(r),apiVersion:a,clientUserAgent:t,method:e,userSuppliedHeaders:null!=(n=o.headers)?n:null,userSuppliedSettings:null!=(i=o.settings)?i:{},stripeAccount:null!=(s=o.stripeAccount)?s:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(o.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});h(a,l,0)})};if(l)l(e,n,o.headers,f);else{let e;f(null,e="v2"==d?n?JSON.stringify(n,rJ):"":rK(n||{},d))}}}class nf{constructor(e,t,r,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=r,this.stripeResource=n}async iterate(e){if(!(e&&e.data&&"number"==typeof e.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let t=nT(this.requestArgs);if(this.index<e.data.length){let r=t?e.data.length-1-this.index:this.index,n=e.data[r];return this.index+=1,{value:n,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class nm extends nf{getNextPage(e){let t=nT(this.requestArgs),r=function(e,t){let r=t?0:e.data.length-1,n=e.data[r],i=n&&n.id;if(!i)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return i}(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:r})}}class ny extends nf{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class nv{constructor(e,t,r,n){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=r,this.stripeResource=n}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}let ng=e=>{var t,r;let n=(t=(...t)=>e.next(...t),function(){var e,r;let n=[].slice.call(arguments),i=function(e){if(0===e.length)return;let t=e[0];if("function"!=typeof t)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,r){r(t(e))}}(n),o=function(e){if(e.length<2)return null;let t=e[1];if("function"!=typeof t)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);return rz((e=t,r=i,new Promise((t,n)=>{e().then(function n(i){if(i.done)return void t();let o=i.value;return new Promise(e=>{r(o,e)}).then(t=>!1===t?n({done:!0,value:void 0}):e().then(n))}).catch(n)})),o)}),i=(r=n,function(e,t){let n=e&&e.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return rz(new Promise((e,t)=>{let i=[];r(e=>{if(i.push(e),i.length>=n)return!1}).then(()=>{e(i)}).catch(t)}),t)}),o={autoPagingEach:n,autoPagingToArray:i,next:()=>e.next(),return:()=>({}),["u">typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"]:()=>o};return o};function nT(e){return!!rB([].slice.call(e)).ending_before}function nE(e,t){if(this._stripe=e,t)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=rH(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=rH(this.path),this.initialize(...arguments)}nE.extend=function(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r},nE.method=function(e){if(void 0!==e.path&&void 0!==e.fullPath)throw Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r,n,i="function"==typeof t[t.length-1]&&t.pop();r=(e.fullPath||this.createResourcePathWithSymbols(e.path||"")).match(/\{\w+\}/g),e.urlParams=r?r.map(e=>e.replace(/[{}]/g,"")):[];let o=rz(this._makeRequest(t,e,{}),i);return Object.assign(o,"v2"!==(n=rX(e.fullPath||e.path))&&"search"===e.methodType?ng(new ny(o,t,e,this)):"v2"!==n&&"list"===e.methodType?ng(new nm(o,t,e,this)):"v2"===n&&"list"===e.methodType?ng(new nv(o,t,e,this)):null),o}},nE.MAX_BUFFERED_REQUEST_METRICS=100,nE.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if("function"==typeof e){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,r){var n;let i=(t.method||"GET").toUpperCase(),o=t.usage||[],s=t.urlParams||[],a=t.encode||(e=>e),l=!!t.fullPath,u=rH(l?t.fullPath:t.path||""),c=l?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),p=s.reduce((e,t)=>{let r=d.shift();if("string"!=typeof r)throw Error(`Stripe: Argument "${t}" must be a string, but got: ${r} (on API request to \`${i} ${c}\`)`);return e[t]=r,e},{}),h=a(Object.assign({},rB(d),r)),f=r$(d),m=f.host||t.host,y=!!t.streaming||!!f.streaming;if(d.filter(e=>null!=e).length)throw Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${i} \`${c}\`)`);let v=l?u(p):this.createFullPath(u,p),g=Object.assign(f.headers,t.headers);t.validator&&t.validator(h,{headers:g});let T="GET"===t.method||"DELETE"===t.method;return{requestMethod:i,requestPath:v,bodyData:T?null:h,queryData:T?h:{},authenticator:null!=(n=f.authenticator)?n:null,headers:g,host:null!=m?m:null,streaming:y,settings:f.settings,usage:o}},_makeRequest(e,t,r){return new Promise((n,i)=>{var o;let s;try{s=this._getRequestOpts(e,t,r)}catch(e){i(e);return}let a=0===Object.keys(s.queryData).length,l=[s.requestPath,a?"":"?",rK(s.queryData,rX(s.requestPath))].join(""),{headers:u,settings:c}=s;this._stripe._requestSender._request(s.requestMethod,s.host,l,s.bodyData,s.authenticator,{headers:u,settings:c,streaming:s.streaming},s.usage,function(e,r){e?i(e):n(t.transformResponseData?t.transformResponseData(r):r)},null==(o=this.requestDataProcessor)?void 0:o.bind(this))})}};class n_{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw Error("Segment cannot be null or undefined");return new n_([...this._segments,e])}pop(){if(0===this._segments.length)throw Error("Cannot pop from an empty context");return new n_(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return new n_(e?e.split("/"):[])}}let nS="2025-12-15.clover";function nb(e,t){for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;let n=r[0].toLowerCase()+r.substring(1),i=new t[r](e);this[n]=i}}function nP(e,t){return function(e){return new nb(e,t)}}let nO=nE.method,nI=nE.extend({create:nO({method:"POST",fullPath:"/v2/core/account_links"})}),nw=nE.method,nA=nE.extend({create:nw({method:"POST",fullPath:"/v2/core/account_tokens"}),retrieve:nw({method:"GET",fullPath:"/v2/core/account_tokens/{id}"})}),nN=nE.method,nx=nE.extend({retrieve:nN({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:nN({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:nN({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:nN({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:nN({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:nN({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:nN({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),nR=nE.method,nD=nE.extend({create:nR({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons"}),retrieve:nR({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),update:nR({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),list:nR({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons",methodType:"list"}),del:nR({method:"DELETE",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"})}),nL=nE.method,nC=nE.extend({create:nL({method:"POST",fullPath:"/v2/core/accounts/{account_id}/person_tokens"}),retrieve:nL({method:"GET",fullPath:"/v2/core/accounts/{account_id}/person_tokens/{id}"})}),nM=nE.method,nk=nE.extend({constructor:function(...e){nE.apply(this,e),this.persons=new nD(...e),this.personTokens=new nC(...e)},create:nM({method:"POST",fullPath:"/v2/core/accounts"}),retrieve:nM({method:"GET",fullPath:"/v2/core/accounts/{id}"}),update:nM({method:"POST",fullPath:"/v2/core/accounts/{id}"}),list:nM({method:"GET",fullPath:"/v2/core/accounts",methodType:"list"}),close:nM({method:"POST",fullPath:"/v2/core/accounts/{id}/close"})}),nF=nE.method,nj=nE.extend({retrieve:nF({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:nF({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),nU=nE.method,nG=nE.extend({create:nU({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:nU({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:nU({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:nU({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:nU({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:nU({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),nq=nE.method,nK=nE.extend({find:nq({method:"GET",fullPath:"/v1/tax/associations/find"})}),nH=nE.method,nB=nE.extend({retrieve:nH({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:nH({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:nH({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:nH({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:nH({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),n$=nE.method,nQ=nE.extend({create:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:n$({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),nz=nE.method,nV=nE.extend({create:nz({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:nz({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:nz({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),nY=nE.method,nW=nE.extend({create:nY({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:nY({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:nY({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:nY({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),nJ=nE.method,nX=nE.extend({create:nJ({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:nJ({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:nJ({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:nJ({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),nZ=nE.method,n0=nE.extend({deliverCard:nZ({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:nZ({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:nZ({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:nZ({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:nZ({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),n1=nE.method,n2=nE.extend({create:n1({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:n1({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:n1({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:n1({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),n8=nE.method,n3=nE.extend({create:n8({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:n8({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:n8({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:n8({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:n8({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),n4=nE.method,n9=nE.extend({create:n4({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),n5=nE.method,n6=nE.extend({create:n5({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),n7=nE.method,ie=nE.extend({retrieve:n7({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),it=nE.method,ir=nE.extend({retrieve:it({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:it({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),ii=nE.method,io=nE.extend({create:ii({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:ii({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:ii({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:ii({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:ii({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:ii({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),is=nE.method,ia=nE.extend({create:is({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:is({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:is({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),il=nE.method,iu=nE.extend({fundCashBalance:il({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),ic=nE.method,id=nE.extend({create:ic({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:ic({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:ic({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),ip=nE.method,ih=nE.extend({create:ip({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:ip({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:ip({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:ip({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:ip({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),im=nE.method,iy=nE.extend({retrieve:im({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:im({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),iv=nE.method,ig=nE.extend({create:iv({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:iv({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:iv({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:iv({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:iv({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:iv({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:iv({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:iv({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),iT=nE.method,iE=nE.extend({retrieve(...e){return iT({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return iT({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>iT({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeContext:e.context}])}):e}}),i_=nE.method,iS=nE.extend({create:i_({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:i_({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:i_({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:i_({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),ib=nE.method,iP=nE.extend({create:ib({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:ib({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:ib({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:ib({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:ib({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:ib({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:ib({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),iO=nE.method,iI=nE.extend({fail:iO({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:iO({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:iO({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),iw=nE.method,iA=nE.extend({create:iw({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:iw({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:iw({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:iw({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),iN=nE.method,ix=nE.extend({create:iN({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:iN({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:iN({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:iN({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:iN({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),iR=nE.method,iD=nE.extend({create:iR({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),iL=nE.method,iC=nE.extend({create:iL({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),iM=nE.method,ik=nE.extend({create:iM({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),iF=nE.method,ij=nE.extend({create:iF({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),iU=nE.method,iG=nE.extend({create:iU({method:"POST",fullPath:"/v1/billing/meter_events"})}),iq=nE.method,iK=nE.extend({create:iq({method:"POST",fullPath:"/v2/billing/meter_events"})}),iH=nE.method,iB=nE.extend({create:iH({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:iH({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:iH({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:iH({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:iH({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:iH({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:iH({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),i$=nE.method,iQ=nE.extend({create:i$({method:"POST",fullPath:"/v1/terminal/onboarding_links"})}),iz=nE.method,iV=nE.extend({create:iz({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:iz({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:iz({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:iz({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:iz({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),iY=nE.method,iW=nE.extend({update:iY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:iY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:iY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:iY({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),iJ=nE.method,iX=nE.extend({create:iJ({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:iJ({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:iJ({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:iJ({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),iZ=nE.method,i0=nE.extend({update:iZ({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:iZ({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:iZ({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:iZ({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),i1=nE.method,i2=nE.extend({create:i1({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:i1({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:i1({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:i1({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),i8=nE.method,i3=nE.extend({create:i8({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:i8({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:i8({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:i8({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),i4=nE.method,i9=nE.extend({activate:i4({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:i4({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:i4({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),i5=nE.method,i6=nE.extend({retrieve:i5({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:i5({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),i7=nE.method,oe=nE.extend({retrieve:i7({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:i7({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),ot=nE.method,or=nE.extend({create:ot({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:ot({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:ot({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:ot({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:ot({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),on=nE.method,oi=nE.extend({presentPaymentMethod:on({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:on({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:on({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})}),oo=nE.method,os=nE.extend({create:oo({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),oa=nE.method,ol=nE.extend({retrieve:oa({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:oa({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),ou=nE.method,oc=nE.extend({create:ou({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),od=nE.method,op=nE.extend({retrieve:od({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:od({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),oh=nE.method,of=nE.extend({expire:oh({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),om=nE.method,oy=nE.extend({create:om({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:om({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:om({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:om({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),ov=nE.method,og=nE.extend({create:ov({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:ov({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:ov({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),oT=nE.method,oE=nE.extend({retrieve:oT({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:oT({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),o_=nE.method,oS=nE.extend({create:o_({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:o_({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:o_({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),ob=nE.method,oP=nE.extend({retrieve:ob({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:ob({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),oO=nE.method,oI=nE.extend({create:oO({method:"POST",fullPath:"/v1/apps/secrets"}),list:oO({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:oO({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:oO({method:"GET",fullPath:"/v1/apps/secrets/find"})}),ow=nE.method,oA=nE.extend({create:ow({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),oN=nE.method,ox=nE.extend({create:oN({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:oN({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:oN({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:oN({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:oN({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:oN({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),oR=nE.method,oD=nE.extend({create:oR({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:oR({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),oL=nE.method,oC=nE.extend({retrieve:oL({method:"GET",fullPath:"/v1/tax/settings"}),update:oL({method:"POST",fullPath:"/v1/tax/settings"})}),oM=nE.method,ok=nE.extend({retrieve:oM({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:oM({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),oF=nE.method,oj=nE.extend({create:oF({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:oF({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:oF({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:oF({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:oF({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),oU=nE.method,oG=nE.extend({retrieve:oU({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:oU({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:oU({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),oq=nE.method,oK=nE.extend({retrieve:oq({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:oq({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),oH=nE.method,oB=nE.extend({retrieve:oH({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:oH({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),o$=nE.method,oQ=nE.extend({retrieve:o$({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:o$({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:o$({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),oz=nE.method,oV=nE.extend({retrieve:oz({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:oz({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:oz({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:oz({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),oY=nE.method,oW=nE.extend({createForceCapture:oY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:oY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:oY({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),oJ=nE.method,oX=nE.extend({retrieve:oJ({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:oJ({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),oZ=nE.method,o0=nE.extend({create:oZ({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:oZ({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:oZ({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:oZ({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),o1=nE.method,o2=nE.extend({create:o1({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:o1({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:o1({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:o1({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:o1({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),o8=nE.method,o3=nE.extend({retrieve:o8({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:o8({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),o4=nE.method,o9=nE.extend({create:o4({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:o4({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:o4({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:o4({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:o4({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:o4({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),o5=nE.method,o6=nE.extend({create:o5({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?o5({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),o5({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:o5({method:"POST",fullPath:"/v1/accounts/{account}"}),list:o5({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:o5({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:o5({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:o5({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:o5({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:o5({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:o5({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:o5({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:o5({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:o5({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:o5({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:o5({method:"GET",fullPath:"/v1/account"}),retrieveCapability:o5({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:o5({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:o5({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:o5({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:o5({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:o5({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),o7=nE.method,se=nE.extend({create:o7({method:"POST",fullPath:"/v1/account_links"})}),st=nE.method,sr=nE.extend({create:st({method:"POST",fullPath:"/v1/account_sessions"})}),sn=nE.method,si=nE.extend({create:sn({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:sn({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:sn({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:sn({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),so=nE.method,ss=nE.extend({retrieve:so({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:so({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:so({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:so({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:so({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:so({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),sa=nE.method,sl=nE.extend({retrieve:sa({method:"GET",fullPath:"/v1/balance"})}),su=nE.method,sc=nE.extend({retrieve:su({method:"GET",fullPath:"/v1/balance_settings"}),update:su({method:"POST",fullPath:"/v1/balance_settings"})}),sd=nE.method,sp=nE.extend({retrieve:sd({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:sd({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),sh=nE.method,sf=nE.extend({create:sh({method:"POST",fullPath:"/v1/charges"}),retrieve:sh({method:"GET",fullPath:"/v1/charges/{charge}"}),update:sh({method:"POST",fullPath:"/v1/charges/{charge}"}),list:sh({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:sh({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:sh({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),sm=nE.method,sy=nE.extend({retrieve:sm({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),sv=nE.method,sg=nE.extend({retrieve:sv({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:sv({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),sT=nE.method,sE=nE.extend({create:sT({method:"POST",fullPath:"/v1/coupons"}),retrieve:sT({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:sT({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:sT({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:sT({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),s_=nE.method,sS=nE.extend({create:s_({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:s_({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:s_({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:s_({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:s_({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:s_({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:s_({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:s_({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),sb=nE.method,sP=nE.extend({create:sb({method:"POST",fullPath:"/v1/customer_sessions"})}),sO=nE.method,sI=nE.extend({create:sO({method:"POST",fullPath:"/v1/customers"}),retrieve:sO({method:"GET",fullPath:"/v1/customers/{customer}"}),update:sO({method:"POST",fullPath:"/v1/customers/{customer}"}),list:sO({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:sO({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:sO({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:sO({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:sO({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:sO({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:sO({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:sO({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:sO({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:sO({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:sO({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:sO({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:sO({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:sO({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:sO({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:sO({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:sO({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:sO({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:sO({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:sO({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:sO({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:sO({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:sO({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:sO({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:sO({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),sw=nE.method,sA=nE.extend({retrieve:sw({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:sw({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:sw({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:sw({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),sN=nE.method,sx=nE.extend({create:sN({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:sN({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),sR=nE.method,sD=nE.extend({retrieve:sR({method:"GET",fullPath:"/v1/events/{id}"}),list:sR({method:"GET",fullPath:"/v1/events",methodType:"list"})}),sL=nE.method,sC=nE.extend({retrieve:sL({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:sL({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),sM=nE.method,sk=nE.extend({create:sM({method:"POST",fullPath:"/v1/file_links"}),retrieve:sM({method:"GET",fullPath:"/v1/file_links/{link}"}),update:sM({method:"POST",fullPath:"/v1/file_links/{link}"}),list:sM({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),sF=nE.method,sj=nE.extend({create:sF({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:sF({method:"GET",fullPath:"/v1/files/{file}"}),list:sF({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:function(e,t,r,n){if(t=t||{},"POST"!==e)return n(null,rK(t));this._stripe._platformFunctions.tryBufferData(t).then(e=>n(null,((e,t,r)=>{let n,i,o=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]=`multipart/form-data; boundary=${o}`;let s=new TextEncoder,a=new Uint8Array(0),l=s.encode("\r\n");function u(e){let t=a,r=e instanceof Uint8Array?e:new Uint8Array(s.encode(e));(a=new Uint8Array(t.length+r.length+2)).set(t),a.set(r,t.length),a.set(l,a.length-2)}function c(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let d=(n={},(i=(e,t)=>{Object.entries(e).forEach(([e,r])=>{let o,s=t?`${t}[${e}]`:e;if(("function"==(o=typeof r)||"object"===o)&&r){if(!(r instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(r,"data"))return i(r,s);n[s]=r}else n[s]=String(r)})})(t,null),n);for(let e in d){if(!Object.prototype.hasOwnProperty.call(d,e))continue;let t=d[e];u(`--${o}`),Object.prototype.hasOwnProperty.call(t,"data")?(u(`Content-Disposition: form-data; name=${c(e)}; filename=${c(t.name||"blob")}`),u(`Content-Type: ${t.type||"application/octet-stream"}`),u(""),u(t.data)):(u(`Content-Disposition: form-data; name=${c(e)}`),u(""),u(t))}return u(`--${o}--`),a})(0,e,r))).catch(e=>n(e,null))}}),sU=nE.method,sG=nE.extend({create:sU({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:sU({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:sU({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:sU({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:sU({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),sq=nE.method,sK=nE.extend({retrieve:sq({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:sq({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),sH=nE.method,sB=nE.extend({retrieve:sH({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:sH({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:sH({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:sH({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),s$=nE.method,sQ=nE.extend({create:s$({method:"POST",fullPath:"/v1/invoices"}),retrieve:s$({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:s$({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:s$({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:s$({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:s$({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:s$({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:s$({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:s$({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),sz=nE.method,sV=nE.extend({retrieve:sz({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),sY=nE.method,sW="connect.stripe.com",sJ=nE.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let r="oauth/authorize";return(t=t||{}).express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${sW}/${r}?${rK(e)}`},token:sY({method:"POST",path:"oauth/token",host:sW}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),sY({method:"POST",path:"oauth/deauthorize",host:sW}).apply(this,[e,...t])}}),sX=nE.method,sZ=nE.extend({retrieve:sX({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:sX({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})}),s0=nE.method,s1=nE.extend({create:s0({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:s0({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:s0({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:s0({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:s0({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:s0({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),s2=nE.method,s8=nE.extend({create:s2({method:"POST",fullPath:"/v1/payment_links"}),retrieve:s2({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:s2({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:s2({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:s2({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),s3=nE.method,s4=nE.extend({create:s3({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:s3({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:s3({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:s3({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),s9=nE.method,s5=nE.extend({create:s9({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:s9({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:s9({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:s9({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:s9({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),s6=nE.method,s7=nE.extend({create:s6({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:s6({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:s6({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:s6({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:s6({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:s6({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),ae=nE.method,at=nE.extend({retrieve:ae({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:ae({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})}),ar=nE.method,an=nE.extend({create:ar({method:"POST",fullPath:"/v1/payouts"}),retrieve:ar({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:ar({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:ar({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:ar({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:ar({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),ai=nE.method,ao=nE.extend({create:ai({method:"POST",fullPath:"/v1/plans"}),retrieve:ai({method:"GET",fullPath:"/v1/plans/{plan}"}),update:ai({method:"POST",fullPath:"/v1/plans/{plan}"}),list:ai({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:ai({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),as=nE.method,aa=nE.extend({create:as({method:"POST",fullPath:"/v1/prices"}),retrieve:as({method:"GET",fullPath:"/v1/prices/{price}"}),update:as({method:"POST",fullPath:"/v1/prices/{price}"}),list:as({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:as({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),al=nE.method,au=nE.extend({create:al({method:"POST",fullPath:"/v1/products"}),retrieve:al({method:"GET",fullPath:"/v1/products/{id}"}),update:al({method:"POST",fullPath:"/v1/products/{id}"}),list:al({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:al({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:al({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:al({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:al({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:al({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:al({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),ac=nE.method,ad=nE.extend({create:ac({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:ac({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:ac({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:ac({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),ap=nE.method,ah=nE.extend({create:ap({method:"POST",fullPath:"/v1/quotes"}),retrieve:ap({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:ap({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:ap({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:ap({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:ap({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:ap({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:ap({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:ap({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:ap({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),af=nE.method,am=nE.extend({create:af({method:"POST",fullPath:"/v1/refunds"}),retrieve:af({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:af({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:af({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:af({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),ay=nE.method,av=nE.extend({retrieve:ay({method:"GET",fullPath:"/v1/reviews/{review}"}),list:ay({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:ay({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),ag=nE.method,aT=nE.extend({list:ag({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),aE=nE.method,a_=nE.extend({create:aE({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:aE({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:aE({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:aE({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:aE({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:aE({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:aE({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),aS=nE.method,ab=nE.extend({create:aS({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:aS({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:aS({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:aS({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),aP=nE.method,aO=nE.extend({create:aP({method:"POST",fullPath:"/v1/sources"}),retrieve:aP({method:"GET",fullPath:"/v1/sources/{source}"}),update:aP({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:aP({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:aP({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),aI=nE.method,aw=nE.extend({create:aI({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:aI({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:aI({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:aI({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:aI({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),aA=nE.method,aN=nE.extend({create:aA({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:aA({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:aA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:aA({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:aA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:aA({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),ax=nE.method,aR=nE.extend({create:ax({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ax({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ax({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ax({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ax({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ax({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:ax({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:ax({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ax({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),aD=nE.method,aL=nE.extend({retrieve:aD({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:aD({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),aC=nE.method,aM=nE.extend({create:aC({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:aC({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:aC({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:aC({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),ak=nE.method,aF=nE.extend({create:ak({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:ak({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:ak({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:ak({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),aj=nE.method,aU=nE.extend({create:aj({method:"POST",fullPath:"/v1/tokens"}),retrieve:aj({method:"GET",fullPath:"/v1/tokens/{token}"})}),aG=nE.method,aq=nE.extend({create:aG({method:"POST",fullPath:"/v1/topups"}),retrieve:aG({method:"GET",fullPath:"/v1/topups/{topup}"}),update:aG({method:"POST",fullPath:"/v1/topups/{topup}"}),list:aG({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:aG({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),aK=nE.method,aH=nE.extend({create:aK({method:"POST",fullPath:"/v1/transfers"}),retrieve:aK({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:aK({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:aK({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:aK({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:aK({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:aK({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:aK({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),aB=nE.method,a$=nE.extend({create:aB({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:aB({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:aB({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:aB({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:aB({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),aQ=nP("apps",{Secrets:oI}),az=nP("billing",{Alerts:nG,CreditBalanceSummary:ie,CreditBalanceTransactions:ir,CreditGrants:io,MeterEventAdjustments:iD,MeterEvents:iG,Meters:iB}),aV=nP("billingPortal",{Configurations:n2,Sessions:oA}),aY=nP("checkout",{Sessions:ox}),aW=nP("climate",{Orders:iV,Products:oe,Suppliers:ok}),aJ=nP("entitlements",{ActiveEntitlements:nj,Features:iS}),aX=nP("financialConnections",{Accounts:nx,Sessions:oD,Transactions:oB}),aZ=nP("forwarding",{Requests:oS}),a0=nP("identity",{VerificationReports:o3,VerificationSessions:o9}),a1=nP("issuing",{Authorizations:nB,Cardholders:nW,Cards:nX,Disputes:ih,PersonalizationDesigns:i3,PhysicalBundles:i6,Tokens:oG,Transactions:oQ}),a2=nP("radar",{EarlyFraudWarnings:iy,ValueListItems:o0,ValueLists:o2}),a8=nP("reporting",{ReportRuns:og,ReportTypes:oE}),a3=nP("sigma",{ScheduledQueryRuns:oP}),a4=nP("tax",{Associations:nK,Calculations:nV,Registrations:oy,Settings:oC,Transactions:oV}),a9=nP("terminal",{Configurations:n3,ConnectionTokens:n6,Locations:ix,OnboardingLinks:iQ,Readers:or}),a5=nP("testHelpers",{ConfirmationTokens:n9,Customers:iu,Refunds:of,TestClocks:oj,Issuing:nP("issuing",{Authorizations:nQ,Cards:n0,PersonalizationDesigns:i9,Transactions:oW}),Terminal:nP("terminal",{Readers:oi}),Treasury:nP("treasury",{InboundTransfers:iI,OutboundPayments:iW,OutboundTransfers:i0,ReceivedCredits:os,ReceivedDebits:oc})}),a6=nP("treasury",{CreditReversals:ia,DebitReversals:id,FinancialAccounts:iP,InboundTransfers:iA,OutboundPayments:iX,OutboundTransfers:i2,ReceivedCredits:ol,ReceivedDebits:op,TransactionEntries:oK,Transactions:oX}),a7=nP("v2",{Billing:nP("billing",{MeterEventAdjustments:iC,MeterEventSession:ik,MeterEventStream:ij,MeterEvents:iK}),Core:nP("core",{AccountLinks:nI,AccountTokens:nA,Accounts:nk,EventDestinations:ig,Events:iE})});e.s(["Apps",0,aQ,"Billing",0,az,"BillingPortal",0,aV,"Checkout",0,aY,"Climate",0,aW,"Entitlements",0,aJ,"FinancialConnections",0,aX,"Forwarding",0,aZ,"Identity",0,a0,"Issuing",0,a1,"Radar",0,a2,"Reporting",0,a8,"Sigma",0,a3,"Tax",0,a4,"Terminal",0,a9,"TestHelpers",0,a5,"Treasury",0,a6,"V2",0,a7],13800),e.i(13800),e.s(["Account",0,o6,"AccountLinks",0,se,"AccountSessions",0,sr,"Accounts",0,o6,"ApplePayDomains",0,si,"ApplicationFees",0,ss,"Apps",0,aQ,"Balance",0,sl,"BalanceSettings",0,sc,"BalanceTransactions",0,sp,"Billing",0,az,"BillingPortal",0,aV,"Charges",0,sf,"Checkout",0,aY,"Climate",0,aW,"ConfirmationTokens",0,sy,"CountrySpecs",0,sg,"Coupons",0,sE,"CreditNotes",0,sS,"CustomerSessions",0,sP,"Customers",0,sI,"Disputes",0,sA,"Entitlements",0,aJ,"EphemeralKeys",0,sx,"Events",0,sD,"ExchangeRates",0,sC,"FileLinks",0,sk,"Files",0,sj,"FinancialConnections",0,aX,"Forwarding",0,aZ,"Identity",0,a0,"InvoiceItems",0,sG,"InvoicePayments",0,sK,"InvoiceRenderingTemplates",0,sB,"Invoices",0,sQ,"Issuing",0,a1,"Mandates",0,sV,"OAuth",0,sJ,"PaymentAttemptRecords",0,sZ,"PaymentIntents",0,s1,"PaymentLinks",0,s8,"PaymentMethodConfigurations",0,s4,"PaymentMethodDomains",0,s5,"PaymentMethods",0,s7,"PaymentRecords",0,at,"Payouts",0,an,"Plans",0,ao,"Prices",0,aa,"Products",0,au,"PromotionCodes",0,ad,"Quotes",0,ah,"Radar",0,a2,"Refunds",0,am,"Reporting",0,a8,"Reviews",0,av,"SetupAttempts",0,aT,"SetupIntents",0,a_,"ShippingRates",0,ab,"Sigma",0,a3,"Sources",0,aO,"SubscriptionItems",0,aw,"SubscriptionSchedules",0,aN,"Subscriptions",0,aR,"Tax",0,a4,"TaxCodes",0,aL,"TaxIds",0,aM,"TaxRates",0,aF,"Terminal",0,a9,"TestHelpers",0,a5,"Tokens",0,aU,"Topups",0,aq,"Transfers",0,aH,"Treasury",0,a6,"V2",0,a7,"WebhookEndpoints",0,a$],18117);var le=e.i(18117);let lt="api.stripe.com",lr="/v1/",ln=["name","version","url","partner_id"],li=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],lo=new(function(e,t=e=>new nh(e,nE.MAX_BUFFERED_REQUEST_METRICS)){function r(n,i={}){if(!(this instanceof r))return new r(n,i);let o=this._getPropsFromConfig(i);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let s=o.httpAgent||null;this._api={host:o.host||lt,port:o.port||"443",protocol:o.protocol||"https",basePath:lr,version:o.apiVersion||nS,timeout:rY("timeout",o.timeout,8e4),maxNetworkRetries:rY("maxNetworkRetries",o.maxNetworkRetries,2),agent:s,httpClient:o.httpClient||(s?this._platformFunctions.createNodeHttpClient(s):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};let a=o.typescript||!1;a!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=a),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(n,o.authenticator),this.errors=np,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=!1!==o.telemetry,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.PACKAGE_VERSION="20.1.2",r.API_VERSION=nS,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},"u"<typeof process?{}:{lang_version:process.version,platform:process.platform}),r.StripeResource=nE,r.StripeContext=n_,r.resources=le,r.HttpClient=rR,r.HttpClientResponse=rD,r.CryptoProvider=rI,r.webhooks=function(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,r,n,i,o,s){try{if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(e,r,n,i||t.DEFAULT_TOLERANCE,o,s)}catch(e){throw e instanceof rw&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,r,n,i,o,s){if(!this.signature)throw Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(e,r,n,i||t.DEFAULT_TOLERANCE,o,s),e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){let t=l(e),r=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(r)},generateTestHeaderStringAsync:async function(e){let t=l(e),r=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(r)}},r={EXPECTED_SCHEME:"v1",verifyHeader(e,t,r,s,l,u){let{decodedHeader:c,decodedPayload:d,details:p,suspectPayloadType:h}=i(e,t,this.EXPECTED_SCHEME),f=/\s/.test(r),m=(l=l||a()).computeHMACSignature(n(d,p),r);return o(d,c,p,m,s,h,f,u),!0},async verifyHeaderAsync(e,t,r,s,l,u){let{decodedHeader:c,decodedPayload:d,details:p,suspectPayloadType:h}=i(e,t,this.EXPECTED_SCHEME),f=/\s/.test(r);l=l||a();let m=await l.computeHMACSignatureAsync(n(d,p),r);return o(d,c,p,m,s,h,f,u)}};function n(e,t){return`${t.timestamp}.${e}`}function i(e,t,r){var n,i;if(!e)throw new no(t,e,{message:"No webhook payload was provided."});let o="string"!=typeof e&&!(e instanceof Uint8Array),s=new TextDecoder("utf8"),a=e instanceof Uint8Array?s.decode(e):e;if(Array.isArray(t))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new no(t,e,{message:"No stripe-signature header value was provided."});let l=t instanceof Uint8Array?s.decode(t):t,u=(n=l,i=r,"string"!=typeof n?null:n.split(",").reduce((e,t)=>{let r=t.split("=");return"t"===r[0]&&(e.timestamp=parseInt(r[1],10)),r[0]===i&&e.signatures.push(r[1]),e},{timestamp:-1,signatures:[]}));if(!u||-1===u.timestamp)throw new no(l,a,{message:"Unable to extract timestamp and signatures from header"});if(!u.signatures.length)throw new no(l,a,{message:"No signatures found with expected scheme"});return{decodedPayload:a,decodedHeader:l,details:u,suspectPayloadType:o}}function o(t,r,n,i,o,s,a,l){let u=!!n.signatures.filter(e.secureCompare.bind(e,i)).length,c="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",d=a?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!u){if(s)throw new no(r,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+c+"\n"+d});throw new no(r,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+c+"\n"+d})}let p=Math.floor(("number"==typeof l?l:Date.now())/1e3)-n.timestamp;if(o>0&&p>o)throw new no(r,t,{message:"Timestamp outside the tolerance zone"});return!0}let s=null;function a(){return s||(s=e.createDefaultCryptoProvider()),s}function l(e){if(!e)throw new r5({message:"Options are required"});let t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),n=e.scheme||r.EXPECTED_SCHEME,i=e.cryptoProvider||a(),o=`${t}.${e.payload}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:n,cryptoProvider:i,payloadString:o,generateHeaderString:e=>`t=${t},${n}=${e}`})}return t.signature=r,t}(e),r.errors=np,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,r,n){return this._requestSender._rawRequest(e,t,r,n)},_setAuthenticator(e,t){if(e&&t)throw Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?rW(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw Error("AppInfo must be an object.");if(e&&!e.name)throw Error("AppInfo.name is required");e=e||{},this._appInfo=ln.reduce((t,r)=>("string"==typeof e[r]&&((t=t||{})[r]=e[r]),t),{})},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return lt;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return lr;case"DEFAULT_API_VERSION":return nS;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 5;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return .5}return r[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,r){let n=rY(e,t,r);this._setApiField(e,n)},getMaxNetworkRetryDelay:()=>5,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(e){return this.getClientUserAgentSeeded(r.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(r=>{var n;let i={};for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=encodeURIComponent(null!=(n=e[t])?n:"null"));i.uname=encodeURIComponent(r||"UNKNOWN");let o=this.getApiField("httpClient");o&&(i.httplib=encodeURIComponent(o.getClientName())),this._appInfo&&(i.application=this._appInfo),t(JSON.stringify(i))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let e in le)Object.prototype.hasOwnProperty.call(le,e)&&(this["OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)]=new le[e](this))},_getPropsFromConfig(e){if(!e)return{};let t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter(e=>!li.includes(e)).length>0)throw Error(`Config object may only contain the following: ${li.join(", ")}`);return e},parseEventNotification(e,t,r,n,i,o){let s=this.webhooks.constructEvent(e,t,r,n,i,o);return s.context&&(s.context=n_.parse(s.context)),s.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${s.id}`,void 0,{stripeContext:s.context},["fetch_event"]),s.fetchRelatedObject=()=>s.related_object?this._requestSender._rawRequest("GET",s.related_object.url,void 0,{stripeContext:s.context},["fetch_related_object"]):Promise.resolve(null),s}},r}(new class extends r3{constructor(){super(),this._exec=nc.exec,this._UNAME_CACHE=null}uuid4(){return rP.randomUUID?rP.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,r)=>{if(t)return e(null);e(r)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(e,t){if(!e||!t)throw Error("secureCompare must receive two arguments");if(e.length!==t.length)return!1;if(rP.timingSafeEqual){let r=new TextEncoder,n=r.encode(e),i=r.encode(t);return rP.timingSafeEqual(n,i)}return super.secureCompare(e,t)}createEmitter(){return new rO.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof rO.EventEmitter))return Promise.resolve(e);let t=[];return new Promise((r,n)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{let n,i,o=Object.assign({},e);o.file.data=(n=new Uint8Array(t.reduce((e,t)=>e+t.length,0)),i=0,t.forEach(e=>{n.set(e,i),i+=e.length}),n),r(o)}).on("error",e=>{n(new nd({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new rF(e)}createDefaultHttpClient(){return new rF}createNodeCryptoProvider(){return new rA}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}}))(process.env.STRIPE_SECRET_KEY||"",{apiVersion:"2024-12-18.acacia"}),ls=new B.GraphQLScalarType({name:"DateTime",description:"Date custom scalar type",serialize:e=>e&&"function"==typeof e.toDate?e.toDate().toISOString():e instanceof Date?e.toISOString():e,parseValue:e=>new Date(e),parseLiteral:e=>e.kind===q.Kind.STRING?new Date(e.value):null}),la=new B.GraphQLScalarType({name:"JSON",description:"JSON custom scalar type",serialize:e=>e,parseValue:e=>e,parseLiteral:e=>e.kind===q.Kind.OBJECT?"json_object":null}),ll=e=>{if(!e.uid)throw Error("Unauthorized");return e.uid},lu=async(e,t)=>{let r=await rS.collection("organizations").doc(t).get();if(!r.exists)throw Error("Organization not found");let n=r.data();if(n?.ownerUid===e||!(await rS.collection("organizations").doc(t).collection("members").where("uid","==",e).get()).empty)return!0;throw Error("Access denied: Not a member of this organization")};async function lc(e){let t="";if(e instanceof Request)t=e.headers.get("authorization")||"";else if("headers"in e){let r=e.headers.authorization;t=Array.isArray(r)?r[0]:r||""}let r=t.replace("Bearer ","");if(!r)return{uid:null,email:null};try{let e=await r_.verifyIdToken(r);return{uid:e.uid,email:e.email||null,token:e}}catch(e){return console.warn("Auth token verification failed:",e),{uid:null,email:null}}}let ld=new ro({typeDefs:rT,resolvers:{DateTime:ls,JSON:la,Query:{viewer:async(e,t,r)=>{let n=ll(r),i=await rS.collection("users").doc(n).get();return{uid:n,user:i.data(),orgs:[]}},organization:async(e,{id:t},r)=>{let n=ll(r);await lu(n,t);let i=await rS.collection("organizations").doc(t).get();return{id:i.id,...i.data()}},organizations:async(e,t,r)=>{let n=ll(r),i=(await rS.collectionGroup("members").where("uid","==",n).get()).docs.map(e=>e.data().orgId);if(0===i.length)return[];let o=Array.from(new Set(i)).map(e=>rS.collection("organizations").doc(e));return(await rS.getAll(...o)).map(e=>({id:e.id,...e.data()}))},leads:async(e,{status:t,pagination:r},n)=>(ll(n),console.warn("Global leads query not fully implemented without orgId input."),{nodes:[],pageInfo:{hasNextPage:!1}}),products:async(e,{active:t},r)=>(ll(r),[])},Mutation:{syncViewer:async(e,t,r)=>{let n=ll(r),i=rS.collection("users").doc(n);return await i.set({uid:n,email:r.email||"",updatedAt:new Date,displayName:r.token?.name||"",photoUrl:r.token?.picture||""},{merge:!0}),{uid:n,user:(await i.get()).data(),orgs:[]}},createOrganization:async(e,{input:t},r)=>{let n=ll(r),{name:i,slug:o}=t,s=rS.collection("organizations").doc(),a=new Date,l={id:s.id,ownerUid:n,name:i,slug:o,createdAt:a,updatedAt:a};return await s.set(l),await s.collection("members").add({orgId:s.id,uid:n,role:"OWNER",createdAt:a}),l},createLead:async(e,{input:t},r)=>{let n=ll(r);await lu(n,t.orgId);let i=rS.collection("leads").doc(),o=new Date,s={id:i.id,createdByUid:n,...t,status:"NEW",notesCount:0,createdAt:o,updatedAt:o};return await i.set(s),s},uploadDocument:async(e,{input:t},r)=>{let n=ll(r);await lu(n,t.orgId);let{filename:i,mimeType:o,sizeBytes:s,orgId:a,entityType:l,entityId:u}=t,c=`orgs/${a}/uploads/${Date.now()}_${i}`,d=rS.collection("uploads").doc(),p=new Date,h={id:d.id,orgId:a,ownerUid:n,entityType:l,entityId:u,filename:i,mimeType:o,sizeBytes:s,storagePath:c,createdAt:p};await d.set(h);let f=rb.bucket("revolv-80ee0.firebasestorage.app").file(c),[m]=await f.getSignedUrl({version:"v4",action:"write",expires:Date.now()+36e5,contentType:o});return{doc:h,signedUploadUrl:m}},createScan:async(e,{input:t},r)=>{let n=ll(r),{orgId:i,leadId:o,input:s}=t;await lu(n,i);let a=rS.collection("scans").doc(),l=new Date,u={id:a.id,orgId:i,ownerUid:n,leadId:o,status:"QUEUED",input:s,result:null,riskFlags:[],createdAt:l,updatedAt:l};return await a.set(u),u},createOrder:async(e,{input:t},r)=>{let n=ll(r),{orgId:i,items:o,successUrl:s,cancelUrl:a}=t;await lu(n,i);let l=[],u=0;for(let e of o){let t=await rS.collection("products").doc(e.productId).get();if(!t.exists)throw Error(`Product ${e.productId} not found`);let r=t.data();r?.stripePriceId&&(l.push({price:r.stripePriceId,quantity:e.quantity}),u+=(r.amountCents||0)*e.quantity)}if(0===l.length)throw Error("No valid items found");let c=rS.collection("purchases").doc(),d=new Date,p=await lo.checkout.sessions.create({mode:"payment",payment_method_types:["card","klarna","affirm"],line_items:l,success_url:s,cancel_url:a,client_reference_id:c.id,metadata:{orgId:i,uid:n,orderId:c.id}}),h={id:c.id,orgId:i,buyerUid:n,status:"CREATED",currency:"usd",subtotalCents:u,totalCents:u,items:o.map(e=>({...e,amountCents:0,name:"Product"})),stripeCheckoutSessionId:p.id,createdAt:d,updatedAt:d};return await c.set(h),{order:h,stripeCheckoutUrl:p.url}}},Viewer:{orgs:async e=>{let t=e.uid,r=(await rS.collectionGroup("members").where("uid","==",t).get()).docs.map(e=>e.data().orgId);if(0===r.length)return[];let n=Array.from(new Set(r)).map(e=>rS.collection("organizations").doc(e));return(await rS.getAll(...n)).map(e=>({id:e.id,...e.data()}))}},Organization:{members:async e=>(await rS.collection("organizations").doc(e.id).collection("members").get()).docs.map(e=>({id:e.id,...e.data()}))}}}),lp=(0,rc.startServerAndCreateNextHandler)(ld,{context:async e=>lc(e)});async function lh(e){return lp(e)}async function lf(e){return lp(e)}e.s(["GET",()=>lh,"POST",()=>lf],75973);var lm=e.i(75973);let ly=new p.AppRouteRouteModule({definition:{kind:h.RouteKind.APP_ROUTE,page:"/api/graphql/route",pathname:"/api/graphql",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/.gemini/antigravity/playground/final-cassini/src/app/api/graphql/route.ts",nextConfigOutput:"",userland:lm}),{workAsyncStorage:lv,workUnitAsyncStorage:lg,serverHooks:lT}=ly;function lE(){return(0,f.patchFetch)({workAsyncStorage:lv,workUnitAsyncStorage:lg})}async function l_(e,t,r){ly.isDev&&(0,m.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let n="/api/graphql/route";n=n.replace(/\/index$/,"")||"/";let i=await ly.prepare(e,t,{srcPage:n,multiZoneDraftMode:!1});if(!i)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:o,params:s,nextConfig:a,parsedUrl:l,isDraftMode:u,prerenderManifest:c,routerServerContext:d,isOnDemandRevalidate:p,revalidateOnlyGenerated:f,resolvedPathname:N,clientReferenceManifest:x,serverActionsManifest:R}=i,D=(0,g.normalizeAppPath)(n),L=!!(c.dynamicRoutes[D]||c.routes[N]),C=async()=>((null==d?void 0:d.render404)?await d.render404(e,t,l,!1):t.end("This page could not be found"),null);if(L&&!u){let e=!!c.routes[N],t=c.dynamicRoutes[D];if(t&&!1===t.fallback&&!e){if(a.experimental.adapterPath)return await C();throw new w.NoFallbackError}}let M=null;!L||ly.isDev||u||(M="/index"===(M=N)?"/":M);let k=!0===ly.isDev||!L,F=L&&!k;R&&x&&(0,v.setManifestsSingleton)({page:n,clientReferenceManifest:x,serverActionsManifest:R});let j=e.method||"GET",U=(0,y.getTracer)(),G=U.getActiveScopeSpan(),q={params:s,prerenderManifest:c,renderOpts:{experimental:{authInterrupts:!!a.experimental.authInterrupts},cacheComponents:!!a.cacheComponents,supportsDynamicResponse:k,incrementalCache:(0,m.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:a.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,i)=>ly.onRequestError(e,t,n,i,d)},sharedContext:{buildId:o}},K=new T.NodeNextRequest(e),H=new T.NodeNextResponse(t),B=E.NextRequestAdapter.fromNodeNextRequest(K,(0,E.signalFromNodeResponse)(t));try{let i=async e=>ly.handle(B,q).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=U.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==_.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=r.get("next.route");if(i){let t=`${j} ${i}`;e.setAttributes({"next.route":i,"http.route":i,"next.span_name":t}),e.updateName(t)}else e.updateName(`${j} ${n}`)}),o=!!(0,m.getRequestMeta)(e,"minimalMode"),s=async s=>{var l,m;let y=async({previousCacheEntry:a})=>{try{if(!o&&p&&f&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(s);e.fetchMetrics=q.renderOpts.fetchMetrics;let l=q.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let u=q.renderOpts.collectedTags;if(!L)return await (0,b.sendResponse)(K,H,n,q.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,P.toNodeOutgoingHttpHeaders)(n.headers);u&&(t[I.NEXT_CACHE_TAGS_HEADER]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==q.renderOpts.collectedRevalidate&&!(q.renderOpts.collectedRevalidate>=I.INFINITE_CACHE)&&q.renderOpts.collectedRevalidate,i=void 0===q.renderOpts.collectedExpire||q.renderOpts.collectedExpire>=I.INFINITE_CACHE?void 0:q.renderOpts.collectedExpire;return{value:{kind:A.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:i}}}}catch(t){throw(null==a?void 0:a.isStale)&&await ly.onRequestError(e,t,{routerKind:"App Router",routePath:n,routeType:"route",revalidateReason:(0,S.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:p})},!1,d),t}},v=await ly.handleResponse({req:e,nextConfig:a,cacheKey:M,routeKind:h.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:c,isRoutePPREnabled:!1,isOnDemandRevalidate:p,revalidateOnlyGenerated:f,responseGenerator:y,waitUntil:r.waitUntil,isMinimalMode:o});if(!L)return null;if((null==v||null==(l=v.value)?void 0:l.kind)!==A.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==v||null==(m=v.value)?void 0:m.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",p?"REVALIDATED":v.isMiss?"MISS":v.isStale?"STALE":"HIT"),u&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let g=(0,P.fromNodeOutgoingHttpHeaders)(v.value.headers);return o&&L||g.delete(I.NEXT_CACHE_TAGS_HEADER),!v.cacheControl||t.getHeader("Cache-Control")||g.get("Cache-Control")||g.set("Cache-Control",(0,O.getCacheControlHeader)(v.cacheControl)),await (0,b.sendResponse)(K,H,new Response(v.value.body,{headers:g,status:v.value.status||200})),null};G?await s(G):await U.withPropagatedContext(e.headers,()=>U.trace(_.BaseServerSpan.handleRequest,{spanName:`${j} ${n}`,kind:y.SpanKind.SERVER,attributes:{"http.method":j,"http.target":e.url}},s))}catch(t){if(t instanceof w.NoFallbackError||await ly.onRequestError(e,t,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,S.getRevalidateReason)({isStaticGeneration:F,isOnDemandRevalidate:p})},!1,d),L)throw t;return await (0,b.sendResponse)(K,H,new Response(null,{status:500})),null}}e.s(["handler",()=>l_,"patchFetch",()=>lE,"routeModule",()=>ly,"serverHooks",()=>lT,"workAsyncStorage",()=>lv,"workUnitAsyncStorage",()=>lg],27931)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__31ae36c6._.js.map