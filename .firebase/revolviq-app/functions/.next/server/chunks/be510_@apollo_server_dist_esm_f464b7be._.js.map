{"version":3,"sources":["../../../../../../../.gemini/antigravity/playground/final-cassini/node_modules/%40apollo/server/src/generated/packageVersion.ts","../../../../../../../.gemini/antigravity/playground/final-cassini/node_modules/%40apollo/server/src/plugin/schemaIsSubgraph.ts"],"sourcesContent":["export const packageVersion = \"5.2.0\";\n","import {\n  type GraphQLSchema,\n  isObjectType,\n  isScalarType,\n  isNonNullType,\n} from 'graphql';\n\n// Returns true if it appears that the schema was appears to be of a subgraph\n// (eg, returned from @apollo/subgraph's buildSubgraphSchema). This strategy\n// avoids depending explicitly on @apollo/subgraph or relying on something that\n// might not survive transformations like monkey-patching a boolean field onto\n// the schema.\n//\n// This is used for two things:\n// 1) Determining whether traces should be added to responses if requested with\n//    an HTTP header. If you want to include these traces even for non-subgraphs\n//    (when requested via header, eg for Apollo Explorer's trace view) you can\n//    use ApolloServerPluginInlineTrace explicitly; if you want to never include\n//    these traces even for subgraphs you can use\n//    ApolloServerPluginInlineTraceDisabled.\n// 2) Determining whether schema-reporting should be allowed; subgraphs cannot\n//    report schemas, and we accordingly throw if it's attempted.\nexport function schemaIsSubgraph(schema: GraphQLSchema): boolean {\n  const serviceType = schema.getType('_Service');\n  if (!isObjectType(serviceType)) {\n    return false;\n  }\n  const sdlField = serviceType.getFields().sdl;\n  if (!sdlField) {\n    return false;\n  }\n\n  let sdlFieldType = sdlField.type;\n  if (isNonNullType(sdlFieldType)) {\n    sdlFieldType = sdlFieldType.ofType;\n  }\n  if (!isScalarType(sdlFieldType)) {\n    return false;\n  }\n  return sdlFieldType.name == 'String';\n}\n"],"names":[],"mappings":"+DAA8B,OAAO,CAAC,0BCAtC,IAAA,EAIE,CAJK,CAKA,CAHL,AAGc,CAAC,CADF,GACd,GAiBK,GAjBC,CAHO,EACZ,GAmBc,EAAiB,CAAqB,EACpD,IApBY,AAoBN,EAAc,AAnBpB,EAmB2B,GADG,CACJ,GAAT,AAAiB,CAAC,UAAU,CAAC,CAAC,AAC/C,GAAI,CAAA,CAAA,EAAC,EAAA,YAAA,AAAY,EAAC,GAChB,OAAO,CADoB,CAAC,AAG9B,EAHgC,CAAC,AACnB,CAAC,AAET,EAAW,EAAY,IAAf,KAAc,AAAU,EAAE,CAAC,GAAG,CAAC,AAC7C,GAAI,CAAC,EACH,MADW,CACJ,CADM,CAAC,AAIhB,GAHc,CAAC,AAGX,EAAe,EAAS,IAAI,CAAC,CAAN,EAAX,GAChB,AAGA,CAHA,EAAI,EAAA,aAAA,AAAa,EAAC,KAChB,EAAe,EAAa,GADA,CAAC,EACD,AAAM,AADH,CAAC,AACG,CAAvB,CAEV,CAFyB,AAEzB,CAAA,EAAC,EAAA,YAAA,AAAY,EAAC,IAGU,QAHE,AAGM,CAHL,AAGM,CAA9B,CAH0B,CAAC,AAGd,IAAI,AAC1B,CAAC,KADoB"}